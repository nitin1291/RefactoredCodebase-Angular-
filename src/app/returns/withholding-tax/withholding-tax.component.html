<div class="modal" id="loader" data-backdrop="static" data-keyboard="false"
    style="background-color:whitesmoke;opacity: 0.8;" *ngIf="serviceStarts == true">
    <div class="modal-dialog  modal-sm modal-dialog-centered">
        <div class="modal-content h-100 " style="border: none;  background-color: rgba(0,0,0,.0001) !important">

            <!-- Modal body -->
            <div class="modal-body" style="left:30%">
                <!-- <img  src="../../assets/images/loader.gif" />  -->
                <mat-spinner class="text-center" mode="indeterminate"></mat-spinner>
                <!-- <p-progressSpinner></p-progressSpinner> -->
            </div>
        </div>
    </div>
</div>
<!---- Form9 Starts Here -->
<!-- Step 1 -->
<div *ngIf="withholdingDetailsScreen" dir={{direction}} [ngClass]="{'lang-arabic':direction=='rtl'}">
    <div class="container" *ngIf="step==1">
        <div class="mb-24">
            <a class="text-Gray" [routerLink]="['/mains/returns/search']"> {{lang.form9Details.step1.path.t1}} > </a>
            {{lang.form9Details.step1.path.t2}}
        </div>
        <div class="mb-32 d-flex justify-content-between align-items-center">

            <a [routerLink]="['/mains/returns/search']"
                class="text-Watercourse d-flex font-weight-bold align-items-center">
                <img src="assets/images/arrow-left-green.svg" class="mr-10 img-reverse" alt="">
                {{lang.form9Details.step2.path}}
            </a>
            <div class="d-flex justify-content-between mb-24 align-items-center pt-2">
                <div class="vat-steps">
                    <ul class="p-0 m-0 list-style-none d-flex position-relative" *ngIf="!disableInputs">
                        <li><a (click)="step=1" class="active">1</a></li>
                        <li><a (click)="step=2">2</a></li>
                        <li><a [ngClass]="{'pointer-none':!withHoldingForm9.valid}" (click)="step=3">3</a>
                        </li>
                        <li><a [ngClass]="{'pointer-none':!withHoldingForm9.valid}" (click)="step=8">4</a>
                        </li>
                        <li><a [ngClass]="{'pointer-none':!withHoldingForm9.valid}" (click)="step=4">5</a></li>
                        <li><a [ngClass]="{'pointer-none':!withHoldingForm9.valid || !formSet.AName}"
                                (click)="step=5">6</a></li>
                    </ul>
                    <ul class="p-0 m-0 list-style-none d-flex position-relative" *ngIf="disableInputs">
                        <li><a (click)="step=1" class="active">1</a></li>
                        <li><a (click)="step=2">2</a></li>
                        <li><a (click)="step=3">3</a></li>
                        <li><a (click)="step=8">4</a></li>
                        <li><a (click)="step=4">5</a></li>
                        <li><a (click)="step=5">6</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="mb-24">
            <h2 class="mb-12">{{lang.form9Details.step1.title}}</h2>
            <div class="text-Gray font-16">{{lang.form9Details.step1.subtitle}}</div>
        </div>
        <div class="border-bottom-whisper mb-32"></div>
        <div class="card  mb-24 card-shadow-none">
            <div class="pxy-2412">
                <h3 class="d-flex align-items-center mb-0">
                    <span class="ellipse48 bg-Watercourse-opa1 mr-15"><img src="assets/images/icon-note.svg" class=""
                            alt=""></span> {{lang.form9Details.step1.block1.title}}
                </h3>

            </div>

            <div class="border-bottom-whisper"> </div>
            <div class="row p-24">
                <div class="col-sm-6">
                    <p class="font-16 text-Gray  mb-0">{{lang.form9Details.step1.block1.i1}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-bold">
                        {{ formSet?.ATaxpayernm || '-'}}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form9Details.step1.block1.i2}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-bold">
                        {{ formSet?.ABranch || '-'}}
                    </div>
                </div>
            </div>
            <div class="border-bottom-whisper"> </div>
            <div class="row  p-24">

                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form9Details.step1.block1.i3}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-bold">
                        {{ formSet?.AEmail || '-'}}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form9Details.step1.block1.i4}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-bold" *ngIf="taxpayerDetails.Line0">
                        {{ taxpayerDetails?.Line0 + " " + taxpayerDetails?.Line1 + " " + taxpayerDetails?.Line2 + " " +
                        taxpayerDetails?.Line3 + " " + taxpayerDetails?.Line4 + " " + taxpayerDetails?.Line5 + " " +
                        taxpayerDetails?.Line6 + " " + taxpayerDetails?.Line7 + " " +
                        taxpayerDetails?.Line8 }}
                    </div>
                    <div class="text-Eerie-Black font-16 font-weight-bold" *ngIf="!taxpayerDetails.Line0">
                        -
                    </div>
                </div>
            </div>
            <div class="border-bottom-whisper"> </div>
            <div class="row  p-24">

                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form9Details.step1.block1.i5}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-bold">
                        {{ formSet?.ATelephone || '-'}}
                    </div>
                </div>
            </div>
        </div>
        <div class="card mb-24 card-shadow-none">
            <div class="pxy-2412">
                <h3 class="d-flex align-items-center mb-0">
                    <span class="ellipse48 bg-Watercourse-opa1 mr-15"><img src="assets/images/icon-note.svg" class=""
                            alt=""></span> {{lang.form9Details.step1.block2.title}}
                </h3>

            </div>

            <div class="border-bottom-whisper"> </div>
            <div class="row p-24">
                <div class="col-sm-6">
                    <p class="font-16 text-Gray  mb-0">{{lang.form9Details.step1.block2.i1}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxpayerDetails?.Formtype || '-'}}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form9Details.step1.block2.i2}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ formSet?.PerslText || '-'}}
                    </div>
                </div>
            </div>
            <div class="border-bottom-whisper"> </div>
            <div class="row  p-24">

                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form9Details.step1.block2.i3}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500" *ngIf="taxpayerDetails.PeriodKey > 1900">
                        {{ periodStartDate || '-' }} - {{ periodEndDate || '-' }}
                    </div>
                    <div class="text-Eerie-Black font-16 font-weight-500" *ngIf="taxpayerDetails.PeriodKey < 1900">
                        {{ periodStartDate?.hy || '-' }}/{{periodStartDate?.hm || '-' }}/{{periodStartDate?.hd || '-' }}
                        - {{
                        periodEndDate?.hy || '-' }}/{{periodEndDate?.hm || '-' }}/{{periodEndDate?.hd || '-'}}
                    </div>


                </div>

            </div>
        </div>

        <div class="card  mb-24 card-shadow-none">
            <div class="pxy-2412 d-flex">
                <h3 class="d-flex align-items-center mb-0">
                    <span class="ellipse48 bg-Watercourse-opa1 mr-15"><img src="assets/images/icon-note.svg" class=""
                            alt=""></span> {{lang.form9Details.step1.block3.title}}
                </h3>
                <!-- <div class="d-flex justify-content-center material-switch">
                    <span class="pr-26 font-12 text-Gray">  Agree </span>
                    <div class="lable-switch">
                        <input id="switch01" name="" type="checkbox"  (change)="EnableButton($event)">
                        <label for="switch01" class="label-primary"></label>
                    </div>
                </div> -->

            </div>

            <div class="border-bottom-whisper"> </div>
            <div class="row p-24">
                <div class="col-sm-6">
                    <p class="font-16 text-Gray  mb-0">{{lang.form9Details.step1.block3.i1}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ formSet?.ANoOfOutlet || '-'}}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form9Details.step1.block3.i2}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ formSet?.AMainact || '-'}}
                    </div>
                </div>
            </div>
            <div class="border-bottom-whisper"> </div>
            <div class="row  p-24">

                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form9Details.step1.block3.i3}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ formSet?.AResidency || '-'}}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form9Details.step1.block3.i4}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ formSet?.AActmethod || '-'}}
                    </div>
                </div>
            </div>
            <div class="border-bottom-whisper"> </div>
            <div class="row  p-24">

                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form9Details.step1.block3.i5}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ formSet?.AFiscalPeriod || '-'}}
                    </div>
                </div>
            </div>
        </div>

        <div class="table mb-56">
            <table width="100%" class="table-bordered table-bordered-less">
                <thead>
                    <tr class="d-flex">
                        <th class="font-16 text-Eerie-Black font-weight-bold col">
                            {{lang.form9Details.step1.block3.tableHeading1}}
                        </th>
                        <th class="font-16 text-Eerie-Black font-weight-bold col text-right">
                            {{lang.form9Details.step1.block3.tableHeading2}}
                        </th>
                        <th class="font-16 text-Eerie-Black font-weight-bold col text-right">
                            {{lang.form9Details.step1.block3.tableHeading3}}
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="d-flex">
                        <td class="font-16 col">
                            {{lang.form9Details.step1.block3.tr1}}
                        </td>
                        <td class="font-16 font-weight-500 col text-right">
                            {{ formSet?.ASaudiCaSh?.split('.')[0] || 0 }}%
                        </td>
                        <td class="font-16 font-weight-500 col text-right">
                            {{ formSet?.ANonsaudiCaSh?.split('.')[0] || 0 }}%
                        </td>
                    </tr>
                    <tr class="d-flex">
                        <td class="font-16 col">
                            {{lang.form9Details.step1.block3.tr2}}
                        </td>
                        <td class="font-16 font-weight-500 col text-right">
                            {{ formSet?.ASaudiPrSh?.split('.')[0] || 0}}%
                        </td>
                        <td class="font-16 font-weight-500 col text-right">
                            {{ formSet?.ANonsaudiPrSh?.split('.')[0] || 0}}%
                        </td>
                    </tr>

                </tbody>
            </table>
        </div>
        <div class="mb-24 mt-24" *ngIf="!disableInputs">
            <a class="btn btn-link mr-15">{{lang.form9Details.step1.btn1}}</a>
            <button class="btn btn-primary" (click)="step=2;">{{lang.form9Details.step1.btn2}}</button>
            <!-- <div *ngIf = " formDataSet != 0; else newForm; ">
                <button class="btn btn-primary" [disabled] = "agree != true" (click)="step=2;">Continue</button>
                
            </div>
            <ng-template #newForm>
                <button class="btn btn-primary" [disabled] = "agree != true" (click)="step=2;">Continue</button>
            </ng-template> -->

        </div>

    </div>
    <!-- Step 2 -->
    <div class="container" *ngIf="step==2">
        <div class="mb-24">
            <a class="text-Gray" [routerLink]="['/mains/returns/search']"> {{lang.form9Details.step1.path.t1}} > </a>
            {{lang.form9Details.step1.path.t2}}
        </div>
        <div class="mb-32 d-flex justify-content-between align-items-center">

            <a (click)="step=1" class="text-Watercourse d-flex font-weight-bold align-items-center">
                <img src="assets/images/arrow-left-green.svg" class="mr-10 img-reverse" alt="">
                {{lang.form9Details.step2.path}}
            </a>
            <div class="d-flex justify-content-between mb-24 align-items-center pt-2">
                <div class="vat-steps">
                    <ul class="p-0 m-0 list-style-none d-flex position-relative" *ngIf="!disableInputs">
                        <li>
                            <a (click)="step=1" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li><a (click)="step=2" class="active">2</a></li>
                        <li><a [ngClass]="{'pointer-none':!withHoldingForm9.valid}" (click)="step=3">3</a>
                        </li>
                        <li><a [ngClass]="{'pointer-none':!withHoldingForm9.valid}" (click)="step=8">4</a></li>
                        <li><a [ngClass]="{'pointer-none':!withHoldingForm9.valid}" (click)="step=4">5</a></li>
                        <li><a [ngClass]="{'pointer-none':!withHoldingForm9.valid || !formSet.AName} "
                                (click)="step=5">6</a></li>
                    </ul>
                    <ul class="p-0 m-0 list-style-none d-flex position-relative" *ngIf="disableInputs">
                        <li>
                            <a (click)="step=1" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li><a (click)="step=2" class="active">2</a></li>
                        <li><a (click)="step=3">3</a></li>
                        <li><a (click)="step=8">4</a></li>
                        <li><a (click)="step=4">5</a></li>
                        <li><a (click)="step=5">6</a></li>

                    </ul>
                </div>
            </div>

        </div>
        <div class="mb-24">
            <h2 class="mb-12">{{lang.form9Details.step2.title}}</h2>
            <div class="text-Gray font-16">{{lang.form9Details.step2.subtitle}}</div>
        </div>
        <div class="border-bottom-whisper mb-32"></div>
        <div class="d-flex mb-32 justify-content-between">
            <div class="inner d-flex">
                <div class="card mr-24 p-15" style="width: 200px;height: 104px;"
                    [ngClass]="{'mark-dark-green':action=='FillManually','mark-light-gray':action!='FillManually'}"
                    (click)="action='FillManually'">
                    <p class="m-0 font-weight-500 font-16 mt-auto cursor-pointer"
                        [ngClass]="{'text-white':action=='FillManually'}"> {{lang.form9Details.step2.option1}}</p>
                </div>
                <div class="card mark-light-gray mr-24 p-15 position-relative" style="width: 200px;height: 104px;"
                    [ngClass]="{'mark-dark-green':action!='FillManually','mark-light-gray':action=='FillManually'}"
                    (click)="action='Autofill'">
                    <input type="file" class="custom-upload-file upload-excel-file cursor-pointer position-absolute" title="{{titleText}}"
                        (change)="YearlyWithholdingUploadFile($event)" accept=".xls,.xlsx, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel">
                    <p class="m-0 font-weight-500 font-16 mt-auto cursor-pointer"
                        [ngClass]="{'text-white':action=='Autofill'}"> {{lang.form9Details.step2.option2}} </p>
                </div>
            </div>
            <div class="download-btn mb-32 position-relative p-15 pr-0" *ngIf = "language == 'ar'">
                <a href="{{baseUrl}}/irj/go/km/docs/documents/PortalContent/DZIT_HomePage/returnforms/Form09/Form%2009%20Withholding%20Annual%20Return_AR.xlsx"  title="{{downloadExcelbuttonTitle}}">
                    <img src="assets/images/icon-exceldownload.svg" alt="download" >
                    
                </a>
            </div>
            <div class="download-btn mb-32 position-relative p-15 pr-0" *ngIf = "language != 'ar'">
                <a href="{{baseUrl}}/irj/go/km/docs/documents/PortalContent/DZIT_HomePage/returnforms/Form09/Form%2009%20Withholding%20Annual%20Return_EN.xlsx"  title="{{downloadExcelbuttonTitle}}">
                    <img src="assets/images/icon-exceldownload.svg" alt="download" >
                    
                </a>
            </div>
            
        </div>
        <!-- *ngIf="action=='FillManually' " -->
        <div>
            <form [formGroup]="withHoldingForm9">
                <div formArrayName="fields" *ngFor="let field of FormsControls; let i = index;">
                    <div [formGroupName]="i">
                        <div class="table mb-24 border-top-whisper card">
                            <div class="p-24 d-flex align-items-center justify-content-between">
                                <h3 class="d-flex align-items-center mb-0">
                                    {{lang.form9Details.step2.block.tableHeading}} {{ i + 1 }}
                                </h3>
                                <div class="d-flex align-items-center">
                                    <a class="mr-24 cursor-pointer" *ngIf="!disableInputs" [ngClass]="{'pointer-none':(taxpayerDetails.PeriodKey < currentYear && (taxpayerDetailsObject['WHT9_L0001Set']['results'][i]?.CompNm || taxpayerDetailsObject['WHT9_L0001Set']['results'][i]?.ContreyKey || taxpayerDetailsObject['WHT9_L0001Set']['results'][i]?.ServcTyp || taxpayerDetailsObject['WHT9_L0001Set']['results'][i]?.BeginBal && formSet.Status!='IP017') ) }">
                                        <img src="assets/images/icon-delete.svg" (click)="DeleteForm(i);">
                                    </a>
                                    <a class="top-4" id="catcust" data-toggle="collapse" href="#toggle{{i}}"
                                        role="button" aria-expanded="true" aria-controls="toggle1">
                                        <i class="fa fa-plus">
                                        </i>
                                    </a>


                                </div>
                            </div>
                            <div class="multi-collapse collapse show" id="toggle{{i}}">
                                <table width="100%">
                                    <tbody>
                                        <tr>
                                            <td class="ar-text-right">
                                                {{lang.form9Details.step2.block.i1}}
                                            </td>
                                            <td class="text-right ar-text-left">
                                                <!-- formDataSet[i]?.CompNm -->
                                                <input type="text" class="input165" formControlName="CompanyName"
                                                    maxlength="80" [ngClass]="{'disabledIP':disableInputs || (taxpayerDetails.PeriodKey < currentYear &&  taxpayerDetailsObject['WHT9_L0001Set']['results'][i]?.CompNm && formSet.Status!='IP017')}"
                                                    (keypress)="SpaceValidator($event)">
                                                <div
                                                    *ngIf="fields.controls[i].get('CompanyName').invalid && fields.controls[i].get('CompanyName').touched">
                                                    <span
                                                        class="text-danger">{{lang.form9Details.Errormessages.er6}}</span>
                                                </div>
                                            </td>

                                        </tr>
                                        <tr>
                                            <td class="ar-text-right">
                                                {{lang.form9Details.step2.block.i2}}
                                            </td>
                                            <td class="text-right ar-text-left">
                                                <select type="text" class="input165 custom-select cursor-pointer"
                                                    formControlName="Country" (change)="Form9Validations()" [ngClass]="{'disabledIP':disableInputs || (taxpayerDetails.PeriodKey < currentYear && taxpayerDetailsObject['WHT9_L0001Set']['results'][i]?.ContreyKey && formSet.Status!='IP017')}"
                                                    (keypress)="SpaceValidator($event)">
                                                    <option *ngFor="let countries of countryList"
                                                        [value]="countries.Land1" [disabled]="countries.Landx == ''"> {{
                                                        countries.Landx}}</option>
                                                </select>
                                                <div
                                                    *ngIf="fields.controls[i].get('Country').invalid && fields.controls[i].get('Country').touched">
                                                    <!-- <span class="text-danger">Invalid Value</span> -->
                                                </div>
                                            </td>

                                        </tr>
                                        <tr>
                                            <td class="ar-text-right">
                                                {{lang.form9Details.step2.block.i3}}
                                            </td>
                                            <td class="text-right ar-text-left">
                                                <select type="text" class="input165 custom-select cursor-pointer"
                                                    formControlName="typeOfService" (change)="Form9Validations();"
                                                    [ngClass]="{'disabledIP':disableInputs || (taxpayerDetails.PeriodKey < currentYear && taxpayerDetailsObject['WHT9_L0001Set']['results'][i]?.ServcTyp && formSet.Status!='IP017')}"
                                                    (keypress)="SpaceValidator($event)">
                                                    <option *ngFor="let services of serviceType" [value]="services.Key"
                                                        [disabled]="services.Text == '' "> {{ services.Text }}</option>
                                                </select>
                                                <div
                                                    *ngIf="fields.controls[i].get('typeOfService').invalid && fields.controls[i].get('typeOfService').touched">

                                                </div>
                                            </td>

                                        </tr>
                                        <tr>
                                            <td class="ar-text-right">
                                                {{lang.form9Details.step2.block.i4}}
                                            </td>
                                            <td class="text-right ar-text-left">
                                                <input type="text" placeholder="0.00" class="input165 text-right"
                                                    formControlName="BeginningPeriodBalance" (blur)="ValidateForm();"
                                                    pattern="^\d{0,14}(\.\d{0,2})?$"
                                                    (input)="WithHoldingsCalculations()"
                                                    (keyup)="GlobalNumberAllow($event)" mask="separator"
                                                    thousandSeparator=","
                                                    [ngClass]="{'disabledIP':disableInputs || (taxpayerDetails.PeriodKey < currentYear && taxpayerDetailsObject['WHT9_L0001Set']['results'][i]?.BeginBal > 0 && formSet.Status!='IP017'),'border-red':field.get('BeginningPeriodBalance').hasError('pattern')}">
                                                <div
                                                    *ngIf="fields.controls[i].get('BeginningPeriodBalance').hasError('pattern')">
                                                    <span
                                                        class="text-danger">{{lang.form9Details.Errormessages.er1}}</span>
                                                </div>
                                            </td>
                                            <!-- <td class="text-right" *ngIf = " 'formDataSet[i].BeginBal != 0.00' ; else InputField">
                                        <input type="text" readonly placeholder="0.00" class="input165 text-right" [value]="formDataSet.BeginBal" formControlName = "BeginningPeriodBalance" pattern="^\d{0,14}(\.\d{0,2})?$" (input)="WithHoldingsCalculations()">
                                    </td>
                                    <ng-template #InputField>
                                        <td class="text-right">
                                            <input type="text" placeholder="0.00" class="input165 text-right"  formControlName = "BeginningPeriodBalance" pattern="^\d{0,14}(\.\d{0,2})?$" (input)="WithHoldingsCalculations()" (blur)="ValidateForm();">
                                        </td>
                                        
                                    </ng-template> -->
                                        </tr>
                                        <tr>
                                            <td class="ar-text-right">
                                                {{lang.form9Details.step2.block.i5}}
                                            </td>
                                            <td class="text-right ar-text-left">
                                                <input type="text" placeholder="0.00" class="input165 text-right"
                                                    formControlName="ServicesperformedThisYear"
                                                    pattern="^\d{0,14}(\.\d{0,2})?$" (keyup)="GlobalNumberAllow($event)"
                                                    mask="separator" thousandSeparator=","
                                                    (input)="WithHoldingsCalculations()" (blur)="ValidateForm();"
                                                    [ngClass]="{'disabledIP':disableInputs,'border-red':fields.controls[i].get('ServicesperformedThisYear').hasError('pattern')}">
                                                <div
                                                    *ngIf="fields.controls[i].get('ServicesperformedThisYear').hasError('pattern')">
                                                    <span
                                                        class="text-danger">{{lang.form9Details.Errormessages.er1}}</span>
                                                </div>
                                            </td>

                                        </tr>
                                        <tr>
                                            <td class="ar-text-right">
                                                {{lang.form9Details.step2.block.i6}}
                                            </td>
                                            <td class="text-right ar-text-left">
                                                <input type="text" placeholder="0.00" class="input165 text-right"
                                                    formControlName="paidDuringtheYear" pattern="^\d{0,14}(\.\d{0,2})?$"
                                                    (keyup)="GlobalNumberAllow($event)" mask="separator"
                                                    thousandSeparator="," (input)="WithHoldingsCalculations()"
                                                    (blur)="ValidateForm();"
                                                    [ngClass]="{'disabledIP':disableInputs,'border-red':fields.controls[i].get('paidDuringtheYear').hasError('pattern')}">
                                                <div
                                                    *ngIf="fields.controls[i].get('paidDuringtheYear').hasError('pattern')">
                                                    <span
                                                        class="text-danger">{{lang.form9Details.Errormessages.er1}}</span>
                                                </div>
                                            </td>

                                        </tr>
                                        <tr>
                                            <td class="ar-text-right">
                                                {{lang.form9Details.step2.block.i7}}
                                            </td>
                                            <td class="text-right ar-text-left">
                                                <input type="text" placeholder="0.00" class="input165 text-right"
                                                    formControlName="otherSettlements" pattern="^[-]?\d{0,14}(\.\d{0,2})?$"
                                                     mask="separator"
                                                    thousandSeparator="," (input)="WithHoldingsCalculations()"
                                                    (blur)="ValidateForm();" [allowNegativeNumbers]="true"
                                                    [ngClass]="{'disabledIP':disableInputs,'border-red':fields.controls[i].get('otherSettlements').value<-9999999999999.99 || fields.controls[i].get('otherSettlements').value>99999999999999.99}">
                                                <div
                                                    *ngIf="fields.controls[i].get('otherSettlements').value<-9999999999999.99 || fields.controls[i].get('otherSettlements').value>99999999999999.99">
                                                    <span
                                                        class="text-danger">{{lang.form9Details.Errormessages.er7}}</span>
                                                </div>
                                            </td>

                                        </tr>
                                        <tr>
                                            <td class="ar-text-right">
                                                {{lang.form9Details.step2.block.i8}}
                                            </td>
                                            <td class="text-right ar-text-left">
                                                <input type="text" class="input165 text-right"
                                                    formControlName="endofPeriodBalance"
                                                     mask="separator" [allowNegativeNumbers]="true"
                                                    thousandSeparator="," disabled (input)="WithHoldingsCalculations();"
                                                    (change)="ValidateForm()">
                                                <!-- <div *ngIf="fields.controls[i].get('endofPeriodBalance').hasError('pattern')">
                                                    <span class="text-danger">{{lang.form9Details.Errormessages.er1}}</span>
                                                </div> -->
                                            </td>

                                        </tr>
                                        <tr>
                                            <td class="ar-text-right">
                                                {{lang.form9Details.step2.block.i9}}
                                            </td>
                                            <td class="text-right ar-text-left">
                                                <input type="text" placeholder="0.00" class="input165 text-right"
                                                    formControlName="paymentAmount" pattern="^\d{0,14}(\.\d{0,2})?$"
                                                    (keyup)="GlobalNumberAllow($event)" mask="separator"
                                                    thousandSeparator=","
                                                    (input)="WithHoldingsCalculations();ValidateWhtAmount()"
                                                    (blur)="ValidateForm();"
                                                    [ngClass]="{'disabledIP':disableInputs,'border-red':fields.controls[i].get('paymentAmount').hasError('pattern')}">
                                                <div
                                                    *ngIf="fields.controls[i].get('paymentAmount').hasError('pattern')">
                                                    <span
                                                        class="text-danger">{{lang.form9Details.Errormessages.er1}}</span>
                                                </div>
                                            </td>

                                        </tr>
                                        <tr>
                                            <td class="ar-text-right">
                                                {{lang.form9Details.step2.block.i10}}
                                            </td>
                                            <!-- <td class="text-right ar-text-left">
                                                <input type="text" placeholder="5%" class="input165 text-right"
                                                    formControlName="taxRate" pattern="^\d{0,2}(\.\d{0,2})?$"
                                                    (keyup)="GlobalNumberAllow($event)" mask="separator"
                                                    thousandSeparator=","
                                                    (input)="WithHoldingsCalculations();Form9Validations()"
                                                    (blur)="ValidateForm();"
                                                    [ngClass]="{'disabledIP':disableInputs,'border-red':((fields.controls[i].get('taxRate').value < fields.controls[i].get('minRate').value) && fields.controls[i].get('taxRate').touched) || (fields.controls[i].get('taxRate').hasError('max') && fields.controls[i].get('taxRate').touched) || taxRateError == true}">
                                                <div
                                                    *ngIf="((fields.controls[i].get('taxRate').value < fields.controls[i].get('minRate').value) && fields.controls[i].get('taxRate').touched) || (fields.controls[i].get('taxRate').hasError('max') && fields.controls[i].get('taxRate').touched) || taxRateError == true">
                                                    <span class="text-danger">
                                                        {{lang.form9Details.Errormessages.er4}}:{{fields.controls[i].get('minRate').value}}
                                                        {{lang.form9Details.Errormessages.er5}}:{{fields.controls[i].get('maxRate').value}}
                                                    </span>
                                                </div>
                                            </td> -->
                                            <td class="text-right ar-text-left">
                                                <input type="text" placeholder="5%" class="input165 text-right"
                                                    formControlName="taxRate" pattern="^\d{0,2}(\.\d{0,2})?$"
                                                    (keyup)="GlobalNumberAllow($event)" mask="separator"
                                                    thousandSeparator=","
                                                    (input)="WithHoldingsCalculations();Form9Validations()"
                                                    (blur)="ValidateForm();"
                                                    [ngClass]="{'disabledIP':disableInputs,'border-red':((!fields.controls[i].get('taxRate').value ) ||((fields.controls[i].get('taxRate').value < fields.controls[i].get('minRate').value)) || (fields.controls[i].get('taxRate').hasError('max')) || taxRateError == true)}">
                                                    <!-- && fields.controls[i].get('taxRate').touched -->
                                                    <div
                                                    *ngIf="((!fields.controls[i].get('taxRate').value ) || ((fields.controls[i].get('taxRate').value < fields.controls[i].get('minRate').value) ) || (fields.controls[i].get('taxRate').hasError('max')) || taxRateError == true)">
                                                    <span class="text-danger">
                                                        {{lang.form9Details.Errormessages.er4}}:{{fields.controls[i].get('minRate').value}}
                                                        {{lang.form9Details.Errormessages.er5}}:{{fields.controls[i].get('maxRate').value}}
                                                    </span>
                                                </div>
                                            </td>

                                        </tr>
                                        <tr>
                                            <td class="ar-text-right">
                                                {{lang.form9Details.step2.block.i11}}
                                            </td>
                                            <td class="text-right ar-text-left">
                                                <input type="text" placeholder="0.00" class="input165 text-right"
                                                    formControlName="withHoldingTax" pattern="^\d{0,14}(\.\d{0,2})?$"
                                                    (keyup)="GlobalNumberAllow($event)" mask="separator"
                                                    thousandSeparator=","
                                                    (input)="WithHoldingsCalculations();ValidateWhtAmount();"
                                                    (blur)="ValidateForm();"
                                                    [ngClass]="{'disabledIP':disableInputs,'border-red':fields.controls[i].get('withHoldingTax').hasError('pattern') || field.get('withholdingamountError').value == true}">
                                                <div
                                                    *ngIf="fields.controls[i].get('withHoldingTax').hasError('pattern')">
                                                    <span
                                                        class="text-danger">{{lang.form9Details.Errormessages.er1}}</span>

                                                </div>
                                                <div class="text-danger"
                                                    *ngIf="field.get('withholdingamountError').value == true">
                                                    {{lang.form9Details.Errormessages.er3}}
                                                </div>
                                            </td>

                                        </tr>
                                        <tr>
                                            <td class="ar-text-right">
                                                {{lang.form9Details.step2.block.i12}}
                                            </td>
                                            <td class="text-right ar-text-left" width="200">
                                                <input type="text" placeholder="0.00" class="input165 text-right"
                                                    formControlName="fine" pattern="^\d{0,14}(\.\d{0,2})?$"
                                                    (keyup)="GlobalNumberAllow($event)" mask="separator"
                                                    thousandSeparator="," (input)="WithHoldingsCalculations()"
                                                    (blur)="ValidateForm();"
                                                    [ngClass]="{'disabledIP':disableInputs,'border-red':fields.controls[i].get('fine').hasError('pattern')}">
                                                <div *ngIf="fields.controls[i].get('fine').hasError('pattern')">
                                                    <span
                                                        class="text-danger">{{lang.form9Details.Errormessages.er1}}</span>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                        </div>
                    </div>
                </div>
            </form>

            <div class="d-flex mb-24" *ngIf="!disableInputs">
                <div class="card mr-10 p-15 w-100">
                    <a (click)="OnAddForm(typeIndex)" class="d-flex align-items-center">
                        <img src="assets/images/icon-plus.svg" class="mr-15 withheight24"> <span
                            class="font-weight-500 text-Watercourse"> {{lang.form9Details.step2.block.i13}}</span>
                    </a>
                </div>
                <div class="card ml-10 p-15 w-100">
                    <a class="d-flex align-items-center" data-toggle="modal" data-target="#addMultipleFormsModal">
                        <img src="assets/images/icon-plus.svg" class="mr-15 withheight24"> <span
                            class="font-weight-500 text-Watercourse"> {{lang.form9Details.step2.block.i14}}</span>
                    </a>
                </div>
            </div>
            <div class="table mb-56 border-top-whisper">
                <div class="p-24 d-flex align-items-center justify-content-between bg-Watercourse-opa1">
                    <h3 class="d-flex align-items-center mb-0">
                        {{lang.form9Details.step2.block.tableHeading2}}
                    </h3>
                    <div class="d-flex align-items-center">
                        <a id="catcust" data-toggle="collapse" href="#toggle" role="button" aria-expanded="true"
                            aria-controls="toggle">
                            <i class="fa fa-plus">
                            </i>
                        </a>
                    </div>
                </div>
                <div class="multi-collapse collapse show" id="toggle">
                    <table width="100%">
                        <tbody>
                            <tr>
                                <td>
                                    {{lang.form9Details.step2.block.i4}}
                                </td>
                                <td width="230" class="text-right font-weight-500">
                                    {{ totBeginingBalance || 0 | number:'1.2-2' }}
                                    {{lang.form9Details.step1.path.currency}}
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    {{lang.form9Details.step2.block.i5}}
                                </td>
                                <td class="text-right font-weight-500">
                                    {{ totServices || 0 | number:'1.2-2' }} {{lang.form9Details.step1.path.currency}}
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    {{lang.form9Details.step2.block.i6}}
                                </td>
                                <td class="text-right font-weight-500">
                                    {{ totYearPayments || 0 | number:'1.2-2' }}
                                    {{lang.form9Details.step1.path.currency}}
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    {{lang.form9Details.step2.block.i7}}
                                </td>
                                <td class="text-right font-weight-500">
                                    {{ totOtherPayments || 0 | number:'1.2-2' }}
                                    {{lang.form9Details.step1.path.currency}}
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    {{lang.form9Details.step2.block.i8}}
                                </td>
                                <td class="text-right font-weight-500">
                                    {{ totEndBalance || 0 | number:'1.2-2' }} {{lang.form9Details.step1.path.currency}}
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    {{lang.form9Details.step2.block.i9}}
                                </td>
                                <td class="text-right font-weight-500">
                                    {{ totPaymentAmount || 0 | number:'1.2-2' }}
                                    {{lang.form9Details.step1.path.currency}}
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    {{lang.form9Details.step2.block.i11}}
                                </td>
                                <td class="text-right font-weight-500">
                                    {{ totWithholdingAmnt || 0 | number:'1.2-2' }}
                                    {{lang.form9Details.step1.path.currency}}
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    {{lang.form9Details.step2.block.i12}}
                                </td>
                                <td class="text-right font-weight-500">
                                    {{ totFines || 0 | number:'1.2-2' }} {{lang.form9Details.step1.path.currency}}
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

            </div>
            <div class="mb-24" *ngIf="!disableInputs">
                <button class="btn btn-link" *ngIf="retrunObjStatus== 'IP017'" data-toggle="modal"
                    data-target="#VoidModal1">{{lang.form9Details.step2.block.btn3}}</button>
                <button class="btn btn-primary mr-3"
                    [disabled]="(!withHoldingForm9.valid || whtamountError == true || taxRateError == true )"
                    (click)="SaveDraft();">{{lang.form9Details.step2.block.btn1}}</button>
                <button class="btn btn-primary"
                    [disabled]="(!withHoldingForm9.valid || whtamountError == true || taxRateError == true)"
                    (click)="step=3">{{lang.form9Details.step2.block.btn2}}</button>
            </div>
        </div>

        <!-- <div class="container" *ngIf="action =='UploadExcel' ">
            <p class="mb-16 font-16">{{lang.form9Details.step2.block.uploadExcelblock.title2}}</p>
            <div class="d-flex">
                <div class="mr-24">
                   
            <div class="cardh180 card mb-40 p-24" style="width:437px; border:1px solid gray">
                <div class="d-flex justify-content-end"><img src="assets/images/icon-delete.svg"></div>
                <div class="d-flex justify-content-center align-items-center h-100">
                    <p class="m-0 font-weight-500 font-16 text-center">
                        <img src="assets/images/pdf.svg" class="mb-10"> <br />
                        File1.pdf
                        <br />
                        <span class="font-12 font-weight-normal text-Gray">20MB</span>
                    </p>
        
                </div>
            </div>
                </div>
                <div>
                    
                <div class="cardh180 card mb-40 p-24 d-flex justify-content-center align-items-center h-100"
                    style="width: 437px;border: 1px dashed #bbbbbb;">
    
                    <div class="m-0 font-weight-500 font-16 text-center">
                        <img src="assets/images/icon-plus.svg" class="mb-10 withheight24"> <br />
                        <p class="text-Watercourse mb-24 font-weight-bold">{{lang.form9Details.step2.block.uploadExcelblock.p1}}</p>
                        <p class="font-12 font-weight-normal text-Gray">10MB{{lang.form9Details.step2.block.uploadExcelblock.p2}}</p>
                    </div>
                </div> 
                </div>
            </div>
            <div class="card p-24 mb-56">
                <div class="d-flex">
                    <img src="assets/images/icon-info.svg" class="mr-15" alt="">
                    <span class="font-12 text-Gray">
                        {{lang.form9Details.step2.block.uploadExcelblock.span}}
                    </span>
                </div>
            </div>
            <div class="mb-24">
                <button class="btn btn-primary mr-3">{{lang.form9Details.step2.block.btn1}}</button>
                <button class="btn btn-primary" (click)="step=3">{{lang.form9Details.step2.block.btn2}}</button>
            </div>
        
        </div> -->

    </div>
    <!-- FILTER MODAL STARTS -->
    <div class="modal modal-filter fade" data-backdrop="static" data-keyboard="false" id="addMultipleFormsModal"
        tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="text-right modal-filter-head">

                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                    [ngClass]="{'arabic-btn':language == 'ar'}">
                        <span class="material-icons font-28">
                            clear
                        </span>
                    </button>
                </div>
                <div class="modal-body">

                    <h2 class="mb-16">{{lang.form9Details.multiformsmodal.title}}</h2>
                    <div class="font-16 text-Gray mb-32">
                        {{lang.form9Details.multiformsmodal.subtitle}}
                    </div>
                    <div class="d-flex justify-content-between card-inner mb-56 p-24">
                        <div class="d-flex align-items-center text-Nero font-12">
                            <div *ngIf="noOfFormsAdded>0">
                                <img src="assets/images/icon-minus.svg" class="mr-24" alt=""
                                    style="width:24px; height:24px" (click)="noOfFormsAdded=noOfFormsAdded-1">
                            </div>
                            <img src="assets/images/icon-plus.svg" class="ml-15" alt="" style="width:24px; height:24px"
                                (click)="noOfFormsAdded=noOfFormsAdded+1">
                        </div>
                        <div class="text-right">
                            <input type="text" class="input165 text-right" pattern="[0-9]*" #addedForms="ngModel"
                                maxlength="2" [(ngModel)]="noOfFormsAdded" (keyup)="GlobalNumberAllow($event)"
                                mask="separator" thousandSeparator=",">
                            <div *ngIf="noOfFormsAdded>99 || addedForms?.errors?.pattern" class="text-danger">
                                {{lang.form9Details.Errormessages.er2}}
                            </div>
                            <div *ngIf="noOfFormsAdded<0" class="text-danger">

                            </div>
                        </div>
                    </div>
                    <div class="form-group text-right">
                        <button class="btn btn-primary" [disabled]=" noOfFormsAdded !> 99 || noOfFormsAdded < 0 "
                            (click)="OnAddMultipleForms(typeIndex);">{{lang.form9Details.multiformsmodal.btn1}}</button>

                    </div>
                </div>

            </div>
        </div>
    </div>
    <!-- FILTER MODAL ENDS -->
    <!-- Step 3 -->
    <div class="container" *ngIf="step==3">
        <div class="mb-24">
            <a class="text-Gray" [routerLink]="['/mains/returns/search']"> {{lang.form9Details.step1.path.t1}} > </a>
            {{lang.form9Details.step1.path.t2}}
        </div>
        <div class="mb-32 d-flex justify-content-between align-items-center">

            <a (click)="step=2" class="text-Watercourse d-flex font-weight-bold align-items-center">
                <img src="assets/images/arrow-left-green.svg" class="mr-10 img-reverse" alt="">
                {{lang.form9Details.step3.path}}
            </a>
            <div class="d-flex justify-content-between mb-24 align-items-center pt-2">
                <div class="vat-steps">
                    <ul class="p-0 m-0 list-style-none d-flex position-relative" *ngIf="!disableInputs">
                        <li>
                            <a (click)="step=1" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li>
                            <a (click)="step=2" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li><a class="active" [ngClass]="{'pointer-none':!withHoldingForm9.valid}"
                                (click)="step=3">3</a>
                        </li>
                        <li><a  [ngClass]="{'pointer-none':!withHoldingForm9.valid}"
                            (click)="step=8">4</a>
                        </li>
                        <li><a [ngClass]="{'pointer-none':!withHoldingForm9.valid }"
                                (click)="step=4;WithHoldingsCalculations();">5</a></li>
                        <li><a [ngClass]="{'pointer-none':!withHoldingForm9.valid || !formSet.AName}"
                                (click)="step=5;WithHoldingsCalculations();">6</a></li>
                    </ul>
                    <ul class="p-0 m-0 list-style-none d-flex position-relative" *ngIf="disableInputs">
                        <li>
                            <a (click)="step=1" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li>
                            <a (click)="step=2" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li><a (click)="step=3" class="active">3</a></li>
                        <li><a (click)="step=4">4</a></li>
                        <li><a (click)="step=5">5</a></li>
                    </ul>
                </div>
            </div>

        </div>
        <div class="mb-24">
            <h2 class="mb-12">{{lang.form9Details.step3.title}}</h2>
            <div class="text-Gray font-16">{{lang.form9Details.step3.subtitle}}</div>
        </div>
        <div class="border-bottom-whisper mb-32"></div>
        <!-- <p class="mb-16 font-16">{{lang.form9Details.step3.p1}} </p> -->
        <div class="row custom-row">
            <div class="col-sm-6" *ngFor="let obj of taxpayerDetails.AttDetSet.results">
                <div class="cardh180 card mb-40 p-24 border-gray">
                    <div class="d-flex justify-content-end" *ngIf="!disableInputs"><img
                            src="assets/images/icon-delete.svg" (click)="OnDeleteAttachement(obj)"></div>
                    <div class="d-flex justify-content-center align-items-center h-100">
                        <p class="m-0 font-weight-500 font-16 text-center">
                            <img *ngIf="obj.FileExtn.toString().toUpperCase()=='PDF'" src="assets/images/icon-pdf.svg"
                                class="mb-10">
                            <img *ngIf="obj.FileExtn.toString().toUpperCase()=='XLSX'"
                                src="assets/images/icon-excel.svg" class="mb-10">
                            <img *ngIf="obj.FileExtn.toString().toUpperCase()=='XLS'" src="assets/images/icon-excel.svg"
                                class="mb-10">
                            <img *ngIf="obj.FileExtn.toString().toUpperCase()=='DOC'" src="assets/images/icon-doc.svg"
                                class="mb-10">
                            <img *ngIf="obj.FileExtn.toString().toUpperCase()=='DOCX'" src="assets/images/icon-doc.svg"
                                class="mb-10">
                            <img *ngIf="obj.FileExtn.toString().toUpperCase()=='JPG'" src="assets/images/icon-jpg.svg"
                                class="mb-10">
                            <img *ngIf="obj.FileExtn.toString().toUpperCase()=='JPEG'" src="assets/images/icon-jpg.svg"
                                class="mb-10">
                            <img *ngIf="obj.FileExtn.toString().toUpperCase()=='PNG'" src="assets/images/icon-png.svg"
                                class="mb-10">
                            <br />
                            {{obj.Filename}}
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-sm-6" *ngIf="!disableInputs">
                <div *ngIf='taxpayerDetails.AttDetSet.results.length < 5'
                    class="cardh180 card mb-40 p-24 width100P d-flex justify-content-center align-items-center border-gray-dashed">

                    <input type="file"
                        class="custom-upload-file opacity-0 cardh219 d-flex align-items-center justify-content-center w-100"
                        #inputFile (change)="FileUpload($event)">
                    <div
                        class="m-0 font-weight-500 font-16 text-center  upload-text-items  position-absolute text-center">
                        <img src="assets/images/icon-plus.svg" class="mb-10 withheight24"> <br />
                        <p class="text-Watercourse mb-24 font-weight-bold"> {{lang.form9Details.step3.p2}}</p>
                        <!-- <p class="font-12 font-weight-normal text-Gray">10MB{{lang.form9Details.step3.p3}}</p> -->
                    </div>

                </div>
            </div>
        </div>
        <!-- <div class="d-flex"> -->

        <!-- <div class="mr-24">
                
            </div> -->
        <!-- <div class="col-sm-6 mb-40"> -->

        <!-- <div class="cardh180 card mb-40 p-24 d-flex justify-content-center align-items-center h-100" style="width: 437px;border: 1px dashed #bbbbbb;">

                    <div class="m-0 font-weight-500 font-16 text-center">
                        <img src="assets/images/icon-plus.svg" class="mb-10 withheight24"> <br />
                        
                        <input type="file" class="opacity-0" accept="application/DOC,application/DOCX,application/XLS,application/XLSX,application/PDF,image/JPG" #inputFile (change)="FileUpload($event)">
                        <p class="text-Watercourse mb-24 font-weight-bold"> {{lang.form9Details.step3.p2}}</p>
                        <p class="font-12 font-weight-normal text-Gray">10MB{{lang.form9Details.step3.p3}}</p>
                    </div>

                </div> -->
        <!--                 
            </div>
        </div> -->
        <div class="card p-24 mb-56" *ngIf="!disableInputs">
            <div class="d-flex">
                <img src="assets/images/icon-info.svg" class="mr-15" alt="">
                <span class="font-12 text-Gray">
                    {{lang.form9Details.step3.span}}
                </span>
            </div>


        </div>
        <div class="mb-24" *ngIf="!disableInputs">
            <button class="btn btn-link" *ngIf="retrunObjStatus== 'IP017'" data-toggle="modal"
                data-target="#VoidModal1">{{lang.form9Details.step2.block.btn3}}</button>
            <button class="btn btn-link mr-24" (click)="step=8">{{lang.form9Details.step3.btn1}}</button>

            <button class="btn btn-primary ml-15" (click)="step=8">{{lang.form9Details.step3.btn2}}</button>
        </div>
    </div>
    <!-- Step 4 -->
    <div class="container" *ngIf="step==4">
        <div class="mb-24">
            <a class="text-Gray" [routerLink]="['/mains/returns/search']"> {{lang.form9Details.step1.path.t1}} > </a>
            {{lang.form9Details.step1.path.t2}}
        </div>
        <div class="mb-32 d-flex justify-content-between align-items-center">

            <a (click)="step=8" class="text-Watercourse d-flex font-weight-bold align-items-center">
                <img src="assets/images/arrow-left-green.svg" class="mr-10 img-reverse" alt="">
                {{lang.form9Details.step4.path}}
            </a>
            <!-- <div class="bullet-nav d-flex align-items-center">
                <a (click)="step=1" class="active">
                    <span></span>
                </a>
                <a (click)="step=2" class="active">
                    <span></span>
                </a>
                <a (click)="step=3" class="active">
                    <span></span>
                </a>
                <a (click)="step=4" class="active">
                    <span></span>
                </a>
                <a (click)="step=5">
                    <span></span>
                </a>
            </div> -->
            <div class="d-flex justify-content-between mb-24 align-items-center pt-2">
                <div class="vat-steps">
                    <ul class="p-0 m-0 list-style-none d-flex position-relative" *ngIf="!disableInputs">
                        <li>
                            <a (click)="step=1" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li>
                            <a (click)="step=2" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li>
                            <a class="active" [ngClass]="{'pointer-none':!withHoldingForm9.valid}" (click)="step=3"><img
                                    src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li>
                            <a class="active" [ngClass]="{'pointer-none':!withHoldingForm9.valid }" (click)="step=8">
                                <img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li><a class="active" [ngClass]="{'pointer-none':!withHoldingForm9.valid}"
                                (click)="step=4;WithHoldingsCalculations();">5</a></li>
                        <li><a [ngClass]="{'pointer-none':!withHoldingForm9.valid || !formSet.AName}"
                                (click)="step=5;WithHoldingsCalculations();">6</a></li>
                    </ul>
                    <ul class="p-0 m-0 list-style-none d-flex position-relative" *ngIf="disableInputs">
                        <li>
                            <a (click)="step=1" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li>
                            <a (click)="step=2" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li>
                            <a (click)="step=3" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li>
                            <a (click)="step=8" class="active">4</a>
                        </li>
                        <li><a (click)="step=4" >5</a></li>
                        <li><a (click)="step=5">6</a></li>
                    </ul>
                </div>
            </div>

        </div>
        <div class="mb-24">
            <h2 class="mb-12">{{lang.form9Details.step4.title}}</h2>
            <div class="text-Gray font-16">{{lang.form9Details.step4.subtitle}} </div>
        </div>
        <div class="border-bottom-whisper mb-32"></div>
        <div class="row mb-8">
            <div class="col-sm-6">
                <div class="form-group">
                    <label>{{lang.form9Details.step4.i1}}</label>
                    <input type="text" class="form-control" maxlength="80"
                        [placeholder]=lang.form9Details.step4.placeholder [(ngModel)]="formSet.AName"
                        [disabled]="disableInputs" (keypress)="SpaceValidator($event)">
                    <!-- <span *ngIf = "formSet.AName.length >= 80" class="text-danger">
                        Maximum limit Exceed
                    </span> -->
                </div>
            </div>
            <div class="col-sm-6">
                <div class="form-group">
                    <label>{{lang.form9Details.step4.i2}}</label>
                    <div class="date-control-group">

                        <input type="text" disabled [value]="today | date:'dd/MM/yyyy'"
                            class="input165 height-46 custom-disable">
                        <!-- <img src="assets/images/icon-calendar.svg" class="mr-15" alt=""> -->
                    </div>
                </div>
            </div>
        </div>
        <div class="card p-24 mb-56" *ngIf="!disableInputs">
            <div class="d-flex">
                <img src="assets/images/icon-info.svg" class="mr-15" alt="">
                <span class="font-12 text-Gray">
                    {{lang.form9Details.step4.p}}
                </span>
            </div>


        </div>


        <div class="mb-24" *ngIf="!disableInputs">
            <button class="btn btn-link" *ngIf="retrunObjStatus== 'IP017'" data-toggle="modal"
                data-target="#VoidModal1">{{lang.form9Details.step2.block.btn3}}</button>
            <button class="btn btn-primary" [disabled]="!formSet.AName"
                (click)="step=5">{{lang.form9Details.step4.btn}}</button>
        </div>

    </div>
    <!-- Step 5 -->
    <div class="container" *ngIf="step==5">
        <div class="mb-24">
            <a class="text-Gray" [routerLink]="['/mains/returns/search']"> {{lang.form9Details.step1.path.t1}} > </a>
            {{lang.form9Details.step1.path.t2}}
        </div>
        <div class="mb-32 d-flex justify-content-between align-items-center">

            <a (click)="step=4" class="text-Watercourse d-flex font-weight-bold align-items-center">
                <img src="assets/images/arrow-left-green.svg" class="mr-10 img-reverse" alt="">
                {{lang.form9Details.step5.path}}
            </a>
            <!-- <div class="bullet-nav d-flex align-items-center">
                <a (click)="step=1" class="active">
                    <span></span>
                </a>
                <a (click)="step=2" class="active">
                    <span></span>
                </a>
                <a (click)="step=3" class="active">
                    <span></span>
                </a>
                <a (click)="step=4" class="active">
                    <span></span>
                </a>
                <a (click)="step=5" class="active">
                    <span></span>
                </a>
                <a class="ml-10">
                    <img src="assets/images/icon-gcheck.svg" alt="">
                </a>


            </div> -->
            <div class="d-flex justify-content-between mb-24 align-items-center pt-2">
                <div class="vat-steps">
                    <ul class="p-0 m-0 list-style-none d-flex position-relative" *ngIf="!disableInputs">
                        <li>
                            <a (click)="step=1" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li>
                            <a (click)="step=2" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li>
                            <a class="active" [ngClass]="{'pointer-none':!withHoldingForm9.valid}" (click)="step=3"><img
                                    src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li>
                            <a class="active" [ngClass]="{'pointer-none':!withHoldingForm9.valid}" (click)="step=8"><img
                                    src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li>
                            <a class="active" [ngClass]="{'pointer-none':!withHoldingForm9.valid}"
                                (click)="step=4;WithHoldingsCalculations();"><img src="assets/images/icon-wcheck.svg"
                                    alt=""></a>
                        </li>
                        <li><a [ngClass]="{'pointer-none':!withHoldingForm9.valid || !formSet.AName}"
                                (click)="step=5;WithHoldingsCalculations();"><img src="assets/images/icon-wcheck.svg"
                                alt=""></a></li>
                    </ul>
                    <ul class="p-0 m-0 list-style-none d-flex position-relative" *ngIf="disableInputs">
                        <li>
                            <a (click)="step=1" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li>
                            <a (click)="step=2" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li>
                            <a (click)="step=3" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li>
                            <a (click)="step=8" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li>
                            <a (click)="step=4" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li><a (click)="step=5">6</a></li>
                    </ul>
                </div>
            </div>

        </div>
        <div class="mb-24">
            <h2 class="mb-12">{{lang.form9Details.step5.title}}</h2>
            <div class="text-Gray font-16">{{lang.form9Details.step5.subtitle}}</div>
        </div>
        <div class="border-bottom-whisper mb-32"></div>
        <div class="card  mb-24 card-shadow-none">
            <div class="pxy-2412">
                <h3 class="d-flex align-items-center mb-0">
                    <span class="ellipse48 bg-Watercourse-opa1 mr-15"><img src="assets/images/icon-note.svg" class=""
                            alt=""></span> {{lang.form9Details.step1.block1.title}}
                </h3>

            </div>

            <div class="border-bottom-whisper"> </div>
            <div class="row p-24">
                <div class="col-sm-6">
                    <p class="font-16 text-Gray  mb-0">{{lang.form9Details.step1.block1.i1}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ formSet?.ATaxpayernm || '-'}}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form9Details.step1.block1.i2}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ formSet?.ABranch || '-'}}
                    </div>
                </div>
            </div>
            <div class="border-bottom-whisper"> </div>
            <div class="row  p-24">

                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form9Details.step1.block1.i3}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ formSet?.AEmail || '-'}}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form9Details.step1.block1.i4}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500" *ngIf="taxpayerDetails?.Line0">
                        {{ taxpayerDetails?.Line0 + " " + taxpayerDetails?.Line1 + " " + taxpayerDetails?.Line2 + " " +
                        taxpayerDetails?.Line3 + " " + taxpayerDetails?.Line4 + " " + taxpayerDetails?.Line5 + " " +
                        taxpayerDetails?.Line6 + " " + taxpayerDetails?.Line7 + " " +
                        taxpayerDetails?.Line8}}
                    </div>
                    <div class="text-Eerie-Black font-16 font-weight-500" *ngIf="!taxpayerDetails?.Line0">
                        -
                    </div>
                </div>
            </div>
            <div class="border-bottom-whisper"> </div>
            <div class="row  p-24">

                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form9Details.step1.block1.i5}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ formSet?.ATelephone || '-'}}
                    </div>
                </div>
            </div>



        </div>

        <div class="card mb-24 card-shadow-none">
            <div class="pxy-2412">
                <h3 class="d-flex align-items-center mb-0">
                    <span class="ellipse48 bg-Watercourse-opa1 mr-15"><img src="assets/images/icon-note.svg" class=""
                            alt=""></span> {{lang.form9Details.step1.block2.title}}
                </h3>

            </div>

            <div class="border-bottom-whisper"> </div>
            <div class="row p-24">
                <div class="col-sm-6">
                    <p class="font-16 text-Gray  mb-0">{{lang.form9Details.step1.block2.i1}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxpayerDetails?.Formtype || '-'}}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form9Details.step1.block2.i2}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ formSet?.PerslText || '-'}}
                    </div>
                </div>
            </div>
            <div class="border-bottom-whisper"> </div>
            <div class="row  p-24">

                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form9Details.step1.block2.i3}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500" *ngIf="taxpayerDetails.PeriodKey > 1900">
                        {{ periodStartDate }} - {{ periodEndDate }}
                    </div>
                    <div class="text-Eerie-Black font-16 font-weight-500" *ngIf="taxpayerDetails.PeriodKey < 1900">
                        {{ periodStartDate?.hy || '-' }}/{{periodStartDate?.hm || '-' }}/{{periodStartDate?.hd || '-' }}
                        - {{
                        periodEndDate?.hy || '-' }}/{{periodEndDate?.hm || '-' }}/{{periodEndDate?.hd || '-'}}
                    </div>
                </div>

            </div>
        </div>

        <div class="card  mb-24 card-shadow-none">
            <div class="pxy-2412">
                <h3 class="d-flex align-items-center mb-0">
                    <span class="ellipse48 bg-Watercourse-opa1 mr-15"><img src="assets/images/icon-note.svg" class=""
                            alt=""></span> {{lang.form9Details.step1.block3.title}}
                </h3>

            </div>

            <div class="border-bottom-whisper"> </div>
            <div class="row p-24">
                <div class="col-sm-6">
                    <p class="font-16 text-Gray  mb-0">{{lang.form9Details.step1.block3.i1}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ formSet?.ANoOfOutlet || '-'}}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form9Details.step1.block3.i2}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ formSet?.AMainact || '-'}}
                    </div>
                </div>
            </div>
            <div class="border-bottom-whisper"> </div>
            <div class="row  p-24">

                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form9Details.step1.block3.i3}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ formSet?.AResidency || '-'}}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form9Details.step1.block3.i4}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ formSet?.AActmethod || '-'}}
                    </div>
                </div>
            </div>
            <div class="border-bottom-whisper"> </div>
            <div class="row  p-24">

                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form9Details.step1.block3.i5}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ formSet?.AFiscalPeriod || '-'}}
                    </div>
                </div>
            </div>

        </div>

        <div class="table mb-24">
            <table width="100%" class="table-bordered border-top-none">
                <thead>
                    <tr class="d-flex">
                        <th class="font-16 text-Eerie-Black font-weight-bold col  border-bottom-none">
                            {{lang.form9Details.step1.block3.tableHeading1}}
                        </th>
                        <th class="font-16 text-Eerie-Black font-weight-bold col text-right  border-bottom-none">
                            {{lang.form9Details.step1.block3.tableHeading2}}
                        </th>
                        <th class="font-16 text-Eerie-Black font-weight-bold col text-right  border-bottom-none">
                            {{lang.form9Details.step1.block3.tableHeading3}}
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="d-flex">
                        <td class="font-16 col">
                            {{lang.form9Details.step1.block3.tr1}}
                        </td>
                        <td class="font-16 font-weight-500 col text-right">
                            {{ formSet?.ASaudiCaSh.split('.')[0] || '-'}}%
                        </td>
                        <td class="font-16 font-weight-500 col text-right">
                            {{ formSet?.ANonsaudiCaSh.split('.')[0] || '-'}}%
                        </td>
                    </tr>
                    <tr class="d-flex">
                        <td class="font-16 col">
                            {{lang.form9Details.step1.block3.tr2}}
                        </td>
                        <td class="font-16 font-weight-500 col text-right">
                            {{ formSet?.ASaudiPrSh.split('.')[0] || '-'}}%
                        </td>
                        <td class="font-16 font-weight-500 col text-right">
                            {{ formSet?.ANonsaudiPrSh.split('.')[0] || '-'}}%
                        </td>
                    </tr>

                </tbody>
            </table>
        </div>
        <div class="card mb-24">
            <div class="pxy-2412">
                <div class="d-flex align-items-center justify-content-between">
                    <h3 class="d-flex align-items-center">
                        <span class="ellipse48 bg-Watercourse-opa1 mr-15"><img src="assets/images/icon-tax.svg" class=""
                                alt=""></span> {{lang.form9Details.step5.heading1}}
                    </h3>
                    <span class="text-Watercourse font-weight-bold cursor-pointer" *ngIf="!disableInputs"
                        (click)="step=2;">{{lang.form9Details.step5.btn1}}</span>
                </div>
            </div>
            <div class="table border-0 rounded-0 m-0">
                <table width="100%">

                    <tbody>
                        <tr>
                            <td class="font-16 text-Eerie-Black" width="80%">
                                <div class="d-flex align-items-center">
                                    {{lang.form9Details.step2.block.i4}}
                                </div>
                            </td>

                            <td class=" text-right">
                                <div class="font-16 font-weight-500">
                                    {{ totBeginingBalance || 0 | number : '1.2-2' }}
                                    {{lang.form9Details.step1.path.currency}}
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="font-16 text-Eerie-Black" width="80%">
                                <div class="d-flex align-items-center">
                                    {{lang.form9Details.step2.block.i5}}
                                </div>
                            </td>

                            <td class=" text-right">
                                <div class="font-16 font-weight-500">
                                    {{ totServices || 0 | number : '1.2-2' }} {{lang.form9Details.step1.path.currency}}
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="font-16 text-Eerie-Black" width="80%">
                                <div class="d-flex align-items-center">
                                    {{lang.form9Details.step2.block.i6}}
                                </div>
                            </td>

                            <td class=" text-right">
                                <div class="font-16 font-weight-500">
                                    {{ totYearPayments || 0 | number : '1.2-2' }}
                                    {{lang.form9Details.step1.path.currency}}
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="font-16 text-Eerie-Black" width="80%">
                                <div class="d-flex align-items-center">
                                    {{lang.form9Details.step2.block.i7}}
                                </div>
                            </td>

                            <td class=" text-right">
                                <div class="font-16 font-weight-500">
                                    {{ totOtherPayments || 0 | number : '1.2-2' }}
                                    {{lang.form9Details.step1.path.currency}}
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="font-16 text-Eerie-Black" width="80%">
                                <div class="d-flex align-items-center">
                                    {{lang.form9Details.step2.block.i8}}
                                </div>
                            </td>

                            <td class=" text-right">
                                <div class="font-16 font-weight-500">
                                    {{ totEndBalance || 0 | number : '1.2-2' }}
                                    {{lang.form9Details.step1.path.currency}}
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="font-16 text-Eerie-Black" width="80%">
                                <div class="d-flex align-items-center">
                                    {{lang.form9Details.step2.block.i9}}
                                </div>
                            </td>

                            <td class=" text-right">
                                <div class="font-16 font-weight-500">
                                    {{ totPaymentAmount || 0 | number : '1.2-2' }}
                                    {{lang.form9Details.step1.path.currency}}
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="font-16 text-Eerie-Black" width="80%">
                                <div class="d-flex align-items-center">
                                    {{lang.form9Details.step2.block.i11}}
                                </div>
                            </td>

                            <td class=" text-right">
                                <div class="font-16 font-weight-500">
                                    {{ totWithholdingAmnt || 0 | number : '1.2-2' }}
                                    {{lang.form9Details.step1.path.currency}}
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="font-16 text-Eerie-Black" width="80%">
                                <div class="d-flex align-items-center">
                                    {{lang.form9Details.step2.block.i12}}
                                </div>
                            </td>

                            <td class=" text-right">
                                <div class="font-16 font-weight-500">
                                    {{ totFines || 0 | number : '1.2-2' }} {{lang.form9Details.step1.path.currency}}
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="card  mb-24 card-shadow-none">
            <div class="pxy-2412">
                <div class="d-flex align-items-center justify-content-between">
                    <h3 class="d-flex align-items-center mb-0">
                        <span class="ellipse48 bg-Watercourse-opa1 mr-15"><img src="assets/images/icon-attach.svg"
                                class="" alt=""></span> {{lang.form9Details.step3.title}}
                    </h3>
                    <span class="text-Watercourse font-weight-bold cursor-pointer" *ngIf="!disableInputs"
                        (click)="step=3">{{lang.form9Details.step5.btn1}}</span>
                </div>
            </div>

            <div class="border-bottom-whisper"> </div>
            <div class="row p-24">
                <div class="col-sm-12">
                    <div *ngFor="let obj of taxpayerDetails.AttDetSet.results">
                        <div class="d-flex">
                            <p class="m-0 font-weight-500 font-16 text-center">
                                <span class="mr-3">{{obj.Filename}}</span>
                                <img *ngIf="obj.FileExtn.toString().toUpperCase()=='PDF'"
                                    src="assets/images/icon-pdf.svg" class="mb-10">
                                <img *ngIf="obj.FileExtn.toString().toUpperCase()=='XLSX'"
                                    src="assets/images/icon-excel.svg" class="mb-10">
                                <img *ngIf="obj.FileExtn.toString().toUpperCase()=='XLS'"
                                    src="assets/images/icon-excel.svg" class="mb-10">
                                <img *ngIf="obj.FileExtn.toString().toUpperCase()=='DOC'"
                                    src="assets/images/icon-doc.svg" class="mb-10">
                                <img *ngIf="obj.FileExtn.toString().toUpperCase()=='DOCX'"
                                    src="assets/images/icon-doc.svg" class="mb-10">
                                <img *ngIf="obj.FileExtn.toString().toUpperCase()=='JPG'"
                                    src="assets/images/icon-jpg.svg" class="mb-10">
                                <img *ngIf="obj.FileExtn.toString().toUpperCase()=='JPEG'"
                                    src="assets/images/icon-jpg.svg" class="mb-10">
                                <img *ngIf="obj.FileExtn.toString().toUpperCase()=='PNG'"
                                    src="assets/images/icon-png.svg" class="mb-10">
                            </p>
                        </div>
                    </div>
                </div>
                <!-- <div class="col-sm-12" *ngIf = "taxpayerDetails.AttDetSet.results.length < 0">
                    chmentsNo Atta
                </div> -->
            </div>
        </div>
        <div class="card mb-24 card-shadow-none">
            <div class="pxy-2412">
                <div class="d-flex align-items-center justify-content-between">
                    <h3 class="d-flex align-items-center mb-0">
                        <span class="ellipse48 bg-Watercourse-opa1 mr-15"><img src="assets/images/icon-receipt.svg" class=""
                                alt=""></span> {{lang?.form9Details.NotesStep.p}}
                    </h3>
                    <span class="text-Watercourse font-weight-bold cursor-pointer" *ngIf="!disableInputs"
                            (click)="step=8">{{lang.form9Details.step5.btn1}}</span>
                </div>
            </div>
            <div class="border-bottom-whisper"> </div>
            <div class="row p-24">
                <div class="mr-24">
                    {{attachedNotes}}
                </div>
            </div>
            <!-- <div class="row p-24" *ngIf = "attachedNotes == ''">
                <div class="mr-24">
                    No Data
                </div>
            </div> -->
    
        </div>
        <div class="card  mb-56 card-shadow-none">
            <div class="pxy-2412">
                <div class="d-flex align-items-center justify-content-between">
                    <h3 class="d-flex align-items-center">
                        <span class="ellipse48 bg-Watercourse-opa1 mr-15"><img src="assets/images/icon-declaration.svg"
                                class="" alt=""></span> {{lang.form9Details.step4.title}}
                    </h3>
                    <span class="text-Watercourse font-weight-bold cursor-pointer" *ngIf="!disableInputs"
                        (click)="step=4">{{lang.form9Details.step5.btn1}}</span>
                </div>
            </div>

            <div class="border-bottom-whisper"> </div>
            <div class="row p-24">
                <div class="col-sm-6">
                    <p class="font-16 text-Gray  mb-0">{{lang.form9Details.step4.i1}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ formSet.AName }}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray  mb-0">{{lang.form9Details.step4.i2}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ today | date:'dd/MM/yyyy' }}
                    </div>
                </div>
            </div>
        </div>
        <div class="mb-24" *ngIf="!disableInputs">
            <button class="btn btn-primary ml-10" (click)="step=6;OnSubmit()">{{lang.form9Details.step5.btn2}}</button>
        </div>
        <div class="mb-24 text-center pt-32" *ngIf="disableInputs">
            <button class="btn btn-link mb-24 d-inline-block"
                (click)="step=6">{{lang.form9Details.step6.heading}}</button>
        </div>
    </div>
    <!---- Step 5 Ends Here ------->
    <!---Notes Step Starts Here---->
    <div class="container" *ngIf="step==8">
        <div class="mb-24">
            <a class="text-Gray" [routerLink]="['/mains/returns/search']"> {{lang.form9Details.step1.path.t1}} > </a>
            {{lang.form9Details.step1.path.t2}}
        </div>
        <div class="mb-32 d-flex justify-content-between align-items-center">

            <a (click)="step=3" class="text-Watercourse d-flex font-weight-bold align-items-center">
                <img src="assets/images/arrow-left-green.svg" class="mr-10 img-reverse" alt="">
                {{lang.form9Details.step5.path}}
            </a>
            
            <div class="d-flex justify-content-between mb-24 align-items-center pt-2">
                <div class="vat-steps">
                    <ul class="p-0 m-0 list-style-none d-flex position-relative" *ngIf="!disableInputs">
                        <li>
                            <a (click)="step=1" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li>
                            <a (click)="step=2" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li>
                            <a class="active" [ngClass]="{'pointer-none':!withHoldingForm9.valid}" (click)="step=3"><img
                                    src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li>
                            <a class="active" [ngClass]="{'pointer-none':!withHoldingForm9.valid}"
                                (click)="step=8;WithHoldingsCalculations();">4</a>
                        </li>
                        <li>
                            <a [ngClass]="{'pointer-none':!withHoldingForm9.valid}"
                                (click)="step=4;WithHoldingsCalculations();">5</a>
                        </li>
                        <li><a [ngClass]="{'pointer-none':!withHoldingForm9.valid || !formSet.AName}"
                                (click)="step=5;WithHoldingsCalculations();">6</a></li>
                    </ul>
                    <ul class="p-0 m-0 list-style-none d-flex position-relative" *ngIf="disableInputs">
                        <li>
                            <a (click)="step=1" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li>
                            <a (click)="step=2" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li>
                            <a (click)="step=3" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li>
                            <a (click)="step=8" class="active">4</a>
                        </li>
                        <li>
                            <a (click)="step=4" class="active">5</a>
                        </li>
                        <li><a (click)="step=5">6</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <h2 class="mb-24">{{lang.form9Details.NotesStep.p}}</h2>
                <textarea rows="9" class="form-control" [(ngModel)]="attachedNotes" [disabled]="disableInputs">

					 </textarea>
                
        <!-- <div *ngIf="errorNotes">

        </div> -->
        <div class="form-group pt-32" *ngIf="!disableInputs">
                    <button class="btn btn-link" *ngIf="retrunObjStatus== 'IP017'" data-toggle="modal"
                    data-target="#VoidModal1">{{lang.form9Details.step2.block.btn3}}</button>
                    <button class="btn btn-primary mr-3"
                    [disabled]="(!withHoldingForm9.valid || whtamountError == true || taxRateError == true )"
                    (click)="SaveDraft();">{{lang.form9Details.step2.block.btn1}}</button>
                    <button class="btn btn-primary" (click)="SaveNotesForm9();step=4"
                        data-dismiss="modal">{{lang.form9Details.NotesStep.btn}}</button>

        </div>
        <!-- <div class="mb-24" *ngIf="disableInputs == false">
            <button class="btn btn-link mr-3" *ngIf="taxPayerDetails?.Statusz == 'E0013'" data-toggle="modal" data-target="#VoidModal">{{lang?.vatDetails.step2.btn3}}</button>
            <button class="btn btn-primary mr-3" [disabled]="errorNotes || disableInputs " (click)="SubmitNotes();">{{lang?.vatDetails.step13.btn1}}</button>
            <button class="btn btn-primary" [disabled]="errorNotes" (click)="calculateVat();SaveVatReturnReview();">{{lang?.vatDetails.step13.btn2}}</button>
        </div> -->

    </div>
    <!--- Notes Step ends Here ----->
    <!-------- Step 6 Starts Here ------->
    <div class="container" *ngIf="step==6">
        <div class="mb-32 d-flex justify-content-between align-items-center">

            <a [routerLink]="['/mains/returns/search']"
                class="text-Watercourse d-flex font-weight-bold align-items-center">
                <img src="assets/images/arrow-left-green.svg" class="mr-10 img-reverse" alt=""> {{lang.form9Details.step6.btn3}}
            </a>
        </div>
        <div class="text-center">
            <div class="text-center mb-40">
                <img src="assets/images/icon-success.svg" alt="">

            </div>
            <h2 class="mb-12"> {{lang.form9Details.step6.title}}</h2>
            <div class="text-Gray font-16 mb-24">{{lang.form9Details.step6.subtitle}}</div>
            <div class="pb-24">
                <div class="d-flex align-items-center justify-content-between mb-16 item-cardetails">
                    <span class="font-16 text-Eerie-Black justify-content-between mb-0 font-weight-500">
                        {{lang.form9Details.step6.i1}}
                    </span>
                    <span class="text-Eerie-Black font-16 font-weight-500">
                        {{ formSet.ATaxpayernm}}
                    </span>
                </div>
                <div class="d-flex align-items-center justify-content-between mb-16 item-cardetails">
                    <span class="font-16 text-Gray  mb-0">
                        {{lang.form9Details.step6.i2}}
                    </span>
                    <span class="text-Eerie-Black font-16 font-weight-500">
                        {{ formSet.Fbnum}}
                    </span>
                </div>
                <div class="d-flex align-items-center justify-content-between mb-16 item-cardetails">
                    <span class="font-16 text-Gray  mb-0">
                        {{lang.form9Details.step6.i3}}
                    </span>
                    <span class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxpayerDetails?.RegId}}
                    </span>
                </div>
                <div class="d-flex align-items-center justify-content-between mb-16 item-cardetails">
                    <span class="font-16 text-Gray  mb-0">
                        {{lang.form9Details.step6.i4}}
                    </span>
                    <span class="text-Eerie-Black font-16 font-weight-500" *ngIf="taxpayerDetails.PeriodKey > 1900">
                        {{ periodStartDate }} - {{ periodEndDate }}
                    </span>
                    <div class="text-Eerie-Black font-16 font-weight-500" *ngIf="taxpayerDetails.PeriodKey < 1900">
                        {{ periodStartDate?.hy || '-' }}/{{periodStartDate?.hm || '-' }}/{{periodStartDate?.hd || '-' }}
                        - {{periodEndDate?.hy || '-' }}/{{periodEndDate?.hm || '-' }}/{{periodEndDate?.hd || '-'}}
                    </div>
                </div>
            </div>
        </div>
        <!-- <div class="font-16 text-Gray text-center max-width650 mx-auto">
            By paying the invocie, GAZT Zakat certificate will be issued to you automatically in case there are no other outstanding obligations. Paying the Invoice means you confirm the correctness of the return information.
        </div> -->
        <div class="mb-24 pt-32 text-center  d-flex flex-column justify-content-center align-items-center"
            *ngIf="taxpayerDetails.RegId != ''">
            <button class="btn btn-primary mb-24 d-inline-block"
                (click)="DownloadAcknowledgement()">{{lang.form9Details.step6.btn1}}</button>
            <button class="btn btn-link d-inline-block"
                (click)="DownloadForm()">{{lang.form9Details.step6.btn2}}</button>
        </div>
    </div>
    <!------- Step 6 Ends Here ------->
    <!------- Submit Return Display Screen ----->
    <div class="container" *ngIf="step==7">
        <div class="mb-24">
            <a class="text-Gray" [routerLink]="['/mains/returns/search']"> {{lang.form9Details.step1.path.t1}} > </a>
            {{lang.form9Details.step1.path.t2}}
        </div>
        <div class="mb-32 d-flex justify-content-between align-items-center">
            <a [routerLink]="['/mains/returns/search']"
                class="text-Watercourse d-flex font-weight-bold align-items-center">
                <img src="assets/images/arrow-left-green.svg" class="mr-10 img-reverse" alt="">
                {{lang.form9Details.step5.path}}
            </a>
        </div>
        <div class="mb-32 d-flex justify-content-between align-items-center">
            <h2 class="mb-12">{{lang.form9Details.step1.title}}</h2>
            <span class="status"
                [ngClass]="{'status-submitted':(retrunObjStatus=='IP014' || retrunObjStatus=='IP011')}">
                {{returnObjStatusTxt}}
            </span>
        </div>
        <div class="card  mb-24 card-shadow-none">
            <div class="pxy-2412">
                <h3 class="d-flex align-items-center mb-0">
                    <span class="ellipse48 bg-Watercourse-opa1 mr-15"><img src="assets/images/icon-note.svg" class=""
                            alt=""></span> {{lang.form9Details.step1.block1.title}}
                </h3>

            </div>

            <div class="border-bottom-whisper"> </div>
            <div class="row p-24">
                <div class="col-sm-6">
                    <p class="font-16 text-Gray  mb-0">{{lang.form9Details.step1.block1.i1}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ formSet?.ATaxpayernm || '-'}}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form9Details.step1.block1.i2}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ formSet?.ABranch || '-'}}
                    </div>
                </div>
            </div>
            <div class="border-bottom-whisper"> </div>
            <div class="row  p-24">

                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form9Details.step1.block1.i3}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ formSet?.AEmail || '-'}}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form9Details.step1.block1.i4}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500" *ngIf="taxpayerDetails?.Line0">
                        {{ taxpayerDetails?.Line0 + " " + taxpayerDetails?.Line1 + " " + taxpayerDetails?.Line2 + " " +
                        taxpayerDetails?.Line3 + " " + taxpayerDetails?.Line4 + " " + taxpayerDetails?.Line5 + " " +
                        taxpayerDetails?.Line6 + " " + taxpayerDetails?.Line7 + " " +
                        taxpayerDetails?.Line8}}
                    </div>
                    <div class="text-Eerie-Black font-16 font-weight-500" *ngIf="!taxpayerDetails?.Line0">
                        -
                    </div>
                </div>
            </div>
            <div class="border-bottom-whisper"> </div>
            <div class="row  p-24">

                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form9Details.step1.block1.i5}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ formSet?.ATelephone || '-'}}
                    </div>
                </div>
            </div>
        </div>

        <div class="card mb-24 card-shadow-none">
            <div class="pxy-2412">
                <h3 class="d-flex align-items-center mb-0">
                    <span class="ellipse48 bg-Watercourse-opa1 mr-15"><img src="assets/images/icon-note.svg" class=""
                            alt=""></span> {{lang.form9Details.step1.block2.title}}
                </h3>
            </div>
            <div class="border-bottom-whisper"> </div>
            <div class="row p-24">
                <div class="col-sm-6">
                    <p class="font-16 text-Gray  mb-0">{{lang.form9Details.step1.block2.i1}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxpayerDetails?.Formtype || '-'}}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form9Details.step1.block2.i2}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ formSet?.PerslText || '-'}}
                    </div>
                </div>
            </div>
            <div class="border-bottom-whisper"> </div>
            <div class="row  p-24">

                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form9Details.step1.block2.i3}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500" *ngIf="taxpayerDetails.PeriodKey > 1900">
                        {{ periodStartDate }} - {{ periodEndDate }}
                    </div>
                    <div class="text-Eerie-Black font-16 font-weight-500" *ngIf="taxpayerDetails.PeriodKey < 1900">
                        {{ periodStartDate?.hy || '-' }}/{{periodStartDate?.hm || '-' }}/{{periodStartDate?.hd || '-' }}
                        - {{
                        periodEndDate?.hy || '-' }}/{{periodEndDate?.hm || '-' }}/{{periodEndDate?.hd || '-'}}
                    </div>
                </div>

            </div>
        </div>

        <div class="card  mb-24 card-shadow-none">
            <div class="pxy-2412">
                <h3 class="d-flex align-items-center mb-0">
                    <span class="ellipse48 bg-Watercourse-opa1 mr-15"><img src="assets/images/icon-note.svg" class=""
                            alt=""></span> {{lang.form9Details.step1.block3.title}}
                </h3>

            </div>

            <div class="border-bottom-whisper"> </div>
            <div class="row p-24">
                <div class="col-sm-6">
                    <p class="font-16 text-Gray  mb-0">{{lang.form9Details.step1.block3.i1}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ formSet?.ANoOfOutlet || '-'}}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form9Details.step1.block3.i2}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ formSet?.AMainact || '-'}}
                    </div>
                </div>
            </div>
            <div class="border-bottom-whisper"> </div>
            <div class="row  p-24">

                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form9Details.step1.block3.i3}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ formSet?.AResidency || '-'}}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form9Details.step1.block3.i4}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ formSet?.AActmethod || '-'}}
                    </div>
                </div>
            </div>
            <div class="border-bottom-whisper"> </div>
            <div class="row  p-24">

                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form9Details.step1.block3.i5}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ formSet?.AFiscalPeriod || '-'}}
                    </div>
                </div>
            </div>


        </div>

        <div class="table mb-24">
            <table width="100%" class="table-bordered border-top-none">
                <thead>
                    <tr class="d-flex">
                        <th class="font-16 text-Eerie-Black font-weight-bold col  border-bottom-none">
                            {{lang.form9Details.step1.block3.tableHeading1}}
                        </th>
                        <th class="font-16 text-Eerie-Black font-weight-bold col text-right  border-bottom-none">
                            {{lang.form9Details.step1.block3.tableHeading2}}
                        </th>
                        <th class="font-16 text-Eerie-Black font-weight-bold col text-right  border-bottom-none">
                            {{lang.form9Details.step1.block3.tableHeading3}}
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="d-flex">
                        <td class="font-16 col">
                            {{lang.form9Details.step1.block3.tr1}}
                        </td>
                        <td class="font-16 font-weight-500 col text-right">
                            {{ formSet?.ASaudiCaSh.split('.')[0] || '-'}}%
                        </td>
                        <td class="font-16 font-weight-500 col text-right">
                            {{ formSet?.ANonsaudiCaSh.split('.')[0] || '-'}}%
                        </td>
                    </tr>
                    <tr class="d-flex">
                        <td class="font-16 col">
                            {{lang.form9Details.step1.block3.tr2}}
                        </td>
                        <td class="font-16 font-weight-500 col text-right">
                            {{ formSet?.ASaudiPrSh.split('.')[0] || '-'}}%
                        </td>
                        <td class="font-16 font-weight-500 col text-right">
                            {{ formSet?.ANonsaudiPrSh.split('.')[0] || '-'}}%
                        </td>
                    </tr>

                </tbody>
            </table>
        </div>
        <div class="card mb-24">
            <div class="pxy-2412">
                <div class="d-flex align-items-center justify-content-between">
                    <h3 class="d-flex align-items-center">
                        <span class="ellipse48 bg-Watercourse-opa1 mr-15"><img src="assets/images/icon-tax.svg" class=""
                                alt=""></span> {{lang.form9Details.step5.heading1}}
                    </h3>
                    <span class="text-Watercourse font-weight-bold cursor-pointer" *ngIf="!disableInputs"
                        (click)="step=2;">{{lang.form9Details.step5.btn1}}</span>
                </div>
            </div>
            <div class="table border-0 rounded-0 m-0">
                <table width="100%">

                    <tbody>
                        <tr>
                            <td class="font-16 text-Eerie-Black" width="80%">
                                <div class="d-flex align-items-center">
                                    {{lang.form9Details.step2.block.i4}}
                                </div>
                            </td>

                            <td class=" text-right">
                                <div class="font-16 font-weight-500">
                                    {{ totBeginingBalance || 0 | number : '1.2-2' }}
                                    {{lang.form9Details.step1.path.currency}}
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="font-16 text-Eerie-Black" width="80%">
                                <div class="d-flex align-items-center">
                                    {{lang.form9Details.step2.block.i5}}
                                </div>
                            </td>

                            <td class=" text-right">
                                <div class="font-16 font-weight-500">
                                    {{ totServices || 0 | number : '1.2-2' }} {{lang.form9Details.step1.path.currency}}
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="font-16 text-Eerie-Black" width="80%">
                                <div class="d-flex align-items-center">
                                    {{lang.form9Details.step2.block.i6}}
                                </div>
                            </td>

                            <td class=" text-right">
                                <div class="font-16 font-weight-500">
                                    {{ totYearPayments || 0 | number : '1.2-2' }}
                                    {{lang.form9Details.step1.path.currency}}
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="font-16 text-Eerie-Black" width="80%">
                                <div class="d-flex align-items-center">
                                    {{lang.form9Details.step2.block.i7}}
                                </div>
                            </td>

                            <td class=" text-right">
                                <div class="font-16 font-weight-500">
                                    {{ totOtherPayments || 0 | number : '1.2-2' }}
                                    {{lang.form9Details.step1.path.currency}}
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="font-16 text-Eerie-Black" width="80%">
                                <div class="d-flex align-items-center">
                                    {{lang.form9Details.step2.block.i8}}
                                </div>
                            </td>

                            <td class=" text-right">
                                <div class="font-16 font-weight-500">
                                    {{ totEndBalance || 0 | number : '1.2-2' }}
                                    {{lang.form9Details.step1.path.currency}}
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="font-16 text-Eerie-Black" width="80%">
                                <div class="d-flex align-items-center">
                                    {{lang.form9Details.step2.block.i9}}
                                </div>
                            </td>

                            <td class=" text-right">
                                <div class="font-16 font-weight-500">
                                    {{ totPaymentAmount || 0 | number : '1.2-2' }}
                                    {{lang.form9Details.step1.path.currency}}
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="font-16 text-Eerie-Black" width="80%">
                                <div class="d-flex align-items-center">
                                    {{lang.form9Details.step2.block.i11}}
                                </div>
                            </td>

                            <td class=" text-right">
                                <div class="font-16 font-weight-500">
                                    {{ totWithholdingAmnt || 0 | number : '1.2-2' }}
                                    {{lang.form9Details.step1.path.currency}}
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="font-16 text-Eerie-Black" width="80%">
                                <div class="d-flex align-items-center">
                                    {{lang.form9Details.step2.block.i12}}
                                </div>
                            </td>

                            <td class=" text-right">
                                <div class="font-16 font-weight-500">
                                    {{ totFines || 0 | number : '1.2-2' }} {{lang.form9Details.step1.path.currency}}
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="card  mb-24 card-shadow-none">
            <div class="pxy-2412">
                <div class="d-flex align-items-center justify-content-between">
                    <h3 class="d-flex align-items-center mb-0">
                        <span class="ellipse48 bg-Watercourse-opa1 mr-15"><img src="assets/images/icon-attach.svg"
                                class="" alt=""></span> {{lang.form9Details.step3.title}}
                    </h3>
                    <span class="text-Watercourse font-weight-bold cursor-pointer" *ngIf="!disableInputs"
                        (click)="step=3">{{lang.form9Details.step5.btn1}}</span>
                </div>
            </div>

            <div class="border-bottom-whisper"> </div>
            <div class="row p-24">
                <div class="col-sm-12">
                    <div *ngFor="let obj of taxpayerDetails.AttDetSet.results">
                        <div class="d-flex">
                            <p class="m-0 font-weight-500 font-16 text-center">
                                <span class="mr-3">{{obj.Filename}}</span>
                                <img *ngIf="obj.FileExtn.toString().toUpperCase()=='PDF'"
                                    src="assets/images/icon-pdf.svg" class="mb-10">
                                <img *ngIf="obj.FileExtn.toString().toUpperCase()=='XLSX'"
                                    src="assets/images/icon-excel.svg" class="mb-10">
                                <img *ngIf="obj.FileExtn.toString().toUpperCase()=='XLS'"
                                    src="assets/images/icon-excel.svg" class="mb-10">
                                <img *ngIf="obj.FileExtn.toString().toUpperCase()=='DOC'"
                                    src="assets/images/icon-doc.svg" class="mb-10">
                                <img *ngIf="obj.FileExtn.toString().toUpperCase()=='DOCX'"
                                    src="assets/images/icon-doc.svg" class="mb-10">
                                <img *ngIf="obj.FileExtn.toString().toUpperCase()=='JPG'"
                                    src="assets/images/icon-jpg.svg" class="mb-10">
                                <img *ngIf="obj.FileExtn.toString().toUpperCase()=='JPEG'"
                                    src="assets/images/icon-jpg.svg" class="mb-10">
                                <img *ngIf="obj.FileExtn.toString().toUpperCase()=='PNG'"
                                    src="assets/images/icon-png.svg" class="mb-10">
                            </p>
                        </div>
                    </div>
                </div>

            </div>
        </div>
        <div class="card  mb-56 card-shadow-none">
            <div class="pxy-2412">
                <div class="d-flex align-items-center justify-content-between">
                    <h3 class="d-flex align-items-center">
                        <span class="ellipse48 bg-Watercourse-opa1 mr-15"><img src="assets/images/icon-declaration.svg"
                                class="" alt=""></span> {{lang.form9Details.step4.title}}
                    </h3>
                    <span class="text-Watercourse font-weight-bold cursor-pointer" *ngIf="!disableInputs"
                        (click)="step=4">{{lang.form9Details.step5.btn1}}</span>
                </div>
            </div>

            <div class="border-bottom-whisper"> </div>
            <div class="row p-24">
                <div class="col-sm-6">
                    <p class="font-16 text-Gray  mb-0">{{lang.form9Details.step4.i1}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ formSet.AName }}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray  mb-0">{{lang.form9Details.step4.i2}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ today | date:'dd/MM/yyyy' }}
                    </div>
                </div>
            </div>
        </div>
        <div class="mb-24  pt-32" *ngIf="disableInputs">
            <!-- phani -->
            <button class="btn btn-link mr-5" *ngIf="retrunObjStatus == 'IP014'"
                (click)="Amendment()">{{lang.form9Details.step5.btn3}}</button>
            <button class="btn btn-primary" (click)="step=6">{{lang.form9Details.step6.heading}}</button>
        </div>
    </div>
    <!------ Display Screen Ends Here -------->
</div>
<!--- Attachment Error model ---->
<div class="modal modal-filter fade" dir={{direction}} [ngClass]="{'lang-arabic':direction=='rtl'}" tabindex="-1"
    role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" id="AttachmentModal">
    <div class="modal-dialog d-flex align-items-center height100VH my-0 mx-auto justify-content-center" role="document">
        <div class="modal-content">
            <div class="text-right modal-filter-head">

                <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                    [ngClass]="{'arabic-btn':language == 'ar'}">
                    <span class="material-icons font-28">
                        clear
                    </span>
                </button>
            </div>

            <div class="modal-body">
                <div class="card-inner mb-16">
                    <div class="font-12 text-Gray">
                        {{errorMessage}}
                    </div>
                </div>
                <div class="form-group text-right" [ngClass]="{'arabic-btn':language == 'ar'}">
                    <button class="btn btn-primary" data-dismiss="modal">{{lang.form9Details.step3.btn3}}</button>
                </div>
            </div>
        </div>
    </div>
</div>
<!--- Form9 Void Modal Popup----->
<div class="modal modal-filter fade" dir={{direction}} [ngClass]="{'lang-arabic':direction=='rtl'}" id="VoidModal1"
    tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog d-flex align-items-center height100VH my-0 mx-auto justify-content-center" role="document">
        <div class="modal-content">
            <div class="text-right modal-filter-head">

                <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                    [ngClass]="{'arabic-btn':language == 'ar'}">
                    <span class="material-icons font-28">
                        clear
                    </span>
                </button>
            </div>
            <div class="modal-body">

                <div class="card-inner mb-16">
                    <div class="font-12 text-Gray">
                        {{lang?.form9Details.VoidModal.p1}}
                    </div>
                </div>
                <div class="form-group text-right ar-text-left pt-32" [ngClass]="{'arabic-btn':language == 'ar'}">
                    <button class="btn btn-primary mr-3"
                        (click)="CancelForm9Return()">{{lang?.form9Details.VoidModal.btn1}}</button>
                    <button class="btn btn-primary" data-dismiss="modal">{{lang?.form9Details.VoidModal.btn2}}</button>
                </div>
            </div>

        </div>
    </div>
</div>
<!---- Void Modal popup ends ---->


<!-- Success modal starts -->
<div class="modal modal-filter fade" dir={{direction}} [ngClass]="{'lang-arabic':direction=='rtl'}" id="SuccessModal"
    tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog d-flex align-items-center height100VH my-0 mx-auto justify-content-center" role="document">
        <div class="modal-content">
            <div class="text-right modal-filter-head">

                <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                    [ngClass]="{'arabic-btn':language == 'ar'}">
                    <span class="material-icons font-28">
                        clear
                    </span>
                </button>
            </div>
            <div class="modal-body">

                <div class="card-inner mb-16">
                    <div class="font-12 text-Gray">
                        {{lang.form9Details.SuccessModal.p1}}
                    </div>
                </div>


                <div class="form-group text-right ar-text-left pt-32" [ngClass]="{'arabic-btn':language == 'ar'}">
                    <button class="btn btn-primary"
                        data-dismiss="modal">{{lang.form9Details.SuccessModal.btn1}}</button>
                </div>
            </div>

        </div>
    </div>
</div>

<!-- Excel upload confirmation starts -->

<div class="modal modal-filter fade" id="YearlyWithholdingConfirmation" tabindex="-1" role="dialog"
    aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog d-flex align-items-center justify-content-center height100VH my-0 mx-auto" role="document">
        <div class="modal-content">
            <div class="modal-body">
                <div class="card-inner p-15 mt-5 mb-56">
                    <p class="text-center mb-24">
                        {{lang.form6Details.excelUploadConfirmation}}
                    </p>
                </div>
                <div class="form-group text-right d-flex justify-content-center" [ngClass]="{'arabic-btn':language == 'ar'}">
                    <button class="btn btn-primary mr-15" data-dismiss="modal"
                        (click)="YearlyWithholdingUploadOk();">{{lang?.form6Details.VoidModal.btn1}}</button>
                    <button class="btn btn-primary" data-dismiss="modal" aria-label="Close"
                        (click)="cancelUpload=true;YearlyWithholdingUploadOk();">{{lang?.form6Details.VoidModal.btn2}}</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Excel upload confirmation ends -->
<!------- Form 9 Steps End Here ----->

<!------ Form6 Steps Start Here ------>
<!-- Step 1-->
<div *ngIf="withholdingDetailsScreenForm6" dir={{direction}} [ngClass]="{'lang-arabic':direction=='rtl'}">
    <div class="container" *ngIf="step==1">
        <div class="mb-24">
            <a class="text-Gray" [routerLink]="['/mains/returns/search']"> {{lang.form6Details.step1.path.t1}} > </a>
            {{lang.form6Details.step1.path.t2}}
        </div>
        <div class="mb-32 d-flex justify-content-between align-items-center">

            <a [routerLink]="['/mains/returns/search']"
                class="text-Watercourse d-flex font-weight-bold align-items-center">
                <img src="assets/images/arrow-left-green.svg" class="mr-10 img-reverse" alt="">
                {{lang.form6Details.step2.path}}
            </a>
            <!-- <div class="bullet-nav d-flex align-items-center">
                <a (click)="step=1" class="active">
                    <span></span>
                </a>
                <a (click)="step=2">
                    <span></span>
                </a>
                <a (click)="step=4">
                    <span></span>
                </a>
                <a (click)="step=5">
                    <span></span>
                </a>
                <a (click)="step=6">
                    <span></span>
                </a>
            </div> -->
            <div class="d-flex justify-content-between mb-24 align-items-center pt-2">
                <div class="vat-steps">
                    <ul class="p-0 m-0 list-style-none d-flex position-relative" *ngIf="!disableInputs">
                        <li><a (click)="step=1" class="active">1</a></li>
                        <li><a (click)="step=2">2</a></li>
                        <li><a [ngClass]="{'pointer-none':errorForm6 || ((+taxpayerDetails.AFinesOwedTax)<=0)}"
                                (click)="step=4">3</a>
                        </li>
                        <li><a [ngClass]="{'pointer-none':errorForm6 || ((+taxpayerDetails.AFinesOwedTax)<=0)}"
                                (click)="step=5">4</a></li>
                        <li><a [ngClass]="{'pointer-none':errorForm6 || ((+taxpayerDetails.AFinesOwedTax)<=0) || !taxpayerDetails.ASignQuadrantName || errorFile}"
                                (click)="step=6">5</a></li>
                    </ul>
                    <ul class="p-0 m-0 list-style-none d-flex position-relative" *ngIf="disableInputs">
                        <li><a (click)="step=1" class="active">1</a></li>
                        <li><a (click)="step=2">2</a></li>
                        <li><a (click)="step=4">3</a></li>
                        <li><a (click)="step=5">4</a></li>
                        <li><a (click)="step=6">5</a></li>
                    </ul>
                </div>
            </div>

        </div>
        <div class="mb-24">
            <h2 class="mb-12">{{lang.form6Details.step1.title}}</h2>
            <div class="text-Gray font-16">{{lang.form6Details.step1.subtitle}}</div>
        </div>
        <div class="border-bottom-whisper mb-32"></div>


        <div class="card  mb-24 card-shadow-none">
            <div class="pxy-2412">
                <h3 class="d-flex align-items-center mb-0">
                    <span class="ellipse48 bg-Watercourse-opa1 mr-15"><img src="assets/images/icon-note.svg" class=""
                            alt=""></span> {{lang.form6Details.step1.block1.title}}
                </h3>

            </div>

            <div class="border-bottom-whisper"> </div>
            <div class="row p-24">
                <div class="col-sm-6">
                    <p class="font-16 text-Gray  mb-0">{{lang.form6Details.step1.block1.i1}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-bold">
                        {{ taxpayerDetails?.ATaxpayerNm || '-'}}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form6Details.step1.block1.i2}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-bold">
                        {{ taxpayerDetails?.ABranch || '-'}}
                    </div>
                </div>
            </div>
            <div class="border-bottom-whisper"> </div>
            <div class="row  p-24">

                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form6Details.step1.block1.i3}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-bold">
                        {{ taxpayerDetails?.AEmail || '-'}}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form6Details.step1.block1.i4}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-bold" *ngIf="taxpayerDetails.Line0">
                        {{ taxpayerDetails?.Line0 + " " + taxpayerDetails?.Line1 + " " + taxpayerDetails?.Line2 + " " +
                        taxpayerDetails?.Line3 + "" + taxpayerDetails?.Line4 + " " + taxpayerDetails?.Line5 + " " +
                        taxpayerDetails?.Line6 + " " + taxpayerDetails?.Line7 + " " + taxpayerDetails?.Line8}}
                    </div>
                    <div class="text-Eerie-Black font-16 font-weight-bold" *ngIf="!taxpayerDetails.Line0">
                        -
                    </div>
                </div>
            </div>
            <div class="border-bottom-whisper"> </div>
            <div class="row  p-24">

                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form6Details.step1.block1.i5}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-bold">
                        {{ taxpayerDetails?.ATelephone || '-'}}
                    </div>
                </div>
            </div>


        </div>

        <div class="card mb-24 card-shadow-none">
            <div class="pxy-2412">
                <h3 class="d-flex align-items-center mb-0">
                    <span class="ellipse48 bg-Watercourse-opa1 mr-15"><img src="assets/images/icon-note.svg" class=""
                            alt=""></span> {{lang.form6Details.step1.block2.title}}
                </h3>

            </div>

            <div class="border-bottom-whisper"> </div>
            <div class="row p-24">
                <div class="col-sm-6">
                    <p class="font-16 text-Gray  mb-0">{{lang.form6Details.step1.block2.i1}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxpayerDetails?.Formtype || '-'}}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form6Details.step1.block2.i2}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxpayerDetails?.PerslText}}
                    </div>
                </div>
            </div>
            <div class="border-bottom-whisper"> </div>
            <div class="row  p-24">

                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form6Details.step1.block2.i3}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500" *ngIf="taxpayerDetails.AYear > 1900">
                        {{ periodStartDate || '-' }} - {{ periodEndDate || '-'}}
                    </div>
                    <div class="text-Eerie-Black font-16 font-weight-500" *ngIf="taxpayerDetails.AYear < 1900">
                        {{ periodStartDate?.hy || '-'}}/{{periodStartDate?.hm || '-'}}/{{periodStartDate?.hd || '-' }} -
                        {{
                        periodEndDate?.hy || '-'}}/{{periodEndDate?.hm || '-'}}/{{periodEndDate?.hd || '-'}}
                    </div>
                </div>

            </div>
        </div>

        <div class="card  mb-24 card-shadow-none">
            <div class="pxy-2412">
                <h3 class="d-flex align-items-center mb-0">
                    <span class="ellipse48 bg-Watercourse-opa1 mr-15"><img src="assets/images/icon-note.svg" class=""
                            alt=""></span> {{lang.form6Details.step1.block3.title}}
                </h3>
                <!-- <div class="d-flex align-items-center justify-content-center material-switch">
                <span class="pr-26 font-12 text-Gray">  Agree </span>
                <div class="lable-switch">
                    <input id="switch01" name="" type="checkbox" [(ngModel)]="agreeForm6" (change)="EnableButton1($event)">
                    <label for="switch01" class="label-primary"></label>
                </div>
            </div> -->

            </div>

            <div class="border-bottom-whisper"> </div>
            <div class="row p-24">
                <div class="col-sm-6">
                    <p class="font-16 text-Gray  mb-0">{{lang.form6Details.step1.block3.i1}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxpayerDetails?.ANoOfOutlet || '-' }}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form6Details.step1.block3.i2}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxpayerDetails?.AMainact || '-' }}
                    </div>
                </div>
            </div>
            <div class="border-bottom-whisper"> </div>
            <div class="row  p-24">

                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form6Details.step1.block3.i3}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxpayerDetails?.AResidency || '-' }}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form6Details.step1.block3.i4}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxpayerDetails?.AActmethod || '-' }}
                    </div>
                </div>
            </div>
            <div class="border-bottom-whisper"> </div>
            <div class="row  p-24">

                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form6Details.step1.block3.i5}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxpayerDetails?.AFiscalPeriod || '-' }}
                    </div>
                </div>
            </div>


        </div>

        <div class="table mb-56">
            <table width="100%" class="table-bordered table-bordered-less">
                <thead>
                    <tr class="d-flex">
                        <th class="font-16 text-Eerie-Black font-weight-bold col">
                            {{lang.form6Details.step1.block3.tableHeading1}}
                        </th>
                        <th class="font-16 text-Eerie-Black font-weight-bold col text-right">
                            {{lang.form6Details.step1.block3.tableHeading2}}
                        </th>
                        <th class="font-16 text-Eerie-Black font-weight-bold col text-right">
                            {{lang.form6Details.step1.block3.tableHeading3}}
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="d-flex">
                        <td class="font-16 col">
                            {{lang.form6Details.step1.block3.tr1}}
                        </td>
                        <td class="font-16 font-weight-500 col text-right">
                            {{ taxpayerDetails?.ASaudiCaSh?.split('.')[0] || '-' }}%
                        </td>
                        <td class="font-16 font-weight-500 col text-right">
                            {{ taxpayerDetails?.ANonsaudiCaSh?.split('.')[0] || '-'}}%
                        </td>
                    </tr>
                    <tr class="d-flex">
                        <td class="font-16 col">
                            {{lang.form6Details.step1.block3.tr2}}
                        </td>
                        <td class="font-16 font-weight-500 col text-right">
                            {{ taxpayerDetails?.ASaudiPrSh?.split('.')[0] || '-' }}%
                        </td>
                        <td class="font-16 font-weight-500 col text-right">
                            {{ taxpayerDetails?.ANonsaudiPrSh?.split('.')[0] || '-' }}%
                        </td>
                    </tr>

                </tbody>
            </table>
        </div>
        <div class="mb-24" *ngIf="!disableInputs">
            <a class="btn btn-link mr-15">{{lang.form6Details.step1.btn1}}</a>

            <button class="btn btn-primary" (click)="step=2">{{lang.form6Details.step1.btn2}}</button>
        </div>

    </div>
    <!----- Step1 Ends ------>
    <!-- Step 2 -->
    <div class="container" *ngIf="step==2">
        <div class="mb-24">
            <a class="text-Gray" [routerLink]="['/mains/returns/search']"> {{lang.form6Details.step1.path.t1}} > </a>
            {{lang.form6Details.step1.path.t2}}
        </div>
        <div class="mb-32 d-flex justify-content-between align-items-center">

            <a (click)="step=1" class="text-Watercourse d-flex font-weight-bold align-items-center">
                <img src="assets/images/arrow-left-green.svg" class="mr-10 img-reverse"
                    alt="">{{lang.form6Details.step2.path}}
            </a>
            <!-- <div class="bullet-nav d-flex align-items-center">
                <a (click)="step=1" class="active">
                    <span></span>
                </a>
                <a (click)="step=2" class="active">
                    <span></span>
                </a>
                <a (click)="step=4">
                    <span></span>
                </a>
                <a (click)="step=5">
                    <span></span>
                </a>
                <a (click)="step=6">
                    <span></span>
                </a>
            </div> -->
            <div class="d-flex justify-content-between mb-24 align-items-center pt-2">
                <div class="vat-steps">
                    <ul class="p-0 m-0 list-style-none d-flex position-relative" *ngIf="!disableInputs">
                        <li>
                            <a (click)="step=1" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li><a (click)="step=2" class="active">2</a></li>
                        <li><a [ngClass]="{'pointer-none':errorForm6 || ((+taxpayerDetails.AFinesOwedTax)<=0)}"
                                (click)="step=4">3</a>
                        </li>
                        <li><a [ngClass]="{'pointer-none':errorForm6 || ((+taxpayerDetails.AFinesOwedTax)<=0)}"
                                (click)="step=5">4</a></li>
                        <li><a [ngClass]="{'pointer-none':errorForm6 || ((+taxpayerDetails.AFinesOwedTax)<=0) || !taxpayerDetails.ASignQuadrantName || errorFile}"
                                (click)="step=6">5</a></li>
                    </ul>
                    <ul class="p-0 m-0 list-style-none d-flex position-relative" *ngIf="disableInputs">
                        <li>
                            <a (click)="step=1" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li><a (click)="step=2" class="active">2</a></li>
                        <li><a (click)="step=4">3</a></li>
                        <li><a (click)="step=5">4</a></li>
                        <li><a (click)="step=6">5</a></li>
                    </ul>
                </div>
            </div>

        </div>
        <div class="d-flex align-items-center justify-content-between mb-24">
            <div>
                <h2>{{lang.form6Details.step2.title}}</h2>
                <div class="text-Gray font-16">{{lang.form6Details.step2.subtitle}}</div>
            </div>
            <button class="btn btn-primary ar-ml-0" data-toggle="modal"
                data-target="#notesModal">{{lang.form6Details.step2.btn1}}</button>
        </div>

        <div class="border-bottom-whisper mb-32"></div>
        <div class="card-inner mb-24">
            <span class="font-16">{{lang.form6Details.step2.block1.i1}}<span class="text-Watercourse font-weight-bold">
                    {{taxpayerDetails?.AMonth}}</span> {{lang.form6Details.step2.block1.i2}} <span
                    class="text-Watercourse  font-weight-bold">{{taxpayerDetails?.AFiscalYear}}</span> </span>
        </div>
        <form [formGroup]="withHoldingForm6">
            <div class="table mb-24">
                <table width="100%">
                    <thead>
                        <th class="font-16 text-Eerie-Black font-weight-bold" colspan="2">
                            {{lang.form6Details.step2.block1.tableHeading1}}
                        </th>
                        <th width="250" class="font-16 text-Eerie-Black font-weight-bold text-right">
                            {{lang.form6Details.step2.block1.tableHeading2}}
                        </th>
                        <th width="250" class="font-16 text-Eerie-Black font-weight-bold text-right">
                            {{lang.form6Details.step2.block1.tableHeading3}}
                        </th>
                    </thead>
                    <!-- *ngFor="let type of Type;let i=index" -->
                    <tbody formArrayName="Types">
                        <!-- *ngIf="i>0" -->
                        <ng-container *ngFor="let type of Types?.controls;let pi=index" [formGroupName]="pi">
                            <tr>
                                <td class="font-16 text-Eerie-Black">
                                    <div class="d-flex align-items-center">
                                        <!-- <a class="mr-10" data-toggle="modal" (click)="InfoModalOpen(pi)" [ngClass]="{'events-none':type.get('ScheduleApplicable').value==false}">
                                            <img src="assets/images/icon-success.svg" class="withheight24" alt="" data-toggle="tooltip" data-placement="top" title="Attached schedule">
                                        </a> -->
                                        {{type.get('TypeName').value}}
                                        <!-- <input type="text" class = "input165" formControlName="TypeName" disabled> -->
                                    </div>
                                </td>
                                <td class="d-flex justify-content-end">

                                    <div class="d-flex align-items-center justify-content-center material-switch"
                                        *ngIf='!disableInputs; else disableSwitch'>
                                        <span class="pr-26 font-12 text-Gray">
                                            {{lang.form6Details.step2.block1.radiobtn}} </span>
                                        <div class="lable-switch">
                                            <input id="switch{{pi}}" name="" type="checkbox"
                                                formControlName="ScheduleApplicable"
                                                (change)="ScheduleApplicableChange(type,pi,$event)">
                                            <label for="switch{{pi}}" class="label-primary"></label>

                                        </div>

                                    </div>
                                    <!-- <a href="" data-toggle="modal"  class="font-weight-bold font-16 editBtn mr-24" (click)="InfoModalOpen(pi)" [ngClass]="{'events-none':type.get('ScheduleApplicable').value==false}">Edit</a> -->
                                    <ng-template #disableSwitch>
                                        <div class="d-flex align-items-center justify-content-center material-switch">
                                            <span class="pr-26 font-12 text-Gray">
                                                {{lang.form6Details.step2.block1.radiobtn}} </span>
                                            <div class="lable-switch">
                                                <input id="switch{{pi}}" name="" type="checkbox"
                                                    formControlName="ScheduleApplicable"
                                                    (change)="ScheduleApplicableChange(type,pi,$event)" disabled>
                                                <label for="switch{{pi}}" class="label-primary"></label>

                                            </div>

                                        </div>
                                    </ng-template>
                                    <div class="d-flex justify-content-between ml-5 mr-5">
                                        <a class="font-weight-bold font-16 text-Watercourse mr-24 " data-toggle="modal"
                                            data-target="#tin" class="font-weight-bold font-16 editBtn mr-24"
                                            (click)="InfoModalOpen(pi)"
                                            [ngClass]="{'events-none':type.get('ScheduleApplicable').value==false}">{{lang.form6Details.step2.block1.btn}}</a>
                                        <!-- <div class="text-Gray font-16 font-weight-500 ml-15">{{GainLossForm.value.TotalProfitLoss}}</div> -->
                                    </div>


                                </td>
                                <!-- <td class="w-25 text-right">
                                    
                                </td> -->
                                <!-- <td>
                                </td> -->

                                <td class=" text-right justify-content-end">
                                    <!-- {{type.get('PaymentTotal').value}} -->
                                    <input type="text" placeholder="0.00" class="input165  text-right"
                                        pattern="^\d{0,14}(\.\d{0,2})?$" (keyup)="GlobalNumberAllow($event)"
                                        mask="separator" thousandSeparator="," formControlName="PaymentTotal" disabled>
                                    <div
                                        *ngIf="type.get('PaymentTotal').hasError('pattern') && type.get('PaymentTotal').touched">
                                        {{lang.form6Details.Errormessages.er1}}
                                    </div>
                                </td>
                                <td class=" text-right justify-content-end">
                                    <input type="text" placeholder="0.00" class="input165 text-right"
                                        pattern="^\d{0,14}(\.\d{0,2})?$" (keyup)="GlobalNumberAllow($event)"
                                        mask="separator" thousandSeparator="," formControlName="WithheldTaxAmount"
                                        disabled>
                                    <div
                                        *ngIf="type.get('WithheldTaxAmount').hasError('pattern') && type.get('WithheldTaxAmount').touched">
                                        {{lang.form6Details.Errormessages.er1}}
                                    </div>
                                </td>
                            </tr>
                        </ng-container>



                        <tr>
                            <td colspan="2">
                                {{lang.form6Details.step2.block1.i3}}
                            </td>

                            <td class=" text-right">
                                <div class="text-Eerie-Black font-16 font-weight-500">{{totalSchedulePayment || 0.00 |
                                    number:'1.2-2' }} {{lang.form6Details.step1.path.currency}}</div>

                            </td>
                            <td class=" text-right">
                                <div class="text-Eerie-Black font-16 font-weight-500">{{totalWithHeldAmount || 0.00 |
                                    number:'1.2-2' }} {{lang.form6Details.step1.path.currency}}</div>

                            </td>
                        </tr>
                        <tr class="bg-Watercourse-opa1">
                            <td colspan="3">
                                {{lang.form6Details.step2.block1.i4}}
                            </td>


                            <td class=" text-right">
                                <div class="text-Eerie-Black font-16 font-weight-500">{{taxpayerDetails?.ADemurrageTax
                                    || 0.00 | number:'1.2-2' }} {{lang.form6Details.step1.path.currency}}</div>

                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="bg-Watercourse-opa1 d-flex justify-content-between p-24 border-radius-14 mb-56">
                <div class="text-Eerie-Black font-20 font-weight-bold">
                    {{lang.form6Details.step2.block1.i5}}
                </div>
                <div class="font-20 font-weight-bold text-Eerie-Black">
                    <!-- {{((+totalWithHeldAmount)+(+taxpayerDetails.ADemurrageTax)) || 0.00 | number:'1.2-2' }} SAR -->
                    {{taxpayerDetails.AFinesOwedTax || 0.00 | number:'1.2-2' }}
                    {{lang.form6Details.step1.path.currency}}
                </div>
            </div>
        </form>
        <div class="mb-24" *ngIf="!disableInputs">
            <!-- || ((+taxpayerDetails.AFinesOwedTax)<=0) -->
            <!-- [disabled]="!withHoldingForm6.valid" -->
            <button class="btn btn-link mr-3" *ngIf="retrunObjStatus == 'IP017'" data-toggle="modal"
                data-target="#VoidModal">{{lang.form6Details.step2.btn4}}</button>
            <button class="btn btn-primary mr-3" *ngIf="!isAmendment"
                [disabled]="errorForm6 || ((+taxpayerDetails.AFinesOwedTax)<=0)"
                (click)="SaveSchedules();">{{lang.form6Details.step2.btn2}}</button>
            <button class="btn btn-primary mr-3" [disabled]="errorForm6 || ((+taxpayerDetails.AFinesOwedTax)<=0)"
                (click)="step=4;">{{lang.form6Details.step2.btn3}}</button>

        </div>


    </div>
    <!-- FILTER MODAL STARTS -->
    <!-- <div class="modal modal-filter fade" id="addMultipleFormsModal" tabindex="-1" role="dialog"
    aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="text-right modal-filter-head">

                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span class="material-icons font-28">
                        clear
                    </span>
                </button>
            </div>
            <div class="modal-body">

                <h2 class="mb-16">Add Multiple Forms</h2>
                <div class="font-16 text-Gray mb-32">
                    How many forms would you like to add?
                </div>
                <div class="d-flex justify-content-between card-inner mb-56 p-24">
                    <div class="d-flex align-items-center text-Nero font-12">
                        <img src="assets/images/icon-info.svg" class="mr-24" alt="">
                        <img src="assets/images/icon-plus.svg" class="ml-15" alt="" style="width:24px; height:24px">
                    </div>
                    <div class="text-right">
                        <input type="text" placeholder="3" class="input165 text-right">
                    </div>
                </div>
                <div class="form-group text-right">
                    <button class="btn btn-primary">Done</button>

                </div>
            </div>

        </div>
    </div>
</div> -->
    <!-- FILTER MODAL ENDS -->
    <!-- Step 3 -->
    <!-- <div class="container" *ngIf="step==3">
    <div class="mb-24">
        <a class="text-Gray" [routerLink]="['/mains/returns/search']"> {{lang.form6Details.step1.path.t1}} > </a> {{lang.form6Details.step1.path.t1}}
    </div>
    <div class="mb-32 d-flex justify-content-between align-items-center">

        <a (click)="step=2" class="text-Watercourse d-flex font-weight-bold align-items-center">
            <img src="assets/images/arrow-left-green.svg" class="mr-10" alt=""> Back
        </a>

    </div>
    <div class="mb-24">
        <h2 class="mb-12">Withholding Return</h2>
        <div class="text-Gray font-16">Please select how to provide with the Yearly Withholding Tax data</div>
    </div>
    <div class="border-bottom-whisper mb-32"></div>
    <div class="d-flex mb-32">
        <div class="card mark-light-gray mr-24 p-15" style="width: 200px;height: 104px;">
            <p class="m-0 font-weight-500 font-16 mt-auto"> Fill Manually </p>
        </div>
        <div class="card mark-dark-green mr-24 p-15" style="width: 200px;height: 104px;">
            <p class="m-0 font-weight-500 font-16 mt-auto text-white"> Uploading Excel </p>
        </div>
    </div>
    <p class="mb-16 font-16">Yearly Withholding Tax </p>
    <div class="cardh180 card mb-40 p-24" style="width:437px; border:1px solid gray">
        <div class="d-flex justify-content-end"><img src="assets/images/icon-delete.svg"></div>
        <div class="d-flex justify-content-center align-items-center h-100">
            <p class="m-0 font-weight-500 font-16 text-center">
                <img src="assets/images/pdf.svg" class="mb-10"> <br />
                File1.pdf
                <br />
                <span class="font-12 font-weight-normal text-Gray">20MB</span>
            </p>

        </div>
    </div>
    <div class="card p-24 mb-56">
        <div class="d-flex">
            <img src="assets/images/icon-info.svg" class="mr-15" alt="">
            <span class="font-12 text-Gray">
                Caution, you must adjust the settings of the scanner so that the compressed file size less than 10MB.
                Single file size no exceeds 20MB.
                (Choose only file with extension .XLS, .XLSX, .DOC, .DOCX, .PDF, .JPG, .JPEG & .PNG)
            </span>
        </div>


    </div>
    <div class="mb-24">
        <button class="btn btn-primary" (click)="step=4">Continue</button>
    </div>

</div> -->
    <!-- Step 4 -->
    <div class="container" *ngIf="step==4">
        <div class="mb-24">
            <a class="text-Gray" [routerLink]="['/mains/returns/search']"> {{lang.form6Details.step1.path.t1}} > </a>
            {{lang.form6Details.step1.path.t2}}
        </div>
        <div class="mb-32 d-flex justify-content-between align-items-center">

            <a (click)="step=2" class="text-Watercourse d-flex font-weight-bold align-items-center">
                <img src="assets/images/arrow-left-green.svg" class="mr-10 img-reverse" alt="">
                {{lang.form6Details.step4.path}}
            </a>
            <!-- <div class="bullet-nav d-flex align-items-center">
                <a (click)="step=1" class="active">
                    <span></span>
                </a>
                <a (click)="step=2" class="active">
                    <span></span>
                </a>
                <a (click)="step=4" class="active">
                    <span></span>
                </a>
                <a (click)="step=5">
                    <span></span>
                </a>
                <a (click)="step=6">
                    <span></span>
                </a>
            </div> -->
            <div class="d-flex justify-content-between mb-24 align-items-center pt-2">
                <div class="vat-steps">
                    <ul class="p-0 m-0 list-style-none d-flex position-relative" *ngIf="!disableInputs">
                        <li>
                            <a (click)="step=1" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li>
                            <a (click)="step=2" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li><a class="active"
                                [ngClass]="{'pointer-none':errorForm6 || ((+taxpayerDetails.AFinesOwedTax)<=0)}"
                                (click)="step=4">3</a>
                        </li>
                        <li><a [ngClass]="{'pointer-none':errorForm6 || ((+taxpayerDetails.AFinesOwedTax)<=0)}"
                                (click)="step=5">4</a></li>
                        <li><a [ngClass]="{'pointer-none':errorForm6 || ((+taxpayerDetails.AFinesOwedTax)<=0) || !taxpayerDetails.ASignQuadrantName || errorFile}"
                                (click)="step=6">5</a></li>
                    </ul>
                    <ul class="p-0 m-0 list-style-none d-flex position-relative" *ngIf="disableInputs">
                        <li>
                            <a (click)="step=1" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li>
                            <a (click)="step=2" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li><a (click)="step=4" class="active">3</a></li>
                        <li><a (click)="step=5">4</a></li>
                        <li><a (click)="step=6">5</a></li>
                    </ul>
                </div>
            </div>

        </div>
        <div class="mb-24">
            <h2 class="mb-12">{{lang.form6Details.step4.title}}</h2>
            <div class="text-Gray font-16">{{lang.form6Details.step4.subtitle}}</div>
        </div>
        <div class="border-bottom-whisper mb-32"></div>
        <!-- <p class="mb-16 font-16">{{lang.form6Details.step4.p1}}</p> -->
        <div class="row custom-row">
            <ng-container *ngFor="let obj of taxpayerDetails.AttDetSet.results">
                <div class="col-sm-6" *ngIf="obj.Dotyp=='RT06'">
                    <ng-container>
                        <div class="cardh180 card mb-40 p-24 border-gray">
                            <div class="d-flex justify-content-end" *ngIf="!disableInputs"><img
                                    src="assets/images/icon-delete.svg" (click)="DeleteAttachement(obj)"></div>
                            <div class="d-flex justify-content-center align-items-center h-100">
                                <p class="m-0 font-weight-500 font-16 text-center">
                                    <img *ngIf="obj.FileExtn.toString().toUpperCase()=='PDF'"
                                        src="assets/images/icon-pdf.svg" class="mb-10">
                                    <img *ngIf="obj.FileExtn.toString().toUpperCase()=='XLSX'"
                                        src="assets/images/icon-excel.svg" class="mb-10">
                                    <img *ngIf="obj.FileExtn.toString().toUpperCase()=='XLS'"
                                        src="assets/images/icon-excel.svg" class="mb-10">
                                    <img *ngIf="obj.FileExtn.toString().toUpperCase()=='DOC'"
                                        src="assets/images/icon-doc.svg" class="mb-10">
                                    <img *ngIf="obj.FileExtn.toString().toUpperCase()=='DOCX'"
                                        src="assets/images/icon-doc.svg" class="mb-10">
                                    <img *ngIf="obj.FileExtn.toString().toUpperCase()=='JPG'"
                                        src="assets/images/icon-jpg.svg" class="mb-10">
                                    <img *ngIf="obj.FileExtn.toString().toUpperCase()=='JPEG'"
                                        src="assets/images/icon-jpg.svg" class="mb-10">
                                    <img *ngIf="obj.FileExtn.toString().toUpperCase()=='PNG'"
                                        src="assets/images/icon-png.svg" class="mb-10">
                                    <br />
                                    {{obj.Filename}}
                                </p>
                            </div>
                        </div>
                    </ng-container>
                </div>
            </ng-container>

            <div class="col-sm-6" *ngIf="!disableInputs">
                <div
                    class="cardh180 card mb-40 p-24 width100P d-flex justify-content-center align-items-center border-gray-dashed">

                    <input type="file"
                        class="custom-upload-file opacity-0 cardh219 d-flex align-items-center justify-content-center w-100"
                        #inputFile1 (change)="UploadGeneralAttachment($event)">
                    <div
                        class="m-0 font-weight-500 font-16 text-center  upload-text-items  position-absolute text-center">
                        <img src="assets/images/icon-plus.svg" class="mb-10 withheight24"> <br />
                        <p class="text-Watercourse mb-24 font-weight-bold"> {{lang.form6Details.step4.p2}}</p>
                        <!-- <p class="font-12 font-weight-normal text-Gray">10MB{{lang.form6Details.step4.p3}}</p> -->
                    </div>
                </div>
            </div>
        </div>
        <!-- <div class="d-flex"> -->
        <!-- <div class="mr-24">
                <div >
                    
                </div>
            </div> -->
        <!-- <div>

                <div class="cardh180 card mb-40 p-24 d-flex justify-content-center align-items-center h-100" style="width: 437px;border: 1px dashed #bbbbbb;">

                    <div class="m-0 font-weight-500 font-16 text-center">
                        <img src="assets/images/icon-plus.svg" class="mb-10 withheight24"> <br />

                        <input type="file" accept="application/DOC,application/DOCX,application/XLS,application/XLSX,application/PDF,image/JPG" #inputFile1 (change)="UploadGeneralAttachment($event)">
                        <p class="text-Watercourse mb-24 font-weight-bold"> {{lang.form6Details.step4.p2}}</p>
                        <p class="font-12 font-weight-normal text-Gray">{{lang.form6Details.step4.p3}}</p>
                    </div>


                </div>
            </div> -->


        <!-- </div> -->
        <div class="card p-24 mb-56" *ngIf="!disableInputs">
            <div class="d-flex">
                <img src="assets/images/icon-info.svg" class="mr-15" alt="">
                <span class="font-12 text-Gray">
                    {{lang.form6Details.step4.span}}
                </span>
            </div>


        </div>
        <div class="mb-24" *ngIf="!disableInputs">
            <!-- (click)="UploadFile();" -->
            <button class="btn btn-link mr-3" *ngIf="retrunObjStatus == 'IP017'" data-toggle="modal"
                data-target="#VoidModal">{{lang.form6Details.step2.btn4}}</button>
            <button class="btn btn-link" (click)="step=5;">{{lang.form6Details.step4.btn1}}</button>
            <button class="btn btn-primary ml-15" (click)="step=5;">{{lang.form6Details.step4.btn2}}</button>

        </div>
    </div>
    <!-- Step 5 -->
    <div class="container" *ngIf="step==5">
        <div class="mb-24">
            <a class="text-Gray" [routerLink]="['/mains/returns/search']"> {{lang.form6Details.step1.path.t1}} > </a>
            {{lang.form6Details.step1.path.t2}}
        </div>
        <div class="mb-32 d-flex justify-content-between align-items-center">
            <a (click)="step=4" class="text-Watercourse d-flex font-weight-bold align-items-center">
                <img src="assets/images/arrow-left-green.svg" class="mr-10 img-reverse" alt="">
                {{lang.form6Details.step5.path}}
            </a>
            <!-- <div class="bullet-nav d-flex align-items-center">
                <a (click)="step=1" class="active">
                    <span></span>
                </a>
                <a (click)="step=2" class="active">
                    <span></span>
                </a>
                <a (click)="step=4" class="active">
                    <span></span>
                </a>
                <a (click)="step=5" class="active">
                    <span></span>
                </a>
                <a (click)="step=6">
                    <span></span>
                </a>
            </div> -->
            <div class="d-flex justify-content-between mb-24 align-items-center pt-2">
                <div class="vat-steps">
                    <ul class="p-0 m-0 list-style-none d-flex position-relative" *ngIf="!disableInputs">
                        <li>
                            <a (click)="step=1" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li>
                            <a (click)="step=2" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li>
                            <a class="active"
                                [ngClass]="{'pointer-none':errorForm6 || ((+taxpayerDetails.AFinesOwedTax)<=0)}"
                                (click)="step=4"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li><a class="active"
                                [ngClass]="{'pointer-none':errorForm6 || ((+taxpayerDetails.AFinesOwedTax)<=0)}"
                                (click)="step=5">4</a></li>
                        <li><a [ngClass]="{'pointer-none':errorForm6 || ((+taxpayerDetails.AFinesOwedTax)<=0) || !taxpayerDetails.ASignQuadrantName || errorFile}"
                                (click)="step=6">5</a></li>
                    </ul>
                    <ul class="p-0 m-0 list-style-none d-flex position-relative" *ngIf="disableInputs">
                        <li>
                            <a (click)="step=1" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li>
                            <a (click)="step=2" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li>
                            <a (click)="step=4" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li><a (click)="step=5" class="active">4</a></li>
                        <li><a (click)="step=6">5</a></li>
                    </ul>
                </div>
            </div>

        </div>
        <div class="mb-24">
            <h2 class="mb-12">{{lang.form6Details.step5.title1}}</h2>
            <div class="text-Gray font-16">{{lang.form6Details.step5.subtitle1}}</div>
        </div>
        <div class="mb-24">
            <!-- <h2 class="mb-12">{{lang.form6Details.step5.title2}}</h2> -->
            <div class="text-Gray font-16">{{lang.form6Details.step5.subtitle2}}</div>
        </div>
        <div class="border-bottom-whisper mb-32"></div>
        <!-- <p class="mb-16 font-16">{{lang.form6Details.step5.p1}}</p> -->
        <div class="row custom-row">
            <ng-container *ngFor="let obj of taxpayerDetails.AttDetSet.results">

                <div class="col-sm-6" *ngIf="obj.Dotyp=='R06A'">
                    <ng-container>
                        <div class="cardh180 card mb-40 p-24 border-gray">
                            <div class="d-flex justify-content-end" *ngIf="!disableInputs"><img
                                    src="assets/images/icon-delete.svg" (click)="DeleteAttachement(obj)"></div>
                            <div class="d-flex justify-content-center align-items-center h-100">
                                <p class="m-0 font-weight-500 font-16 text-center">
                                    <img *ngIf="obj.FileExtn.toString().toUpperCase()=='PDF'"
                                        src="assets/images/icon-pdf.svg" class="mb-10">
                                    <img *ngIf="obj.FileExtn.toString().toUpperCase()=='XLSX'"
                                        src="assets/images/icon-excel.svg" class="mb-10">
                                    <img *ngIf="obj.FileExtn.toString().toUpperCase()=='XLS'"
                                        src="assets/images/icon-excel.svg" class="mb-10">
                                    <img *ngIf="obj.FileExtn.toString().toUpperCase()=='DOC'"
                                        src="assets/images/icon-doc.svg" class="mb-10">
                                    <img *ngIf="obj.FileExtn.toString().toUpperCase()=='DOCX'"
                                        src="assets/images/icon-doc.svg" class="mb-10">
                                    <img *ngIf="obj.FileExtn.toString().toUpperCase()=='JPG'"
                                        src="assets/images/icon-jpg.svg" class="mb-10">
                                    <img *ngIf="obj.FileExtn.toString().toUpperCase()=='JPEG'"
                                        src="assets/images/icon-jpg.svg" class="mb-10">
                                    <img *ngIf="obj.FileExtn.toString().toUpperCase()=='PNG'"
                                        src="assets/images/icon-png.svg" class="mb-10">
                                    <br />
                                    {{obj.Filename}}
                                </p>
                            </div>
                        </div>
                    </ng-container>
                </div>
            </ng-container>

            <div class="col-sm-6" *ngIf="!disableInputs">

                <div
                    class="cardh180 card mb-40 p-24 width100P d-flex justify-content-center align-items-center border-gray-dashed">

                    <input type="file"
                        class="custom-upload-file opacity-0 cardh219 d-flex align-items-center justify-content-center w-100"
                        #inputFile2 (change)="UploadFile($event)">
                    <div
                        class="m-0 font-weight-500 font-16 text-center  upload-text-items  position-absolute text-center">
                        <img src="assets/images/icon-plus.svg" class="mb-10 withheight24"> <br />
                        <p class="text-Watercourse mb-24 font-weight-bold"> {{lang.form6Details.step5.p2}}</p>
                        <!-- <p class="font-12 font-weight-normal text-Gray">{{lang.form6Details.step5.p3}}</p> -->
                    </div>
                </div>
            </div>

        </div>
        <!-- <div class="d-flex"> -->
        <!-- <div class="mr-24">
               
            </div> -->
        <!-- <div>

                <div class="cardh180 card mb-40 p-24 d-flex justify-content-center align-items-center h-100" style="width: 437px;border: 1px dashed #bbbbbb;">

                    <div class="m-0 font-weight-500 font-16 text-center">
                        <img src="assets/images/icon-plus.svg" class="mb-10 withheight24"> <br />
                        <input type="file" accept="application/DOC,application/DOCX,application/XLS,application/XLSX,application/PDF,image/JPG" #inputFile2 (change)="UploadFile($event)">
                        <p class="text-Watercourse mb-24 font-weight-bold"> {{lang.form6Details.step5.p2}}</p>
                        <p class="font-12 font-weight-normal text-Gray">{{lang.form6Details.step5.p3}}</p>
                    </div>


                </div>
            </div> -->

        <!-- </div> -->
        <div class="card p-24 mb-56" *ngIf="!disableInputs">
            <div class="d-flex">
                <img src="assets/images/icon-info.svg" class="mr-15" alt="">
                <span class="font-12 text-Eerie-Black">
                    <a data-toggle="modal" data-target="#instructionsModal">{{lang.form6Details.Declarationpopup.p}}</a>
                </span>
            </div>


        </div>

        <div class="border-bottom-whisper mb-32"></div>
        <div class="row mb-8">
            <div class="col-sm-6">
                <div class="form-group">
                    <label>{{lang.form6Details.step5.i1}}</label>
                    <input type="text" class="form-control" maxlength="80"
                        [placeholder]=lang.form6Details.step5.placeholder [disabled]="disableInputs"
                        [(ngModel)]="taxpayerDetails.ASignQuadrantName" (keypress)="SpaceValidator($event)">
                </div>
            </div>
            <div class="col-sm-6">
                <div class="form-group">
                    <label>{{lang.form6Details.step5.i2}}</label>
                    <div class="date-control-group">
                        <input type="text" [value]="today | date:'dd/MM/yyyy'" disabled>
                        <!-- <img src="assets/images/icon-calendar.svg" class="mr-15" alt=""> -->

                    </div>


                </div>
            </div>
        </div>
        <div class="card p-24 mb-56" *ngIf="!disableInputs">
            <div class="d-flex">
                <img src="assets/images/icon-info.svg" class="mr-15" alt="">
                <span class="font-12 text-Gray">
                    {{lang.form6Details.step5.span}}
                </span>
            </div>


        </div>
        <!-- [disabled]="errorFile" -->

        <div class="mb-24" *ngIf="!disableInputs">
            <button class="btn btn-link mr-3" *ngIf="retrunObjStatus == 'IP017'" data-toggle="modal"
                data-target="#VoidModal">{{lang.form6Details.step2.btn4}}</button>
            <button class="btn btn-primary mr-3" (click)="SaveSchedules();" *ngIf="!isAmendment"
                [disabled]="!taxpayerDetails.ASignQuadrantName || taxpayerDetails.AttDetSet['results'].length < 1 || errorFile ">{{lang.form6Details.step5.btn1}}</button>
            <button class="btn btn-primary"
                [disabled]="!taxpayerDetails.ASignQuadrantName || taxpayerDetails.AttDetSet['results'].length < 1 || errorFile"
                (click)="step=6">{{lang.form6Details.step5.btn2}}</button>

        </div>

    </div>
    <!-- Step 6 -->
    <div class="container" *ngIf="step==6">
        <div class="mb-24">
            <a class="text-Gray" [routerLink]="['/mains/returns/search']"> {{lang.form6Details.step1.path.t1}} > </a>
            {{lang.form6Details.step1.path.t2}}
        </div>
        <div class="mb-32 d-flex justify-content-between align-items-center">

            <a (click)="step=5" class="text-Watercourse d-flex font-weight-bold align-items-center">
                <img src="assets/images/arrow-left-green.svg" class="mr-10 img-reverse" alt="">
                {{lang.form6Details.step6.path}}
            </a>
            <!-- <div class="bullet-nav d-flex align-items-center">
                <a (click)="step=1" class="active">
                    <span></span>
                </a>
                <a (click)="step=2" class="active">
                    <span></span>
                </a>
                <a (click)="step=4" class="active">
                    <span></span>
                </a>
                <a (click)="step=5" class="active">
                    <span></span>
                </a>
                <a (click)="step=6" class="active">
                    <span></span>
                </a>
                <a class="ml-10">
                    <img src="assets/images/icon-gcheck.svg" alt="">
                </a>
            </div> -->
            <div class="d-flex justify-content-between mb-24 align-items-center pt-2">
                <div class="vat-steps">
                    <ul class="p-0 m-0 list-style-none d-flex position-relative" *ngIf="!disableInputs">
                        <li>
                            <a (click)="step=1" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li>
                            <a (click)="step=2" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li>
                            <a class="active"
                                [ngClass]="{'pointer-none':errorForm6 || ((+taxpayerDetails.AFinesOwedTax)<=0)}"
                                (click)="step=4"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li>
                            <a class="active"
                                [ngClass]="{'pointer-none':errorForm6 || ((+taxpayerDetails.AFinesOwedTax)<=0)}"
                                (click)="step=5"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li><a class="active"
                                [ngClass]="{'pointer-none':errorForm6 || ((+taxpayerDetails.AFinesOwedTax)<=0) || !taxpayerDetails.ASignQuadrantName || errorFile }"
                                (click)="step=6">5</a></li>
                    </ul>
                    <ul class="p-0 m-0 list-style-none d-flex position-relative" *ngIf="disableInputs">
                        <li>
                            <a (click)="step=1" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li>
                            <a (click)="step=2" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li>
                            <a (click)="step=4" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li>
                            <a (click)="step=5" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a>
                        </li>
                        <li><a (click)="step=6" class="active">5</a></li>
                    </ul>
                </div>
            </div>

        </div>
        <div class="mb-24">
            <h2 class="mb-12">{{lang.form6Details.step6.title}}</h2>
            <div class="text-Gray font-16">{{lang.form6Details.step6.subtitle}}</div>
        </div>
        <div class="border-bottom-whisper mb-32"></div>


        <div class="card  mb-24 card-shadow-none">
            <div class="pxy-2412">
                <h3 class="d-flex align-items-center mb-0">
                    <span class="ellipse48 bg-Watercourse-opa1 mr-15"><img src="assets/images/icon-note.svg" class=""
                            alt=""></span> {{lang.form6Details.step1.block1.title}}
                </h3>

            </div>

            <div class="border-bottom-whisper"> </div>
            <div class="row p-24">
                <div class="col-sm-6">
                    <p class="font-16 text-Gray  mb-0">{{lang.form6Details.step1.block1.i1}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxpayerDetails?.ATaxpayerNm || '-'}}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form6Details.step1.block1.i2}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxpayerDetails?.ABranch || '-'}}
                    </div>
                </div>
            </div>
            <div class="border-bottom-whisper"> </div>
            <div class="row  p-24">

                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form6Details.step1.block1.i3}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxpayerDetails?.AEmail || '-'}}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form6Details.step1.block1.i4}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500" *ngIf="taxpayerDetails?.Line0">
                        {{ taxpayerDetails?.Line0 + " " + taxpayerDetails?.Line1 + " " + taxpayerDetails?.Line2 + " " +
                        taxpayerDetails?.Line3 + "" + taxpayerDetails?.Line4 + " " + taxpayerDetails?.Line5 + " " +
                        taxpayerDetails?.Line6 + " " + taxpayerDetails?.Line7 + " " + taxpayerDetails?.Line8}}
                    </div>
                    <div class="text-Eerie-Black font-16 font-weight-500" *ngIf="!taxpayerDetails?.Line0">
                        {{ taxpayerDetails?.Line0 + " " + taxpayerDetails?.Line1 + " " + taxpayerDetails?.Line2 + " " +
                        taxpayerDetails?.Line3 + "" + taxpayerDetails?.Line4 + " " + taxpayerDetails?.Line5 + " " +
                        taxpayerDetails?.Line6 + " " + taxpayerDetails?.Line7 + " " + taxpayerDetails?.Line8}}
                    </div>
                </div>
            </div>
            <div class="border-bottom-whisper"> </div>
            <div class="row  p-24">

                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form6Details.step1.block1.i5}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxpayerDetails?.ATelephone || '-'}}
                    </div>
                </div>
            </div>


        </div>

        <div class="card mb-24 card-shadow-none">
            <div class="pxy-2412">
                <h3 class="d-flex align-items-center mb-0">
                    <span class="ellipse48 bg-Watercourse-opa1 mr-15"><img src="assets/images/icon-note.svg" class=""
                            alt=""></span> {{lang.form6Details.step1.block2.title}}
                </h3>

            </div>

            <div class="border-bottom-whisper"> </div>
            <div class="row p-24">
                <div class="col-sm-6">
                    <p class="font-16 text-Gray  mb-0">{{lang.form6Details.step1.block2.i1}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxpayerDetails?.Formtype || '-'}}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form6Details.step1.block2.i2}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxpayerDetails?.PerslText}}
                    </div>
                </div>
            </div>
            <div class="border-bottom-whisper"> </div>
            <div class="row  p-24">

                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form6Details.step1.block2.i3}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500" *ngIf="taxpayerDetails.AYear > 1900">
                        {{ periodStartDate || '-' }} - {{ periodEndDate || '-'}}
                    </div>
                    <div class="text-Eerie-Black font-16 font-weight-500" *ngIf="taxpayerDetails.AYear < 1900">
                        {{ periodStartDate?.hy || '-' }}/{{periodStartDate?.hm || '-' }}/{{periodStartDate?.hd || '-' }}
                        - {{
                        periodEndDate?.hy || '-' }}/{{periodEndDate?.hm || '-' }}/{{periodEndDate?.hd || '-'}}
                    </div>
                </div>

            </div>
        </div>

        <div class="card  mb-24 card-shadow-none">
            <div class="pxy-2412">
                <h3 class="d-flex align-items-center mb-0">
                    <span class="ellipse48 bg-Watercourse-opa1 mr-15"><img src="assets/images/icon-note.svg" class=""
                            alt=""></span> {{lang.form6Details.step1.block3.title}}
                </h3>

            </div>

            <div class="border-bottom-whisper"> </div>
            <div class="row p-24">
                <div class="col-sm-6">
                    <p class="font-16 text-Gray  mb-0">{{lang.form6Details.step1.block3.i1}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxpayerDetails?.ANoOfOutlet || '-' }}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form6Details.step1.block3.i2}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxpayerDetails?.AMainact || '-' }}
                    </div>
                </div>
            </div>
            <div class="border-bottom-whisper"> </div>
            <div class="row  p-24">

                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form6Details.step1.block3.i3}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxpayerDetails?.AResidency || '-' }}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form6Details.step1.block3.i4}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxpayerDetails?.AActmethod || '-' }}
                    </div>
                </div>
            </div>
            <div class="border-bottom-whisper"> </div>
            <div class="row  p-24">

                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form6Details.step1.block3.i5}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxpayerDetails?.AFiscalPeriod || '-' }}
                    </div>
                </div>
            </div>


        </div>

        <div class="table mb-24">
            <table width="100%" class="table-bordered">
                <thead>
                    <tr class="d-flex">
                        <th class="font-16 text-Eerie-Black font-weight-bold col">
                            {{lang.form6Details.step1.block3.tableHeading1}}
                        </th>
                        <th class="font-16 text-Eerie-Black font-weight-bold col text-right">
                            {{lang.form6Details.step1.block3.tableHeading2}}
                        </th>
                        <th class="font-16 text-Eerie-Black font-weight-bold col text-right">
                            {{lang.form6Details.step1.block3.tableHeading3}}
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="d-flex">
                        <td class="font-16 col">
                            {{lang.form6Details.step1.block3.tr1}}
                        </td>
                        <td class="font-16 font-weight-500 col text-right">
                            {{ taxpayerDetails?.ASaudiCaSh.split('.')[0] || '-' }}%
                        </td>
                        <td class="font-16 font-weight-500 col text-right">
                            {{ taxpayerDetails?.ANonsaudiCaSh.split('.')[0] || '-'}}%
                        </td>
                    </tr>
                    <tr class="d-flex">
                        <td class="font-16 col">
                            {{lang.form6Details.step1.block3.tr2}}
                        </td>
                        <td class="font-16 font-weight-500 col text-right">
                            {{ taxpayerDetails?.ASaudiPrSh.split('.')[0] || '-' }}%
                        </td>
                        <td class="font-16 font-weight-500 col text-right">
                            {{ taxpayerDetails?.ANonsaudiPrSh.split('.')[0] || '-' }}%
                        </td>
                    </tr>

                </tbody>
            </table>
        </div>
        <div class="card mb-24">
            <div class="pxy-2412">
                <div class="d-flex align-items-center justify-content-between">
                    <h3 class="d-flex align-items-center">
                        <span class="ellipse48 bg-Watercourse-opa1 mr-15"><img src="assets/images/icon-tax.svg" class=""
                                alt=""></span> {{lang.form6Details.step6.heading}}
                    </h3>
                    <span class="text-Watercourse font-weight-bold cursor-pointer" *ngIf="!disableInputs"
                        (click)="step=2">{{lang.form6Details.step6.btn1}}</span>
                </div>
            </div>
            <div class="table border-0 rounded-0 m-0">
                <table width="100%">

                    <tbody>
                        <tr>
                            <td class="font-16 text-Eerie-Black" width="80%">
                                <div class="d-flex align-items-center">
                                    {{lang.form6Details.step2.block1.i3}}
                                </div>
                            </td>

                            <td class=" text-right">
                                <div class="font-16 font-weight-500">
                                    {{totalSchedulePayment || 0.00 | number:'1.2-2'}}
                                    {{lang.form6Details.step1.path.currency}}
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="font-16 text-Eerie-Black" width="80%">
                                <div class="d-flex align-items-center">
                                    {{lang.form6Details.step2.block1.i6}}
                                </div>
                            </td>

                            <td class=" text-right">
                                <div class="font-16 font-weight-500">
                                    {{totalWithHeldAmount || 0.00 | number:'1.2-2'}}
                                    {{lang.form6Details.step1.path.currency}}
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="font-16 text-Eerie-Black" width="80%">
                                <div class="d-flex align-items-center">
                                    {{lang.form6Details.step2.block1.i4}}
                                </div>
                            </td>

                            <td class=" text-right">
                                <div class="font-16 font-weight-500">
                                    {{taxpayerDetails?.ADemurrageTax || 0.00 | number:'1.2-2'}}
                                    {{lang.form6Details.step1.path.currency}}
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="font-16 text-Eerie-Black" width="80%">
                                <div class="d-flex align-items-center">
                                    {{lang.form6Details.step2.block1.i5}}
                                </div>
                            </td>

                            <td class=" text-right">
                                <div class="font-16 font-weight-500">
                                    {{((+totalWithHeldAmount)+(+taxpayerDetails.ADemurrageTax)) || 0.00 |
                                    number:'1.2-2'}} {{lang.form6Details.step1.path.currency}}
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="card  mb-24 card-shadow-none">
            <div class="pxy-2412">
                <div class="d-flex align-items-center justify-content-between">
                    <h3 class="d-flex align-items-center mb-0">
                        <span class="ellipse48 bg-Watercourse-opa1 mr-15"><img src="assets/images/icon-attach.svg"
                                class="" alt=""></span> {{lang.form6Details.step6.heading2}}
                    </h3>
                    <span class="text-Watercourse font-weight-bold cursor-pointer" *ngIf="!disableInputs"
                        (click)="step=4;">{{lang.form6Details.step6.btn1}}</span>
                </div>
            </div>

            <div class="border-bottom-whisper"> </div>
            <div class="row p-24 d-flex">
                <div class="col-sm-12">
                    <!-- <p class="font-16 text-Gray  mb-0">{{lang.form6Details.step4.p1}} </p> -->
                    <div *ngFor="let obj of taxpayerDetails.AttDetSet.results">
                        <div *ngIf="obj.Dotyp=='RT06'">
                            <div class="d-flex h-100">
                                <p class="m-0 font-weight-500 font-16 text-center">
                                    <span class="mr-3">{{obj.Filename}}</span>
                                    <img *ngIf="obj.FileExtn.toString().toUpperCase()=='PDF'"
                                        src="assets/images/icon-pdf.svg" class="mb-10">
                                    <img *ngIf="obj.FileExtn.toString().toUpperCase()=='XLSX'"
                                        src="assets/images/icon-excel.svg" class="mb-10">
                                    <img *ngIf="obj.FileExtn.toString().toUpperCase()=='XLS'"
                                        src="assets/images/icon-excel.svg" class="mb-10">
                                    <img *ngIf="obj.FileExtn.toString().toUpperCase()=='DOC'"
                                        src="assets/images/icon-doc.svg" class="mb-10">
                                    <img *ngIf="obj.FileExtn.toString().toUpperCase()=='DOCX'"
                                        src="assets/images/icon-doc.svg" class="mb-10">
                                    <img *ngIf="obj.FileExtn.toString().toUpperCase()=='JPG'"
                                        src="assets/images/icon-jpg.svg" class="mb-10">
                                    <img *ngIf="obj.FileExtn.toString().toUpperCase()=='JPEG'"
                                        src="assets/images/icon-jpg.svg" class="mb-10">
                                    <img *ngIf="obj.FileExtn.toString().toUpperCase()=='PNG'"
                                        src="assets/images/icon-png.svg" class="mb-10">
                                </p>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="card  mb-56 card-shadow-none">
            <div class="pxy-2412">
                <div class="d-flex align-items-center justify-content-between">
                    <h3 class="d-flex align-items-center">
                        <span class="ellipse48 bg-Watercourse-opa1 mr-15"><img src="assets/images/icon-declaration.svg"
                                class="" alt=""></span> {{lang.form6Details.step5.title1}}
                    </h3>
                    <span class="text-Watercourse font-weight-bold cursor-pointer" *ngIf="!disableInputs"
                        (click)="step=5;">{{lang.form6Details.step6.btn1}}</span>
                </div>
            </div>

            <div class="border-bottom-whisper"> </div>
            <div class="row p-24 d-flex">
                <div class="col-sm-12">
                    <p class="font-16 text-Gray  mb-10"> {{lang.form6Details.step6.heading2}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        <div *ngFor="let obj of taxpayerDetails.AttDetSet.results">
                            <div *ngIf="obj.Dotyp=='R06A'">
                                <div class="d-flex align-items-center h-100">
                                    <p class="m-0 font-weight-500 font-16 text-center">
                                        <span class="mr-3">{{obj.Filename}}</span>
                                        <img *ngIf="obj.FileExtn.toString().toUpperCase()=='PDF'"
                                            src="assets/images/icon-pdf.svg" class="mb-10">
                                        <img *ngIf="obj.FileExtn.toString().toUpperCase()=='XLSX'"
                                            src="assets/images/icon-excel.svg" class="mb-10">
                                        <img *ngIf="obj.FileExtn.toString().toUpperCase()=='XLS'"
                                            src="assets/images/icon-excel.svg" class="mb-10">
                                        <img *ngIf="obj.FileExtn.toString().toUpperCase()=='DOC'"
                                            src="assets/images/icon-doc.svg" class="mb-10">
                                        <img *ngIf="obj.FileExtn.toString().toUpperCase()=='DOCX'"
                                            src="assets/images/icon-doc.svg" class="mb-10">
                                        <img *ngIf="obj.FileExtn.toString().toUpperCase()=='JPG'"
                                            src="assets/images/icon-jpg.svg" class="mb-10">
                                        <img *ngIf="obj.FileExtn.toString().toUpperCase()=='JPEG'"
                                            src="assets/images/icon-jpg.svg" class="mb-10">
                                        <img *ngIf="obj.FileExtn.toString().toUpperCase()=='PNG'"
                                            src="assets/images/icon-png.svg" class="mb-10">
                                    </p>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <div class="row p-24">
                <div class="col-sm-6">
                    <p class="font-16 text-Gray  mb-0">{{lang.form6Details.step5.i1}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{taxpayerDetails.ASignQuadrantName}}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray  mb-0">{{lang.form6Details.step5.i2}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ today || '-' | date:'dd/MM/yyyy'}}
                    </div>
                </div>
            </div>
        </div>

        <div class="mb-24">
            <button class="btn btn-link mr-3" *ngIf="retrunObjStatus == 'IP017' && !disableInputs" data-toggle="modal"
                data-target="#VoidModal">{{lang.form6Details.step2.btn4}}</button>
            <button class="btn btn-primary mr-24" *ngIf="!disableInputs"
                (click)="SaveForm6()">{{lang.form6Details.step6.btn2}}</button>
            <button class="btn btn-link mb-24 d-inline-block text-center" *ngIf="disableInputs"
                (click)="step=7">{{lang.form6Details.step7.title}}</button>

            <!-- <button class="btn btn-primary ml-10" (click)="SaveForm6()">Confirm & Pay</button> -->
        </div>

    </div>
    <!----Acknowledgement Starts Here ----->
    <div class="container" *ngIf="step==7" dir={{direction}}>
        <div class="mb-32 d-flex justify-content-between align-items-center">

            <a [routerLink]="['/mains/returns/search']"
                class="text-Watercourse d-flex font-weight-bold align-items-center">
                <img src="assets/images/arrow-left-green.svg" class="mr-10 img-reverse" alt="">
                {{lang.form6Details.step7.btn4}}
            </a>
        </div>

        <div class="text-center">
            <div class="text-center mb-40">
                <img src="assets/images/icon-success.svg" alt="">

            </div>
            <h2 class="mb-12">{{lang.form6Details.step7.title}}</h2>
            <div class="pb-24">

                <p>{{lang.form6Details.step7.subtitle}}</p>
                <div class="d-flex align-items-center justify-content-between mb-16 item-cardetails">
                    <span class="font-16 text-Gray  mb-0">
                        {{lang.form6Details.step7.i1}}
                    </span>
                    <span class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxpayerDetails.ATaxpayerNm || '-'}}
                    </span>
                </div>
                <div class="d-flex align-items-center justify-content-between mb-16 item-cardetails">
                    <span class="font-16 text-Gray  mb-0">
                        {{lang.form6Details.step7.i2}}
                    </span>
                    <span class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxpayerDetails?.Fbnum || '-'}}
                    </span>
                </div>
                <div class="d-flex align-items-center justify-content-between mb-16 item-cardetails">

                    <span class="font-16 text-Gray  mb-0">
                        {{lang.form6Details.step7.i3}}
                    </span>
                    <span class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxpayerDetails?.RegIdz || '-'}}
                    </span>
                </div>
                <div class="d-flex align-items-center justify-content-between mb-16 item-cardetails">

                    <span class="font-16 text-Gray  mb-0">
                        {{lang.form6Details.step7.i4}}
                    </span>
                    <span class="text-Eerie-Black font-16 font-weight-500" *ngIf="taxpayerDetails.AYear > 1900">
                        {{ periodStartDate || '-' }} - {{ periodEndDate || '-'}}
                    </span>
                    <div class="text-Eerie-Black font-16 font-weight-500" *ngIf="taxpayerDetails.AYear < 1900">
                        {{ periodStartDate?.hy || '-' }}/{{periodStartDate?.hm || '-' }}/{{periodStartDate?.hd || '-' }}
                        - {{
                        periodEndDate?.hy || '-' }}/{{periodEndDate?.hm || '-' }}/{{periodEndDate?.hd || '-'}}
                    </div>
                </div>
                <div class="d-flex align-items-center justify-content-between mb-16 item-cardetails">
                    <span class="font-16 text-Gray  mb-0">
                        {{lang.form6Details.step7.i5}}
                    </span>
                    <span class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxpayerDetails?.AFinesOwedTax || '-' }}
                    </span>
                </div>
                <div>
                <div class="d-flex align-items-center justify-content-between mb-16 item-cardetails">

                    <span class="font-16 text-Gray  mb-0">
                        {{lang.form6Details.step7.i6}}
                    </span>
                    <span class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxpayerDetails?.Sopbel || '-'}}
                    </span>
                </div>
            </div>
            </div>
        </div>

        <div class="mb-24 text-center  d-flex flex-column justify-content-center align-items-center">
            <div *ngIf = 'taxpayerDetails.Sopbel == "" '>
                <button class="btn btn-link mb-24 d-inline-block"
                    (click)="OnRefresh()">{{lang.form6Details.step7.btn1}}</button>
            </div>
            <!-- *ngIf = 'taxpayerDetails.Sopbel != null && taxpayerDetails.Sopbel != ""' -->
            <!-- *ngIf = 'taxpayerDetails.Sopbel !=null && taxpayerDetails.Sopbel != ""' -->
            <button class="btn btn-primary mb-24 d-inline-block"
                (click)="OnDownloadAcknowledgement()">{{lang.form6Details.step7.btn2}}</button>
            <button *ngIf='taxpayerDetails.RegIdz !=null && taxpayerDetails.RegIdz != ""'
                class="btn btn-link d-inline-block"
                (click)="onDownloadForm6()">{{lang.form6Details.step7.btn3}}</button>

        </div>
    </div>
    <!-----Acknowledgement Ends Here ------>
    <!------ Submited Return Display screen ------>
    <div class="container" *ngIf="step==8">
        <div class="mb-24">
            <a class="text-Gray" [routerLink]="['/mains/returns/search']"> {{lang.form6Details.step1.path.t1}} > </a>
            {{lang.form6Details.step1.path.t2}}
        </div>
        <div class="mb-32 d-flex justify-content-between align-items-center">

            <a [routerLink]="['/mains/returns/search']"
                class="text-Watercourse d-flex font-weight-bold align-items-center">
                <img src="assets/images/arrow-left-green.svg" class="mr-10 img-reverse" alt="">
                {{lang.form6Details.step6.path}}
            </a>
        </div>
        <div class="mb-24 d-flex justify-content-between align-items-center">
            <h2 class="mb-12">{{lang.form6Details.step1.title}}</h2>
            <span class="status"
                [ngClass]="{'status-submitted':(retrunObjStatus=='IP014' || retrunObjStatus=='IP011')}">
                {{returnObjStatusTxt}}
            </span>
        </div>
        <div class="card  mb-24 card-shadow-none">
            <div class="pxy-2412">
                <h3 class="d-flex align-items-center mb-0">
                    <span class="ellipse48 bg-Watercourse-opa1 mr-15"><img src="assets/images/icon-note.svg" class=""
                            alt=""></span> {{lang.form6Details.step1.block1.title}}
                </h3>

            </div>

            <div class="border-bottom-whisper"> </div>
            <div class="row p-24">
                <div class="col-sm-6">
                    <p class="font-16 text-Gray  mb-0">{{lang.form6Details.step1.block1.i1}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxpayerDetails?.ATaxpayerNm || '-'}}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form6Details.step1.block1.i2}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxpayerDetails?.ABranch || '-'}}
                    </div>
                </div>
            </div>
            <div class="border-bottom-whisper"> </div>
            <div class="row  p-24">

                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form6Details.step1.block1.i3}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxpayerDetails?.AEmail || '-'}}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form6Details.step1.block1.i4}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500" *ngIf="taxpayerDetails?.Line0">
                        {{ taxpayerDetails?.Line0 + " " + taxpayerDetails?.Line1 + " " + taxpayerDetails?.Line2 + " " +
                        taxpayerDetails?.Line3 + "" + taxpayerDetails?.Line4 + " " + taxpayerDetails?.Line5 + " " +
                        taxpayerDetails?.Line6 + " " + taxpayerDetails?.Line7 + " " + taxpayerDetails?.Line8}}
                    </div>
                    <div class="text-Eerie-Black font-16 font-weight-500" *ngIf="!taxpayerDetails?.Line0">
                        {{ taxpayerDetails?.Line0 + " " + taxpayerDetails?.Line1 + " " + taxpayerDetails?.Line2 + " " +
                        taxpayerDetails?.Line3 + "" + taxpayerDetails?.Line4 + " " + taxpayerDetails?.Line5 + " " +
                        taxpayerDetails?.Line6 + " " + taxpayerDetails?.Line7 + " " + taxpayerDetails?.Line8}}
                    </div>
                </div>
            </div>
            <div class="border-bottom-whisper"> </div>
            <div class="row  p-24">

                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form6Details.step1.block1.i5}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxpayerDetails?.ATelephone || '-'}}
                    </div>
                </div>
            </div>


        </div>

        <div class="card mb-24 card-shadow-none">
            <div class="pxy-2412">
                <h3 class="d-flex align-items-center mb-0">
                    <span class="ellipse48 bg-Watercourse-opa1 mr-15"><img src="assets/images/icon-note.svg" class=""
                            alt=""></span> {{lang.form6Details.step1.block2.title}}
                </h3>

            </div>

            <div class="border-bottom-whisper"> </div>
            <div class="row p-24">
                <div class="col-sm-6">
                    <p class="font-16 text-Gray  mb-0">{{lang.form6Details.step1.block2.i1}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxpayerDetails?.Formtype || '-'}}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form6Details.step1.block2.i2}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxpayerDetails?.PerslText}}
                    </div>
                </div>
            </div>
            <div class="border-bottom-whisper"> </div>
            <div class="row  p-24">

                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form6Details.step1.block2.i3}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500" *ngIf="taxpayerDetails.AYear > 1900">
                        {{ periodStartDate || '-' }} - {{ periodEndDate || '-'}}
                    </div>
                    <div class="text-Eerie-Black font-16 font-weight-500" *ngIf="taxpayerDetails.AYear < 1900">
                        {{ periodStartDate?.hy || '-' }}/{{periodStartDate?.hm || '-' }}/{{periodStartDate?.hd || '-' }}
                        - {{
                        periodEndDate?.hy || '-' }}/{{periodEndDate?.hm || '-' }}/{{periodEndDate?.hd || '-'}}
                    </div>
                </div>

            </div>
        </div>

        <div class="card  mb-24 card-shadow-none">
            <div class="pxy-2412">
                <h3 class="d-flex align-items-center mb-0">
                    <span class="ellipse48 bg-Watercourse-opa1 mr-15"><img src="assets/images/icon-note.svg" class=""
                            alt=""></span> {{lang.form6Details.step1.block3.title}}
                </h3>

            </div>

            <div class="border-bottom-whisper"> </div>
            <div class="row p-24">
                <div class="col-sm-6">
                    <p class="font-16 text-Gray  mb-0">{{lang.form6Details.step1.block3.i1}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxpayerDetails?.ANoOfOutlet || '-' }}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form6Details.step1.block3.i2}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxpayerDetails?.AMainact || '-' }}
                    </div>
                </div>
            </div>
            <div class="border-bottom-whisper"> </div>
            <div class="row  p-24">

                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form6Details.step1.block3.i3}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxpayerDetails?.AResidency || '-' }}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form6Details.step1.block3.i4}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxpayerDetails?.AActmethod || '-' }}
                    </div>
                </div>
            </div>
            <div class="border-bottom-whisper"> </div>
            <div class="row  p-24">

                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.form6Details.step1.block3.i5}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxpayerDetails?.AFiscalPeriod || '-' }}
                    </div>
                </div>
            </div>


        </div>

        <div class="table mb-24">
            <table width="100%" class="table-bordered">
                <thead>
                    <tr class="d-flex">
                        <th class="font-16 text-Eerie-Black font-weight-bold col">
                            {{lang.form6Details.step1.block3.tableHeading1}}
                        </th>
                        <th class="font-16 text-Eerie-Black font-weight-bold col text-right">
                            {{lang.form6Details.step1.block3.tableHeading2}}
                        </th>
                        <th class="font-16 text-Eerie-Black font-weight-bold col text-right">
                            {{lang.form6Details.step1.block3.tableHeading3}}
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="d-flex">
                        <td class="font-16 col">
                            {{lang.form6Details.step1.block3.tr1}}
                        </td>
                        <td class="font-16 font-weight-500 col text-right">
                            {{ taxpayerDetails?.ASaudiCaSh.split('.')[0] || '-' }}%
                        </td>
                        <td class="font-16 font-weight-500 col text-right">
                            {{ taxpayerDetails?.ANonsaudiCaSh.split('.')[0] || '-'}}%
                        </td>
                    </tr>
                    <tr class="d-flex">
                        <td class="font-16 col">
                            {{lang.form6Details.step1.block3.tr2}}
                        </td>
                        <td class="font-16 font-weight-500 col text-right">
                            {{ taxpayerDetails?.ASaudiPrSh.split('.')[0] || '-' }}%
                        </td>
                        <td class="font-16 font-weight-500 col text-right">
                            {{ taxpayerDetails?.ANonsaudiPrSh.split('.')[0] || '-' }}%
                        </td>
                    </tr>

                </tbody>
            </table>
        </div>
        <div class="card mb-24">
            <div class="pxy-2412">
                <div class="d-flex align-items-center justify-content-between">
                    <h3 class="d-flex align-items-center">
                        <span class="ellipse48 bg-Watercourse-opa1 mr-15"><img src="assets/images/icon-tax.svg" class=""
                                alt=""></span> {{lang.form6Details.step6.heading}}
                    </h3>
                    <span class="text-Watercourse font-weight-bold cursor-pointer" *ngIf="!disableInputs"
                        (click)="step=2">{{lang.form6Details.step6.btn1}}</span>
                </div>
            </div>
            <div class="table border-0 rounded-0 m-0">
                <table width="100%">

                    <tbody>
                        <tr>
                            <td class="font-16 text-Eerie-Black" width="80%">
                                <div class="d-flex align-items-center">
                                    {{lang.form6Details.step2.block1.i3}}
                                </div>
                            </td>

                            <td class=" text-right">
                                <div class="font-16 font-weight-500">
                                    {{totalSchedulePayment || 0.00 | number:'1.2-2'}}
                                    {{lang.form6Details.step1.path.currency}}
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="font-16 text-Eerie-Black" width="80%">
                                <div class="d-flex align-items-center">
                                    {{lang.form6Details.step2.block1.i6}}
                                </div>
                            </td>

                            <td class=" text-right">
                                <div class="font-16 font-weight-500">
                                    {{totalWithHeldAmount || 0.00 | number:'1.2-2'}}
                                    {{lang.form6Details.step1.path.currency}}
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="font-16 text-Eerie-Black" width="80%">
                                <div class="d-flex align-items-center">
                                    {{lang.form6Details.step2.block1.i4}}
                                </div>
                            </td>

                            <td class=" text-right">
                                <div class="font-16 font-weight-500">
                                    {{taxpayerDetails?.ADemurrageTax || 0.00 | number:'1.2-2'}}
                                    {{lang.form6Details.step1.path.currency}}
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="font-16 text-Eerie-Black" width="80%">
                                <div class="d-flex align-items-center">
                                    {{lang.form6Details.step2.block1.i5}}
                                </div>
                            </td>

                            <td class=" text-right">
                                <div class="font-16 font-weight-500">
                                    {{((+totalWithHeldAmount)+(+taxpayerDetails.ADemurrageTax)) || 0.00 |
                                    number:'1.2-2'}} {{lang.form6Details.step1.path.currency}}
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="card  mb-24 card-shadow-none">
            <div class="pxy-2412">
                <div class="d-flex align-items-center justify-content-between">
                    <h3 class="d-flex align-items-center mb-0">
                        <span class="ellipse48 bg-Watercourse-opa1 mr-15"><img src="assets/images/icon-attach.svg"
                                class="" alt=""></span> {{lang.form6Details.step6.heading2}}
                    </h3>
                    <span class="text-Watercourse font-weight-bold cursor-pointer" *ngIf="!disableInputs"
                        (click)="step=4;">{{lang.form6Details.step6.btn1}}</span>
                </div>
            </div>

            <div class="border-bottom-whisper"> </div>
            <div class="row p-24 d-flex">
                <div class="col-sm-12">
                    <div *ngFor="let obj of taxpayerDetails.AttDetSet.results">
                        <div *ngIf="obj.Dotyp=='RT06'">
                            <div class="d-flex h-100">
                                <p class="m-0 font-weight-500 font-16 text-center">
                                    <span class="mr-3">{{obj.Filename}}</span>
                                    <img *ngIf="obj.FileExtn.toString().toUpperCase()=='PDF'"
                                        src="assets/images/icon-pdf.svg" class="mb-10">
                                    <img *ngIf="obj.FileExtn.toString().toUpperCase()=='XLSX'"
                                        src="assets/images/icon-excel.svg" class="mb-10">
                                    <img *ngIf="obj.FileExtn.toString().toUpperCase()=='XLS'"
                                        src="assets/images/icon-excel.svg" class="mb-10">
                                    <img *ngIf="obj.FileExtn.toString().toUpperCase()=='DOC'"
                                        src="assets/images/icon-doc.svg" class="mb-10">
                                    <img *ngIf="obj.FileExtn.toString().toUpperCase()=='DOCX'"
                                        src="assets/images/icon-doc.svg" class="mb-10">
                                    <img *ngIf="obj.FileExtn.toString().toUpperCase()=='JPG'"
                                        src="assets/images/icon-jpg.svg" class="mb-10">
                                    <img *ngIf="obj.FileExtn.toString().toUpperCase()=='JPEG'"
                                        src="assets/images/icon-jpg.svg" class="mb-10">
                                    <img *ngIf="obj.FileExtn.toString().toUpperCase()=='PNG'"
                                        src="assets/images/icon-png.svg" class="mb-10">
                                </p>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="card  mb-56 card-shadow-none">
            <div class="pxy-2412">
                <div class="d-flex align-items-center justify-content-between">
                    <h3 class="d-flex align-items-center">
                        <span class="ellipse48 bg-Watercourse-opa1 mr-15"><img src="assets/images/icon-declaration.svg"
                                class="" alt=""></span> {{lang.form6Details.step5.title1}}
                    </h3>
                    <span class="text-Watercourse font-weight-bold cursor-pointer" *ngIf="!disableInputs"
                        (click)="step=5;">{{lang.form6Details.step6.btn1}}</span>
                </div>
            </div>

            <div class="border-bottom-whisper"> </div>
            <div class="row p-24 d-flex">
                <div class="col-sm-12">
                    <p class="font-16 text-Gray  mb-10"> {{lang.form6Details.step6.heading2}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        <div *ngFor="let obj of taxpayerDetails.AttDetSet.results">
                            <div *ngIf="obj.Dotyp=='R06A'">
                                <div class="d-flex align-items-center h-100">
                                    <p class="m-0 font-weight-500 font-16 text-center">
                                        <span class="mr-3">{{obj.Filename}}</span>
                                        <img *ngIf="obj.FileExtn.toString().toUpperCase()=='PDF'"
                                            src="assets/images/icon-pdf.svg" class="mb-10">
                                        <img *ngIf="obj.FileExtn.toString().toUpperCase()=='XLSX'"
                                            src="assets/images/icon-excel.svg" class="mb-10">
                                        <img *ngIf="obj.FileExtn.toString().toUpperCase()=='XLS'"
                                            src="assets/images/icon-excel.svg" class="mb-10">
                                        <img *ngIf="obj.FileExtn.toString().toUpperCase()=='DOC'"
                                            src="assets/images/icon-doc.svg" class="mb-10">
                                        <img *ngIf="obj.FileExtn.toString().toUpperCase()=='DOCX'"
                                            src="assets/images/icon-doc.svg" class="mb-10">
                                        <img *ngIf="obj.FileExtn.toString().toUpperCase()=='JPG'"
                                            src="assets/images/icon-jpg.svg" class="mb-10">
                                        <img *ngIf="obj.FileExtn.toString().toUpperCase()=='JPEG'"
                                            src="assets/images/icon-jpg.svg" class="mb-10">
                                        <img *ngIf="obj.FileExtn.toString().toUpperCase()=='PNG'"
                                            src="assets/images/icon-png.svg" class="mb-10">

                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <div class="row p-24">
                <div class="col-sm-6">
                    <p class="font-16 text-Gray  mb-0">{{lang.form6Details.step5.i1}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{taxpayerDetails.ASignQuadrantName}}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray  mb-0">{{lang.form6Details.step5.i2}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ today || '-' | date:'dd/MM/yyyy'}}
                    </div>
                </div>
            </div>
        </div>

        <div class="mb-24" *ngIf="disableInputs">
            <button class="btn btn-link mr-24" *ngIf="retrunObjStatus == 'IP014'"
                (click)="OnAmend()">{{lang.form6Details.step6.btn3}}</button>
            <button class="btn btn-primary" (click)="step=7">{{lang.form6Details.step7.title}}</button>
        </div>

    </div>
    <!------ Display Screen Ends Here --------->

</div>




<!-- Added by hema starts -->
<div class="modal modal-filter fade" data-backdrop="static" data-keyboard="false" id="AddForm6Modal" tabindex="-1"
    role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" dir={{direction}}>
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="text-right modal-filter-head">

                <button type="button" class="close" data-dismiss="modal" aria-label="Close" [ngClass]="{'arabic-btn':language == 'ar'}">
                    <span class="material-icons font-28">
                        clear
                    </span>
                </button>
            </div>
            <div class="modal-body">

                <h2>{{lang.form6Details.yearMonth.title}} </h2>
                <div class="form-group">
                    <label>{{lang.form6Details.yearMonth.subtitle}}</label>
                    <!-- <div class="custom-radioBtnContainer">
                        <label class="custom-radioBtn">
                                <span class="custom-radioBtn-label">
                                    <img src="assets/images/icon-dcheck.svg" class="mr-15" alt="">
                                    Submitted
                                </span>
                                <input type="radio" checked="checked" name="radio">
                                <span class="checkmark"></span>
                            </label>
                    </div> -->

                    <div class="d-flex">
                        <label>
                            <input type="radio" class="mr-2" name="CalendarType" value="H" [(ngModel)]="calendarType"
                                (change)="CalendarTypeChange()">{{lang.form6Details.yearMonth.c1}}
                        </label>
                        <label>
                            <input type="radio" class="" name="CalendarType" value="G" [(ngModel)]="calendarType"
                                (change)="CalendarTypeChange()">{{lang.form6Details.yearMonth.c2}}
                        </label>
                    </div>
                    <div class="d-flex">
                        <div>
                            {{lang.form6Details.yearMonth.i1}}
                            <select [(ngModel)]="createdForm6Year" placeholder="2018" class="input165 custom-select">
                                <option *ngFor="let year of monthsYearsSet[0]?.Year" [value]="year.Text">{{year.Text}}
                                </option>
                            </select>
                        </div>
                        <div>
                            {{lang.form6Details.yearMonth.i2}}
                            <select [(ngModel)]="createdForm6Month" placeholder="05" class="input165 custom-select">
                                <option *ngFor="let month of monthsYearsSet[1]?.Month" [value]="month.Text">
                                    {{month.Text}}</option>
                            </select>
                        </div>

                    </div>

                </div>
                <div class="form-group text-right" [ngClass]="{'arabic-btn':language == 'ar'}">
                    <button class="btn btn-primary mr-3" data-dismiss="modal"
                        [disabled]="createdForm6Year=='' || createdForm6Month==''"
                        (click)="Form6Creation()">{{lang.form6Details.yearMonth.btn1}}</button>
                    <button class="btn btn-secondary" data-dismiss="modal">{{lang.form6Details.yearMonth.btn2}}</button>
                </div>
            </div>

        </div>
    </div>
</div>







<!-- FILTER MODAL STARTS -->
<div dir={{direction}} [ngClass]="{'lang-arabic':direction=='rtl'}" data-backdrop="static" data-keyboard="false"
    class="modal modal-filter fade" id="infoModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true" dir={{direction}}>
    <div class="modal-dialog" role="document" style="max-width: 1129px;">
        <div class="modal-content">
            <div class="text-right modal-filter-head">

                <button type="button" class="close" (click)='ClsePopup()' aria-label="Close" [ngClass]="{'arabic-btn':language == 'ar'}">
                    <span class="material-icons font-28">
                        clear
                    </span>
                </button>
            </div>
            <div class="modal-body">
                <!-- <div *ngIf="action=='FillManually'"> -->
                <!-- <div class="table mb-24 border-top-whisper card"> 
			<div class="p-24 d-flex align-items-center justify-content-between">
                <!-- <h3 class="d-flex align-items-center mb-0">
                   Attachments required for withholding tax form 1
                </h3> -->
                <!-- <div>
                    <a class="mr-24">
                        <img src="./images/icon-delete.svg" alt="">
                    </a>
                    <a data-toggle="collapse" href="#toggle1" role="button" aria-expanded="true" aria-controls="toggle1" class="">
                        <img src="./images/icon-arrow-up.svg" alt="">
                    </a>
                </div> --
            </div>
            <!-- class="multi-collapse collapse show" id="toggle1" --

            </div>  -->
                <!-- *ngIf=" action == 'FillManually'" -->
                <div>
                    <div class="">
                        <form [formGroup]="withHoldingForm6">
                            <div formArrayName="Types">
                                <div *ngFor="let type of withHoldingForm6?.controls?.Types['controls'];let pi=index"
                                    [formGroupName]="pi">
                                    <div formArrayName="TypeOfPayments">
                                        <div *ngIf="pi==typeIndex">
                                            <div class="d-flex mb-32">
                                                <div class="card  mr-24 p-15" style="width: 200px;height: 104px;"
                                                    [ngClass]="{'mark-dark-green':action=='FillManually','mark-light-gray':action!='FillManually'}"
                                                    (click)="action='FillManually'">
                                                    <p class="m-0 font-weight-500 font-16 mt-auto cursor-pointer"
                                                        [ngClass]="{'text-white':action=='FillManually'}">
                                                        {{lang.form6Details.scheduleModal.option1}} </p>
                                                </div>
                                                <div class="card  mr-24 p-15 position-relative" style="width: 200px;height: 104px;"
                                                    [ngClass]="{'mark-dark-green':action!='FillManually','mark-light-gray':action=='FillManually'}"
                                                    (click)="action='Autofill'">
                                                    <input type="file" class="custom-upload-file upload-excel-file cursor-pointer position-absolute"
                                                        (change)="TypeOfPaymentsUploadFile(pi, $event)" accept=".xls,.xlsx, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel">
                                                    <p class="m-0 font-weight-500 font-16 mt-auto cursor-pointer"
                                                        [ngClass]="{'text-white':action=='Autofill'}">
                                                        {{lang.form6Details.scheduleModal.option2}}</p>
                                                </div>
                                            <div *ngIf="typeIndex==0">
                                                <div class="mr-24 p-15" *ngIf = "language != 'ar'">
                                                    <a class="mr-24 d-flex align-items-center" title="{{downloadExcelbuttonTitle}}"
                                                        href="{{baseUrl}}/irj/go/km/docs/documents/PortalContent/DZIT_HomePage/returnforms/Form06/en/Rent_EN.xlsx">
                                                        <img src="assets/images/icon-exceldownload.svg" alt="download" >
                                                    </a>
                                                </div>  
                                                <div class="mr-24 p-15" *ngIf = "language == 'ar'">
                                                    <a class="mr-24 d-flex align-items-center" title="{{downloadExcelbuttonTitle}}"
                                                        href="{{baseUrl}}/irj/go/km/docs/documents/PortalContent/DZIT_HomePage/returnforms/Form06/ar/Rent_AR.xlsx">
                                                        <img src="assets/images/icon-exceldownload.svg" alt="download" >
                                                    </a>
                                                </div>  
                                            </div> 
                                            <div *ngIf="typeIndex==1">
                                                <div class="mr-24 p-15" *ngIf = "language != 'ar'">
                                                    <a class="mr-24 d-flex align-items-center" title="{{downloadExcelbuttonTitle}}"
                                                        href="{{baseUrl}}/irj/go/km/docs/documents/PortalContent/DZIT_HomePage/returnforms/Form06/en/Royalty_EN.xlsx">
                                                        <img src="assets/images/icon-exceldownload.svg" alt="download" >
                                                    </a>
                                                </div>  
                                                <div class="mr-24 p-15" *ngIf = "language == 'ar'">
                                                    <a class="mr-24 d-flex align-items-center" title="{{downloadExcelbuttonTitle}}"
                                                        href="{{baseUrl}}/irj/go/km/docs/documents/PortalContent/DZIT_HomePage/returnforms/Form06/ar/Royalty_AR.xlsx">
                                                        <img src="assets/images/icon-exceldownload.svg" alt="download" >
                                                    </a>
                                                </div>  
                                            </div> 
                                            <div *ngIf="typeIndex==2">
                                                <div class="mr-24 p-15" *ngIf = "language != 'ar'">
                                                    <a class="mr-24 d-flex align-items-center" title="{{downloadExcelbuttonTitle}}"
                                                        href="{{baseUrl}}/irj/go/km/docs/documents/PortalContent/DZIT_HomePage/returnforms/Form06/en/Management%20Fee_EN.xlsx">
                                                        <img src="assets/images/icon-exceldownload.svg" alt="download" >
                                                    </a>
                                                </div>  
                                                <div class="mr-24 p-15" *ngIf = "language == 'ar'">
                                                    <a class="mr-24 d-flex align-items-center" title="{{downloadExcelbuttonTitle}}"
                                                        href="{{baseUrl}}/irj/go/km/docs/documents/PortalContent/DZIT_HomePage/returnforms/Form06/ar/Management%20Fee_AR.xlsx">
                                                        <img src="assets/images/icon-exceldownload.svg" alt="download" >
                                                    </a>
                                                </div>  
                                            </div> 
                                            <div *ngIf="typeIndex==3">
                                                <div class="mr-24 p-15" *ngIf = "language != 'ar'">
                                                    <a class="mr-24 d-flex align-items-center" title="{{downloadExcelbuttonTitle}}"
                                                        href="{{baseUrl}}/irj/go/km/docs/documents/PortalContent/DZIT_HomePage/returnforms/Form06/en/Payments%20for%20Air%20tickets_EN.xlsx">
                                                        <img src="assets/images/icon-exceldownload.svg" alt="download" >
                                                    </a>
                                                </div>  
                                                <div class="mr-24 p-15" *ngIf = "language == 'ar'">
                                                    <a class="mr-24 d-flex align-items-center" title="{{downloadExcelbuttonTitle}}"
                                                        href="{{baseUrl}}/irj/go/km/docs/documents/PortalContent/DZIT_HomePage/returnforms/Form06/ar/Payments%20for%20Air%20tickets_AR.xlsx">
                                                        <img src="assets/images/icon-exceldownload.svg" alt="download" >
                                                    </a>
                                                </div>  
                                            </div> 
                                            <div *ngIf="typeIndex==4">
                                                <div class="mr-24 p-15" *ngIf = "language != 'ar'">
                                                    <a class="mr-24 d-flex align-items-center" title="{{downloadExcelbuttonTitle}}"
                                                        href="{{baseUrl}}/irj/go/km/docs/documents/PortalContent/DZIT_HomePage/returnforms/Form06/en/Payments%20for%20Maritime_EN.xlsx">
                                                        <img src="assets/images/icon-exceldownload.svg" alt="download" >
                                                    </a>
                                                </div>  
                                                <div class="mr-24 p-15" *ngIf = "language == 'ar'">
                                                    <a class="mr-24 d-flex align-items-center" title="{{downloadExcelbuttonTitle}}"
                                                        href="{{baseUrl}}/irj/go/km/docs/documents/PortalContent/DZIT_HomePage/returnforms/Form06/ar/Payments%20for%20Maritime_AR.xlsx">
                                                        <img src="assets/images/icon-exceldownload.svg" alt="download" >
                                                    </a>
                                                </div>  
                                            </div> 
                                            <div *ngIf="typeIndex==5">
                                                <div class="mr-24 p-15" *ngIf = "language != 'ar'">
                                                    <a class="mr-24 d-flex align-items-center" title="{{downloadExcelbuttonTitle}}"
                                                        href="{{baseUrl}}/irj/go/km/docs/documents/PortalContent/DZIT_HomePage/returnforms/Form06/en/Payments%20for%20international%20telecommunications%20Services_EN.xlsx">
                                                        <img src="assets/images/icon-exceldownload.svg" alt="download" >
                                                    </a>
                                                </div>  
                                                <div class="mr-24 p-15" *ngIf = "language == 'ar'">
                                                    <a class="mr-24 d-flex align-items-center" title="{{downloadExcelbuttonTitle}}"
                                                        href="{{baseUrl}}/irj/go/km/docs/documents/PortalContent/DZIT_HomePage/returnforms/Form06/ar/Payments%20for%20international%20telecommunications%20Services_AR.xlsx">
                                                        <img src="assets/images/icon-exceldownload.svg" alt="download" >
                                                    </a>
                                                </div>  
                                            </div> 
                                            <div *ngIf="typeIndex==6">
                                                <div class="mr-24 p-15" *ngIf = "language != 'ar'">
                                                    <a class="mr-24 d-flex align-items-center" title="{{downloadExcelbuttonTitle}}"
                                                        href="{{baseUrl}}/irj/go/km/docs/documents/PortalContent/DZIT_HomePage/returnforms/Form06/en/Payments%20for%20Services%20to%20Head%20Office_EN.xlsx">
                                                        <img src="assets/images/icon-exceldownload.svg" alt="download" >
                                                    </a>
                                                </div>  
                                                <div class="mr-24 p-15" *ngIf = "language == 'ar'">
                                                    <a class="mr-24 d-flex align-items-center" title="{{downloadExcelbuttonTitle}}"
                                                        href="{{baseUrl}}/irj/go/km/docs/documents/PortalContent/DZIT_HomePage/returnforms/Form06/ar/Payments%20for%20Services%20to%20Head%20Office_AR.xlsx">
                                                        <img src="assets/images/icon-exceldownload.svg" alt="download" >
                                                    </a>
                                                </div>  
                                            </div> 
                                            <div *ngIf="typeIndex==7">
                                                <div class="mr-24 p-15" *ngIf = "language != 'ar'">
                                                    <a class="mr-24 d-flex align-items-center" title="{{downloadExcelbuttonTitle}}"
                                                        href="{{baseUrl}}/irj/go/km/docs/documents/PortalContent/DZIT_HomePage/returnforms/Form06/en/Payments%20for%20Services%20to%20Associated%20Company_EN.xlsx">
                                                        <img src="assets/images/icon-exceldownload.svg" alt="download" >
                                                    </a>
                                                </div>  
                                                <div class="mr-24 p-15" *ngIf = "language == 'ar'">
                                                    <a class="mr-24 d-flex align-items-center" title="{{downloadExcelbuttonTitle}}"
                                                        href="{{baseUrl}}/irj/go/km/docs/documents/PortalContent/DZIT_HomePage/returnforms/Form06/ar/Payments%20for%20Services%20to%20Associated%20Company_AR.xlsx">
                                                        <img src="assets/images/icon-exceldownload.svg" alt="download" >
                                                    </a>
                                                </div>  
                                            </div> 
                                            <div *ngIf="typeIndex==8">
                                                <div class="mr-24 p-15" *ngIf = "language != 'ar'">
                                                    <a class="mr-24 d-flex align-items-center" title="{{downloadExcelbuttonTitle}}"
                                                        href="{{baseUrl}}/irj/go/km/docs/documents/PortalContent/DZIT_HomePage/returnforms/Form06/en/Dividends_EN.xlsx">
                                                        <img src="assets/images/icon-exceldownload.svg" alt="download" >
                                                    </a>
                                                </div>  
                                                <div class="mr-24 p-15" *ngIf = "language == 'ar'">
                                                    <a class="mr-24 d-flex align-items-center" title="{{downloadExcelbuttonTitle}}"
                                                        href="{{baseUrl}}/irj/go/km/docs/documents/PortalContent/DZIT_HomePage/returnforms/Form06/ar/Dividends_AR.xlsx">
                                                        <img src="assets/images/icon-exceldownload.svg" alt="download" >
                                                    </a>
                                                </div>  
                                            </div> 
                                            <div *ngIf="typeIndex==9">
                                                <div class="mr-24 p-15" *ngIf = "language != 'ar'">
                                                    <a class="mr-24 d-flex align-items-center" title="{{downloadExcelbuttonTitle}}"
                                                        href="{{baseUrl}}/irj/go/km/docs/documents/PortalContent/DZIT_HomePage/returnforms/Form06/en/Payments%20for%20Technical%20or%20Consulting%20Services_EN.xlsx">
                                                        <img src="assets/images/icon-exceldownload.svg" alt="download" >
                                                    </a>
                                                </div>  
                                                <div class="mr-24 p-15" *ngIf = "language == 'ar'">
                                                    <a class="mr-24 d-flex align-items-center" title="{{downloadExcelbuttonTitle}}"
                                                        href="{{baseUrl}}/irj/go/km/docs/documents/PortalContent/DZIT_HomePage/returnforms/Form06/ar/Payments%20for%20Technical%20or%20Consulting%20Services_AR.xlsx">
                                                        <img src="assets/images/icon-exceldownload.svg" alt="download" >
                                                    </a>
                                                </div>  
                                            </div> 
                                            <div *ngIf="typeIndex==10">
                                                <div class="mr-24 p-15" *ngIf = "language != 'ar'">
                                                    <a class="mr-24 d-flex align-items-center" title="{{downloadExcelbuttonTitle}}"
                                                        href="{{baseUrl}}/irj/go/km/docs/documents/PortalContent/DZIT_HomePage/returnforms/Form06/en/Payments%20for%20Loan%20Charges_EN.xlsx">
                                                        <img src="assets/images/icon-exceldownload.svg" alt="download" >
                                                    </a>
                                                </div>  
                                                <div class="mr-24 p-15" *ngIf = "language == 'ar'">
                                                    <a class="mr-24 d-flex align-items-center" title="{{downloadExcelbuttonTitle}}"
                                                        href="{{baseUrl}}/irj/go/km/docs/documents/PortalContent/DZIT_HomePage/returnforms/Form06/ar/Payments%20for%20Loan%20Charges_AR.xlsx">
                                                        <img src="assets/images/icon-exceldownload.svg" alt="download" >
                                                    </a>
                                                </div>  
                                            </div> 
                                            <div *ngIf="typeIndex==11">
                                                <div class="mr-24 p-15" *ngIf = "language != 'ar'">
                                                    <a class="mr-24 d-flex align-items-center" title="{{downloadExcelbuttonTitle}}"
                                                        href="{{baseUrl}}/irj/go/km/docs/documents/PortalContent/DZIT_HomePage/returnforms/Form06/en/Payments%20for%20Insurance%20or%20Reinsurance%20premium_EN.xlsx">
                                                        <img src="assets/images/icon-exceldownload.svg" alt="download" >
                                                    </a>
                                                </div>  
                                                <div class="mr-24 p-15" *ngIf = "language == 'ar'">
                                                    <a class="mr-24 d-flex align-items-center" title="{{downloadExcelbuttonTitle}}"
                                                        href="{{baseUrl}}/irj/go/km/docs/documents/PortalContent/DZIT_HomePage/returnforms/Form06/ar/Payments%20for%20Insurance%20or%20Reinsurance%20premium_AR.xlsx">
                                                        <img src="assets/images/icon-exceldownload.svg" alt="download" >
                                                    </a>
                                                </div>  
                                            </div> 
                                            <div *ngIf="typeIndex==12">
                                                <div class="mr-24 p-15" *ngIf = "language != 'ar'">
                                                    <a class="mr-24 d-flex align-items-center" title="{{downloadExcelbuttonTitle}}"
                                                        href="{{baseUrl}}/irj/go/km/docs/documents/PortalContent/DZIT_HomePage/returnforms/Form06/en/Others_EN.xlsx">
                                                        <img src="assets/images/icon-exceldownload.svg" alt="download" >
                                                    </a>
                                                </div>  
                                                <div class="mr-24 p-15" *ngIf = "language == 'ar'">
                                                    <a class="mr-24 d-flex align-items-center" title="{{downloadExcelbuttonTitle}}"
                                                        href="{{baseUrl}}/irj/go/km/docs/documents/PortalContent/DZIT_HomePage/returnforms/Form06/ar/Others_AR.xlsx">
                                                        <img src="assets/images/icon-exceldownload.svg" alt="download" >
                                                    </a>
                                                </div>  
                                            </div> 
                                            </div>  
                                            <ng-container
                                                *ngFor="let payment of type.controls.TypeOfPayments.controls; let ci=index"
                                                [formGroupName]="ci">

                                                <div class="table mb-24 border-top-whisper card">


                                                    <div class="p-24 d-flex align-items-center justify-content-between">
                                                        <h3 class="d-flex align-items-center mb-0">
                                                            {{lang.form6Details.scheduleModal.block1.title}}{{payment.get('SerialNo').value}}
                                                            <!-- <input type="text" class="input165" formControlName="SerialNo" disabled> -->
                                                        </h3>
                                                        <div class="d-flex align-items-center">
                                                            <a class="mr-24" *ngIf="ci>0 && !disableInputs">
                                                                <img src="assets/images/icon-delete.svg" alt=""
                                                                    (click)="DeletePayment(ci,pi)">
                                                            </a>
                                                            <a class="top-4" id="catcust" data-toggle="collapse"
                                                                href="#toggle{{ci}}" role="button" aria-expanded="true"
                                                                aria-controls="toggle1">
                                                                <!-- <span *ngIf="show">
                            <img src="assets/images/icon-arrow-up.svg" alt="">
                          </span> -->
                                                                <i class="fa fa-plus">
                                                                    <!-- <span *ngIf="!show">
                                <img src="assets/images/icon-arrow-down.svg"> 
                              </span> -->

                                                                </i>
                                                            </a>
                                                        </div>
                                                    </div>

                                                    <div class="multi-collapse collapse show" id="toggle{{ci}}"
                                                        style="">
                                                        <table width="100%" *ngIf="show">

                                                            <tbody>
                                                                <tr>
                                                                    <td colspan="2" class="text-left ar-text-right">
                                                                        <h4 class="font-18 font-weight-bold">
                                                                            {{lang.form6Details.scheduleModal.block1.subtitle}}
                                                                        </h4>

                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td class="ar-text-right">
                                                                        {{lang.form6Details.scheduleModal.block1.i1}}
                                                                    </td>
                                                                    <td class="text-right ar-text-left" (mouseover)="showTooltip()">
                                                                        <span data-toggle="tooltip" title="{{payment.get('TypeOfPayment').value}}" type="text">
                                                                        <input class="input165" placeholder="Rent"
                                                                            formControlName="TypeOfPayment" disabled></span>
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td class="ar-text-right">
                                                                        {{lang.form6Details.scheduleModal.block1.i2}}
                                                                    </td>
                                                                    <td class="text-right ar-text-left">
                                                                        <input type="text"
                                                                            [placeholder]=lang.form6Details.scheduleModal.block1.placeholder
                                                                            class="input165"
                                                                            formControlName="RecipientName"
                                                                            maxlength="100"
                                                                            [ngClass]="{'disabledIP':disableInputs}"
                                                                            (keypress)="SpaceValidator($event)">
                                                                        <div calss="text-danger"
                                                                            *ngIf="payment.get('RecipientName').hasError('required') && payment.get('RecipientName').hasError('maxlength') && payment.get('RecipientName').touched">
                                                                            {{lang.form6Details.scheduleModal.block1.e6}}
                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td class="ar-text-right">
                                                                        {{lang.form6Details.scheduleModal.block1.i3}}
                                                                    </td>
                                                                    <td class="text-right ar-text-left">
                                                                        <select type="text"
                                                                            class="input165 custom-select"
                                                                            formControlName="Country"
                                                                            (change)="PaymentCountryChange(pi,ci)"
                                                                            [ngClass]="{'disabledIP':disableInputs}">
                                                                            <option
                                                                                *ngFor="let countries of countryList"
                                                                                [value]="countries.Land1"
                                                                                [disabled]="countries.Landx == '' "> {{
                                                                                countries.Landx}}</option>
                                                                        </select>
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td class="ar-text-right">
                                                                        {{lang.form6Details.scheduleModal.block1.i4}}
                                                                    </td>
                                                                    <td
                                                                        class="text-right ar-text-left position-relative">
                                                                        <!-- phani -->
                                                                        <!-- <input type="date" class="input165 text-right" formControlName="DateofPayment" (blur)="DateChange(pi,ci)" [ngClass]="{'disabledIP':disableInputs,'border-red':payment.get('DateofPayment').hasError('required')}"> -->
                                                                        <!-- <input type="radio"
                                                                            (click)="DateChangeHijri('Islamic')">Hijri
                                                                        <input type="radio"
                                                                            (click)="DateChangeHijri('Gregorian')">Gregorian</button> -->
                                                                        <!-- <label>
                                                                                <input type="radio" class="mr-2" value="H" formControlName="CalendarType"
                                                                                    (change)="DateChangeHijri('Islamic')">Hijri
                                                                            </label>
                                                                            <label>
                                                                                <input type="radio" class="mr-2" value="G" formControlName="CalendarType"
                                                                                    (change)="DateChangeHijri('Gregorian')">Gregorian
                                                                            </label> -->
                                                                        <input matInput [matDatepicker]="pickerpici"
                                                                            formControlName="DateofPayment"
                                                                            (dateChange)="DateChange(pi,ci)"
                                                                            [ngClass]="{'disabledIP':disableInputs}"
                                                                            placeholder="" class="input165">
                                                                        <mat-datepicker-toggle matSuffix
                                                                            [for]="pickerpici" class="mat-calendar">
                                                                        </mat-datepicker-toggle>
                                                                        <mat-datepicker #pickerpici
                                                                            [calendarHeaderComponent]="headerComponent">
                                                                        </mat-datepicker>

                                                                        <!-- <input matInput [matDatepicker]="picker" formControlName="DateofPayment"
                                                name="fromdate" style="border: none;" placeholder="">
                                            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                            <mat-datepicker #picker [calendarHeaderComponent]="headerComponent">
                                            </mat-datepicker>
                                            <span class="filter22"> <img src="assets/images/arrow-right.svg" />
                                                {{lang.filter.t6}}</span> -->
                                                                        <!-- <input matInput [matDatepicker]="picker" formControlName="DateofPayment"
                                                name="fromdate" style="border: none;z-index:999999!important" placeholder="Choose a date" (change)="DateChange(pi,ci)">
                                            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                            <mat-datepicker #picker [calendarHeaderComponent]="headerComponent">
                                            </mat-datepicker> -->

                                                                        <!-- <mat-form-field>
                                                <mat-label>Date of Birth</mat-label>
                                                <input matInput [matDatepicker]="dob" formControlName="DateofPayment" (dateChange)="DateChange(pi,ci)">
                                                <mat-datepicker-toggle matSuffix [for]="dob"></mat-datepicker-toggle>
                                                <mat-datepicker #dob ></mat-datepicker>
                                              </mat-form-field> -->
                                                                        <div class="text-danger"
                                                                            *ngIf="payment.get('DateofPayment').hasError('required') && payment.get('DateofPayment').touched">
                                                                            {{lang.form6Details.scheduleModal.block1.er1}}
                                                                            {{payment.get('MinDate').value | date:'dd/MM/yyyy'}}
                                                                            {{lang.form6Details.scheduleModal.block1.er2}}
                                                                            {{payment.get('MaxDate').value | date:'dd/MM/yyyy'}}
                                                                        </div>

                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td class="ar-text-right">
                                                                        {{lang.form6Details.scheduleModal.block1.i5}}
                                                                    </td>
                                                                    <td class="text-right ar-text-left">
                                                                        <input type="text" placeholder="0.00"
                                                                            class="input165 text-right"
                                                                            pattern="^\d{0,14}(\.\d{0,2})?$"
                                                                            (keyup)="GlobalNumberAllow($event)"
                                                                            mask="separator" thousandSeparator=","
                                                                            formControlName="PaymentTotal"
                                                                            (blur)="ValidateForms();"
                                                                            (blur)="PaymentCalculation(pi,ci);"
                                                                            [ngClass]="{'disabledIP':disableInputs,'border-red':payment.get('PaymentTotal').hasError('pattern')}">
                                                                        <div class="text-danger"
                                                                            *ngIf="payment.get('PaymentTotal').hasError('pattern')">
                                                                            {{lang.form6Details.ErrorMessages.er1}}
                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td class="ar-text-right">
                                                                        {{lang.form6Details.scheduleModal.block1.i6}}
                                                                    </td>
                                                                    <td class="text-right ar-text-left">
                                                                        <input type="text" placeholder="0.00"
                                                                            class="input165 text-right"
                                                                            pattern="^\d{0,2}(\.\d{0,2})?$"
                                                                            formControlName="TaxRate"
                                                                            (keyup)="GlobalNumberAllow($event)"
                                                                            mask="separator" thousandSeparator=","
                                                                            (blur)="ValidateForms();"
                                                                            (blur)="TaxWithheldCalculation(pi,ci);"
                                                                            [ngClass]="{'disabledIP':disableInputs,'border-red': ((payment.get('TaxRate').value < payment.get('MinRate').value) &&  payment.get('TaxRate').touched ) || (payment.get('TaxRate').hasError('max') && payment.get('TaxRate').touched) || taxRateError == true }">
                                                                        <div class="text-danger"
                                                                            *ngIf="((payment.get('TaxRate').value < payment.get('MinRate').value) &&  payment.get('TaxRate').touched ) || (payment.get('TaxRate').hasError('max') && payment.get('TaxRate').touched) || taxRateError == true ">
                                                                            {{lang.form6Details.scheduleModal.block1.e3}}
                                                                            {{lang.form6Details.scheduleModal.block1.e4}}:{{payment.get('MinRate').value}}
                                                                            {{lang.form6Details.scheduleModal.block1.e5}}:{{payment.get('MaxRate').value}}

                                                                        </div>
                                                                        <!-- <div class="text-danger" *ngIf="(payment.get('TaxRate').touched) && (payment.get('TaxRate').hasError('pattern'))">
                                                                            Please enter taxrate
                                                                        </div> -->
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td class="ar-text-right">
                                                                        {{lang.form6Details.scheduleModal.block1.i7}}
                                                                    </td>
                                                                    <td class="text-right ar-text-left">
                                                                        <input type="text" placeholder="10"
                                                                            class="input165 text-right"
                                                                            pattern="^\d{0,14}(\.\d{0,2})?$"
                                                                            (keyup)="GlobalNumberAllow($event)"
                                                                            mask="separator" thousandSeparator=","
                                                                            formControlName="Amountoftaxwithheld"
                                                                            disabled (blur)="ValidateForms();">
                                                                    </td>
                                                                </tr>
                                                            </tbody>

                                                        </table>

                                                    </div>
                                                </div>

                                            </ng-container>

                                        </div>

                                    </div>

                                    <div class="bg-Watercourse-opa1 mb-24  border-radius-14">
                                        <table class="table" width="100%" *ngIf="pi==typeIndex">
                                            <tr>
                                                <td class="font-20 font-weight-bold">
                                                    {{lang.form6Details.scheduleModal.block1.i8}}</td>
                                                <td class="font-20 font-weight-bold text-right"><input type="text"
                                                        class="input165 text-right" pattern="^\d{0,14}(\.\d{0,2})?$"
                                                        (keyup)="GlobalNumberAllow($event)" mask="separator"
                                                        thousandSeparator="," formControlName="PaymentTotal" disabled>
                                                </td>
                                                <!-- <td  class="font-20 font-weight-bold"><input type="text" class="input165" pattern="^\d{0,13}(\.\d{0,2})?$" (keyup)="GlobalNumberAllow($event)" mask="separator" thousandSeparator="," formControlName="WithheldTaxAmount" disabled></td> -->
                                            </tr>
                                            <tr>
                                                <td class="font-20 font-weight-bold">
                                                    {{lang.form6Details.scheduleModal.block1.i11}}</td>
                                                <!-- <td  class="font-20 font-weight-bold"><input type="text" class="input165" pattern="^\d{0,13}(\.\d{0,2})?$" (keyup)="GlobalNumberAllow($event)" mask="separator" thousandSeparator="," formControlName="PaymentTotal" disabled></td> -->
                                                <td class="font-20 font-weight-bold text-right"><input type="text"
                                                        class="input165 text-right" pattern="^\d{0,14}(\.\d{0,2})?$"
                                                        (keyup)="GlobalNumberAllow($event)" mask="separator"
                                                        thousandSeparator="," formControlName="WithheldTaxAmount"
                                                        disabled></td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            </div>

                        </form>

                    </div>
                    <div class="d-flex mb-24" *ngIf="!disableInputs">
                        <div class="card mr-10 p-15 w-100">
                            <a class="d-flex align-items-center" (click)="AddForm(typeIndex)">
                                <img src="assets/images/icon-plus.svg" class="mr-15 withheight24"> <span
                                    class="font-weight-500 text-Watercourse">
                                    {{lang.form6Details.scheduleModal.block1.i9}}</span>
                            </a>
                        </div>
                        <div class="card ml-10 p-15 w-100">
                            <a class="d-flex align-items-center" data-toggle="modal"
                                data-target="#addMultipleFormsModalform6">
                                <img src="assets/images/icon-plus.svg" class="mr-15 withheight24"> <span
                                    class="font-weight-500 text-Watercourse">{{lang.form6Details.scheduleModal.block1.i10}}</span>
                            </a>
                        </div>
                    </div>


                    <form [formGroup]="withHoldingForm6" *ngIf="!disableInputs">
                        <div formArrayName="Types">
                            <div *ngFor="let type of withHoldingForm6?.controls?.Types['controls'];let pi=index"
                                [formGroupName]="pi">
                                <div formArrayName="TypeOfPayments">
                                    <div *ngIf="pi==typeIndex">
                                        <div class="form-group text-right pt-32" *ngIf="pi==typeIndex"
                                            [ngClass]="{'arabic-btn':language == 'ar'}">
                                            <button class="btn btn-primary"
                                                [disabled]="(!type.get('TypeOfPayments').valid || taxRateError == true)"
                                                (click)="SaveSchedules();"
                                                data-dismiss="modal">{{lang.form6Details.scheduleModal.block1.btn1}}</button>
                                                <!-- || type.get('TaxRate').value == '' -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>


                <!-- </div>    -->
                <!-- <div *ngIf="action=='UploadExcel'">
        <div class="d-flex">
            <div class="mr-24">
                <div class="cardh180 card mb-40 p-24" style="width:437px; border:1px solid gray">
                    <div class="d-flex justify-content-end"><img src="assets/images/icon-delete.svg"></div>
                    <div class="d-flex justify-content-center align-items-center h-100">
                        <p class="m-0 font-weight-500 font-16 text-center">
                            <img src="assets/images/pdf.svg" class="mb-10"> <br>
                            File1.pdf
                            <br>
                            <span class="font-12 font-weight-normal text-Gray">{{lang.form6Details.scheduleModal.block2.span1}}</span>
                        </p>
        
                    </div>
                </div>

            </div>
        
        <div>     
            <div class="cardh180 card mb-40 p-24 d-flex justify-content-center align-items-center h-100"
                style="width: 437px;border: 1px dashed #bbbbbb;">

                <div class="m-0 font-weight-500 font-16 text-center">
                    <img src="assets/images/icon-plus.svg" class="mb-10 withheight24"> <br />
                    <p class="text-Watercourse mb-24 font-weight-bold">{{lang.form6Details.scheduleModal.block2.p1}}</p>
                    <p class="font-12 font-weight-normal text-Gray">{{lang.form6Details.scheduleModal.block2.p2}}</p>
                </div>
            </div> 
            </div>
        </div>
		<div class="card p-24 mb-56">
            <div class="d-flex">
                <img src="assets/images/icon-info.svg" class="mr-15" alt="">
                <span class="font-12 text-Gray">
                    {{lang.form6Details.scheduleModal.block2.span2}}
                </span>
            </div>


        </div>
        <div class="form-group text-right pt-32"> 
            <button class="btn btn-primary">{{lang.form6Details.scheduleModal.block2.btn}}</button>

        </div>
    </div> -->

            </div>

        </div>
    </div>
</div>
<!-- FILTER MODAL ENDS -->



<!-- FILTER MODAL STARTS -->
<div dir={{direction}} [ngClass]="{'lang-arabic':direction=='rtl'}" class="modal modal-filter fade"
    data-backdrop="static" data-keyboard="false" id="notesModal" tabindex="-1" role="dialog"
    aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog d-flex align-items-center justify-content-center height100VH" role="document"
        dir={{direction}}>
        <div class="modal-content">
            <div class="text-right modal-filter-head">

                <button type="button" class="close" data-dismiss="modal" aria-label="Close" [ngClass]="{'arabic-btn':language == 'ar'}">
                    <span class="material-icons font-28">
                        clear
                    </span>
                </button>
            </div>
            <div class="modal-body">
                <h2 class="mb-24">{{lang.form6Details.notesModal.title}}</h2>
                <textarea rows="9" class="form-control" [(ngModel)]="notesAttached" [disabled]="disableInputs">

					 </textarea>
                <div class="form-group text-right pt-32" *ngIf="!disableInputs"
                    [ngClass]="{'arabic-btn':language == 'ar'}">
                    <button class="btn btn-primary" [disabled]="notesAttached==''" (click)="SaveNotes()"
                        data-dismiss="modal">{{lang.form6Details.notesModal.btn}}</button>

                </div>
            </div>

        </div>
    </div>
</div>
<!-- FILTER MODAL ENDS -->

<div dir={{direction}} [ngClass]="{'lang-arabic':direction=='rtl'}" class="modal modal-filter fade"
    data-backdrop="static" data-keyboard="false" id="addMultipleFormsModalform6" tabindex="-1" role="dialog"
    aria-labelledby="exampleModalLabel" style="display: none;" aria-hidden="true" dir={{direction}}>
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="text-right modal-filter-head">

                <button type="button" class="close" (click)='AddPopup()' data-dismiss="modal" aria-label="Close"
                [ngClass]="{'arabic-btn':language == 'ar'}">
                    <span class="material-icons font-28">
                        clear
                    </span>
                </button>
            </div>
            <div class="modal-body">

                <h2 class="mb-16">{{lang.form6Details.multiformsmodal.title}}</h2>
                <div class="font-16 text-Gray mb-32">
                    {{lang.form6Details.multiformsmodal.subtitle}}
                </div>
                <div class="d-flex justify-content-between card-inner mb-56 p-24">
                    <div class="d-flex align-items-center text-Nero font-12">
                        <div *ngIf="noOfAddedForms>0">
                            <img src="assets/images/icon-minus.svg" class="mr-24" alt="" style="width:24px; height:24px"
                                (click)="noOfAddedForms=noOfAddedForms-1">

                        </div>
                        <img src="assets/images/icon-plus.svg" class="ml-15" alt="" style="width:24px; height:24px"
                            (click)="noOfAddedForms=noOfAddedForms+1">
                    </div>
                    <div class="text-right">
                        <input type="text" placeholder="10" pattern="[0-9]*" #noofadded="ngModel"
                            class="input165 text-right" (keydown)="GlobalNumberAllow($event)" maxlength="2"
                            [(ngModel)]="noOfAddedForms">
                        <div *ngIf="noOfAddedForms>99 || noofadded?.errors?.pattern" class="text-danger">
                            {{lang.form6Details.ErrorMessages.er2}}
                        </div>
                        <div *ngIf="noOfAddedForms<0" class="text-danger">

                        </div>
                    </div>
                </div>
                <div class="form-group text-right" [ngClass]="{'arabic-btn':language == 'ar'}">
                    <button class="btn btn-primary" *ngIf="noOfAddedForms>=0"
                        (click)="AddMultipleForms(typeIndex);">{{lang.form6Details.multiformsmodal.btn}}</button>

                </div>
            </div>

        </div>
    </div>
</div>
<div dir={{direction}} [ngClass]="{'lang-arabic':direction=='rtl'}">
    <notifier-container></notifier-container>
</div>

<!-- Added by hema ends -->


<!--- Void Modal Popup----->
<div class="modal modal-filter fade" dir={{direction}} [ngClass]="{'lang-arabic':direction=='rtl'}" id="VoidModal"
    tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog d-flex align-items-center height100VH my-0 mx-auto justify-content-center" role="document">
        <div class="modal-content">
            <div class="text-right modal-filter-head">

                <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                    [ngClass]="{'arabic-btn':language == 'ar'}">
                    <span class="material-icons font-28">
                        clear
                    </span>
                </button>
            </div>
            <div class="modal-body">

                <div class="card-inner mb-16">
                    <div class="font-12 text-Gray">
                        {{lang?.form6Details.VoidModal.p1}}
                    </div>
                </div>
                <div class="form-group text-right ar-text-left pt-32" [ngClass]="{'arabic-btn':language == 'ar'}">
                    <button class="btn btn-primary mr-3"
                        (click)="CancelForm6Return()">{{lang?.form6Details.VoidModal.btn1}}</button>
                    <button class="btn btn-primary" data-dismiss="modal">{{lang?.form6Details.VoidModal.btn2}}</button>
                </div>
            </div>

        </div>
    </div>
</div>
<!---- Void Modal popup ends ---->

<!-- Excel upload confirmation starts -->

<div class="modal modal-filter fade" id="TypeOfPaymentsConfirmation" tabindex="-1" role="dialog"
    aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog d-flex align-items-center justify-content-center height100VH my-0 mx-auto" role="document">
        <div class="modal-content">
            <div class="modal-body">
                <div class="card-inner p-15 mt-5 mb-56">
                    <p class="text-center mb-24">
                        {{lang.form6Details.excelUploadConfirmation}}
                    </p>
                </div>
                <div class="form-group text-right d-flex justify-content-center" [ngClass]="{'arabic-btn':language == 'ar'}">
                    <button class="btn btn-primary mr-15" data-dismiss="modal"
                        (click)="TypeOfPaymentsUploadOk();AddPopup();">{{lang?.form6Details.VoidModal.btn1}}</button>
                    <button class="btn btn-primary" data-dismiss="modal" aria-label="Close"
                        (click)="cancelUpload=true;TypeOfPaymentsUploadOk();AddPopup();">{{lang?.form6Details.VoidModal.btn2}}</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Excel upload confirmation ends -->


<!-- Invalid File Popuup Starts -->

<div class="modal modal-filter fade" id="toolTips" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog d-flex align-items-center justify-content-center height100VH my-0 mx-auto" role="document">
        <div class="modal-content">
            <div class="text-right modal-filter-head">

                <button type="button" class="close" data-dismiss="modal" aria-label="Close" [ngClass]="{'arabic-btn':language == 'ar'}">
                    <span class="material-icons font-28">
                        clear
                    </span>
                </button>
            </div>
            <div class="modal-body">
                <div class="card-inner p-15 mt-5 mb-56">
                    <p class="text-center mb-24">
                        {{lang.form6Details.excelUploadError}}
                    </p>
                </div>
                <div class="form-group text-right" [ngClass]="{'arabic-btn':language == 'ar'}">
                    <button class="btn btn-primary" data-dismiss="modal" aria-label="Close">{{lang?.form6Details.VoidModal.btn1}}</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Invalid File Popuup Ends -->
<!---- Declaration instructions popup modal-->
<div class="modal modal-filter fade" id="instructionsModal" tabindex="-1" role="dialog" dir={{direction}} [ngClass]="{'lang-arabic':direction=='rtl'}"
            aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog d-flex align-items-center justify-content-center height100VH my-0 mx-auto"
                role="document">
                <div class="modal-content">
                    <div class="text-right modal-filter-head">

                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                        [ngClass]="{'arabic-btn':language == 'ar'}">
                            <span class="material-icons font-28">
                                clear
                            </span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <!-- <h2 class="mb-24">{{lang.c3.heading}}</h2> -->
                        <div class="card-inner p-15 mb-56">
                            <p>
                                <span>• {{lang.form6Details.Declarationpopup.p1}}</span><br>
                                <span>• {{lang.form6Details.Declarationpopup.p2}}</span><br>
                                <span>• {{lang.form6Details.Declarationpopup.p3}}</span><br>
                                <span>• {{lang.form6Details.Declarationpopup.p4}}</span><br>
                                <span>• {{lang.form6Details.Declarationpopup.p5}}</span><br>
                            </p>
                        </div>
                        <div class="form-group text-right ar-text-left pt-32" [ngClass]="{'arabic-btn':language == 'ar'}">
                            <button class="btn btn-primary" href="">{{lang.form6Details.Declarationpopup.btn}}</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
<!---- Declaration popup ends ---->