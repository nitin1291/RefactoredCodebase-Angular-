<!------ Excise Tax Forms Start Here ----->
<!--- Step 1 Starts Here -->
<div *ngIf="ExciseDetailsScreen" dir={{direction}} [ngClass]="{'lang-arabic':direction=='rtl'}">
    <div class="container" *ngIf="step==1">
        <div class="mb-24">
            <a [routerLink]="['/mains/returns/search']" class="text-Gray"> {{lang.c2.step1.p1}} > </a>
            {{lang.c2.step1.p2}}
        </div>
        <div class="mb-32 d-flex justify-content-between align-items-center">

            <a [routerLink]="['/mains/returns/search']"
                class="text-Watercourse d-flex font-weight-bold align-items-center">
                <img src="assets/images/arrow-left-green.svg" class="mr-10 img-reverse" alt=""> {{lang.c2.step1.p3}}
                <!-- {{language}} -->
                <!-- <img src="assets/images/arrow-left-right.svg" *ngIf="language == 'ar'" class="mr-10 rightArrow" alt="">  -->
            </a>
            <!-- <div class="bullet-nav d-flex align-items-center">
                <a (click)="step=1" class="active">
                    <span></span>
                </a>
                <a (click)="step=2">
                    <span></span>
                </a>
                <a (click)="step=3">
                    <span></span>
                </a>
                <a (click)="step=4">
                    <span></span>
                </a>
            </div> -->
            <div class="d-flex justify-content-between mb-24 align-items-center pt-2">
                <div class="vat-steps">
                    <ul class="p-0 m-0 list-style-none d-flex position-relative" *ngIf="!disableInputs">
                        <li><a (click)="step=1" class="active">1</a></li>
                        <li><a (click)="step=2">2</a></li>
                        <li><a [ngClass]="{'pointer-none':taxPayerDetails?.Etpay < 0 || disableButtons }"
                            (click)="step=6">3</a></li>
                        <li><a [ngClass]="{'pointer-none':taxPayerDetails?.Etpay < 0 || disableButtons }"
                                (click)="step=4">3</a></li>
                        <li><a [ngClass]="{'pointer-none':taxPayerDetails?.Etpay < 0 || disableButtons || !taxPayerDetails?.Decnm }"
                                (click)="step=5">4</a></li>
                    </ul>
                    <ul class="p-0 m-0 list-style-none d-flex position-relative" *ngIf="disableInputs">
                        <li><a (click)="step=1" class="active">1</a></li>
                        <li><a [ngClass]="{'pointer-none':voidReturn}" (click)="step=2">2</a></li>
                        <li><a [ngClass]="{'pointer-none':voidReturn}" (click)="step=6">3</a></li>
                        <li><a [ngClass]="{'pointer-none':voidReturn}" (click)="step=3">4</a></li>
                        <li><a [ngClass]="{'pointer-none':voidReturn}" (click)="step=4">5</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="mb-24">
            <h2 class="mb-12">{{lang.c2.step1.p2}} </h2>
            <div class="text-Gray font-16">{{lang.c2.step1.st1}} </div>
        </div>
        <div class="border-bottom-whisper mb-32"></div>
        <div class="row custom-row">
            <div class="col-sm-6" *ngFor="let warehouses of WareHousesset">
                <div class="cardh180 cursor-pointer card mark-light-gray  mb-24">
                    <div class="p-20">
                        <div class="font-20 font-weight-bold text-Eerie-Black">{{ warehouses.Whfnm || '-' }}</div>
                        <div class="text-Eerie-Black font-12 font-weight-500">
                            {{lang.c2.step1.l1}} {{ warehouses.Retwhno || 0 }}
                        </div>
                    </div>

                    <div class="border-bottom-whisper">

                    </div>
                    <div class="p-20">
                        <div class="font-12 font-weight-bold text-Eerie-Black">{{lang.c2.step1.l2}}</div>
                        <div class="text-Eerie-Black font-16 font-weight-500">
                            {{ warehouses.GoodsTxt || '-'}}
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="card  mb-24 card-shadow-none">
            <div class="pxy-2412">
                <h3 class="d-flex align-items-center mb-0">
                    <span class="ellipse48 bg-Watercourse-opa1 mr-15"><img src="assets/images/icon-note.svg" class=""
                            alt=""></span> {{lang.c2.step1.h1}}
                </h3>

            </div>

            <div class="border-bottom-whisper"> </div>
            <div class="row p-24">
                <div class="col-sm-6">
                    <p class="font-16 text-Gray  mb-0">{{lang.c2.step1.i1}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxPayerDetails?.Name || '-'}}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.c2.step1.i2}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxPayerDetails?.Actnm || '-' }}
                    </div>
                </div>
            </div>
            <div class="border-bottom-whisper"> </div>
            <div class="row  p-24">

                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.c2.step1.i3}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxPayerDetails?.Gpartz || 0 }}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.c2.step1.i4}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500"
                        *ngIf="taxPayerDetails?.ER_ADDSet?.results?.length > 0">
                        <!-- {{ AddressSet?.BuildingNo + " , " + AddressSet?.Street + " , " + AddressSet?.Quarter + " , " + AddressSet?.City + " , " + AddressSet?.PostalCd + " , " + AddressSet?.RegionDesc}} -->
                        <span
                            *ngIf="taxPayerDetails?.ER_ADDSet?.results[0]?.BuildingNo">{{taxPayerDetails?.ER_ADDSet?.results[0]?.BuildingNo}}</span><span
                            *ngIf="taxPayerDetails?.ER_ADDSet?.results[0]?.BuildingNo!='' && taxPayerDetails?.ADRSet?.results[0]?.Street!=''">,</span>
                        <span
                            *ngIf="taxPayerDetails?.ER_ADDSet?.results[0]?.Street">{{taxPayerDetails?.ER_ADDSet?.results[0]?.Street}}</span><span
                            *ngIf="taxPayerDetails?.ER_ADDSet?.results[0]?.Street!='' && taxPayerDetails?.ER_ADDSet?.results[0]?.Quarter!=''">,</span>
                        <span
                            *ngIf="taxPayerDetails?.ER_ADDSet?.results[0]?.Quarter">{{taxPayerDetails?.ER_ADDSet?.results[0]?.Quarter}}</span><span
                            *ngIf="taxPayerDetails?.ER_ADDSet?.results[0]?.Quarter!='' && taxPayerDetails?.ER_ADDSet?.results[0]?.RegionDesc!=''">,</span>
                        <span
                            *ngIf="taxPayerDetails?.ER_ADDSet?.results[0]?.RegionDesc">{{taxPayerDetails?.ER_ADDSet?.results[0]?.RegionDesc}}</span><span
                            *ngIf="taxPayerDetails?.ER_ADDSet?.results[0]?.RegionDesc!='' && taxPayerDetails?.ER_ADDSet?.results[0]?.City!=''">,</span>
                        <span
                            *ngIf="taxPayerDetails?.ER_ADDSet?.results[0]?.City">{{taxPayerDetails?.ER_ADDSet?.results[0]?.City}}</span><span
                            *ngIf="taxPayerDetails?.ER_ADDSet?.results[0]?.City!='' && taxPayerDetails?.ER_ADDSet?.results[0]?.PostalCd!=''">,</span>
                        <span
                            *ngIf="taxPayerDetails?.ER_ADDSet?.results[0]?.PostalCd">{{taxPayerDetails?.ER_ADDSet?.results[0]?.PostalCd}}</span><span
                            *ngIf="taxPayerDetails?.ER_ADDSet?.results[0]?.City!='' && taxPayerDetails?.ER_ADDSet?.results[0]?.PostalCd!='' && taxPayerDetails?.ER_ADDSet?.results[0]?.RegionDesc!='' ">,</span>
                        <span
                            *ngIf="taxPayerDetails?.ER_ADDSet?.results[0]?.RegionDesc">{{taxPayerDetails?.ER_ADDSet?.results[0]?.RegionDesc}}</span>
                    </div>
                    <div class="text-Eerie-Black font-16 font-weight-500"
                        *ngIf="taxPayerDetails?.ER_ADDSet?.results?.length==0">
                        -
                    </div>
                </div>
            </div>
        </div>

        <div class="card mb-56 card-shadow-none">
            <div class="pxy-2412">
                <h3 class="d-flex align-items-center mb-0">
                    <span class="ellipse48 bg-Watercourse-opa1 mr-15"><img src="assets/images/icon-note.svg" class=""
                            alt=""></span> {{lang.c2.step1.h2}}
                </h3>
            </div>
            <div class="border-bottom-whisper"> </div>
            <div class="row p-24">
                <div class="col-sm-6">
                    <p class="font-16 text-Gray  mb-0">{{lang.c2.step1.i5}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxPayerDetails?.Incotext || '-'}}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.c2.step1.i6}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxPayerDetails?.Fbnumz || '-' }}
                    </div>
                </div>
            </div>
            <div class="border-bottom-whisper"> </div>
            <div class="row  p-24">

                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.c2.step1.i7}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxPayerDetails?.Perslt || 0 }}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.c2.step1.i8}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxPayerDetails?.Extaxret || 0 }}
                    </div>
                </div>

            </div>
        </div>

        <div class="mb-24" *ngIf="disableInputs == false">
            <a class="btn btn-link mr-15" [routerLink]="['/mains/excise']">{{lang.c2.step1.btn1}}</a>
            <button class="btn btn-primary" (click)="step=2">{{lang.c2.step1.btn2}}</button>
        </div>

    </div>
    <!-- Step 1 Ends Here ->
    <!- Step 2 Starts Here -->
    <div class="container" *ngIf="step==2">
        <div class="mb-24">
            <a [routerLink]="['/mains/returns/search']" class="text-Gray"> {{lang.c2.step1.p1}} > </a>
            {{lang.c2.step1.p2}}
        </div>
        <div class="mb-32 d-flex justify-content-between align-items-center">

            <a (click)="step=1" class="text-Watercourse d-flex font-weight-bold align-items-center">
                <img src="assets/images/arrow-left-green.svg" class="mr-10 img-reverse" alt=""> {{lang.c2.step1.p3}}
                <!-- <img src="assets/images/arrow-left-right.svg" *ngIf="language == 'ar'"class="mr-10 rightArrow" alt=""> -->
            </a>
            <div class="d-flex justify-content-between mb-24 align-items-center pt-2">
                <div class="vat-steps">
                    <ul class="p-0 m-0 list-style-none d-flex position-relative" *ngIf="!disableInputs">
                        <li><a (click)="step=1" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a></li>
                        <li><a (click)="step=2" class="active">2</a></li>
                        <li><a [ngClass]="{'pointer-none':taxPayerDetails.Etpay < 0 || disableButtons }"
                            (click)="step=6">3</a></li>
                        <li><a [ngClass]="{'pointer-none':taxPayerDetails.Etpay < 0 || disableButtons }"
                                (click)="step=3">4</a></li>
                        <li><a [ngClass]="{'pointer-none':taxPayerDetails.Etpay < 0 || disableButtons || !taxPayerDetails.Decnm}"
                                (click)="step=4">5</a></li>
                    </ul>
                    <ul class="p-0 m-0 list-style-none d-flex position-relative" *ngIf="disableInputs">
                        <li><a (click)="step=1" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a></li>
                        <li><a [ngClass]="{'pointer-none':voidReturn}" (click)="step=2" class="active">2</a></li>
                        <li><a [ngClass]="{'pointer-none':voidReturn}" (click)="step=6">3</a></li>
                        <li><a [ngClass]="{'pointer-none':voidReturn}" (click)="step=3">4</a></li>
                        <li><a [ngClass]="{'pointer-none':voidReturn}" (click)="step=4">5</a></li>
                    </ul>
                </div>
            </div>
            <!-- <div class="bullet-nav d-flex align-items-center">
                <a (click)="step=1" class="active">
                    <span></span>
                </a>
                <a (click)="step=2" class="active">
                    <span></span>
                </a>
                <a (click)="step=3">
                    <span></span>
                </a>
                <a (click)="step=4">
                    <span></span>
                </a>
            </div> -->
        </div>
        <div class="mb-24">
            <h2 class="mb-12">{{lang.c2.step2.h1}}</h2>
            <div class="text-Gray font-16">{{lang.c2.step2.st1}}
            </div>
        </div>
        <div class="border-bottom-whisper mb-32"></div>
        <div class="mb-24">
            <label class="custom-checkBox d-flex align-items-center h-32">
                <span class="ml-10"> {{lang.c2.step2.l13}}</span>
                <input type="checkbox" [(ngModel)]="taxPayerDetails.Zeroretfg" data-toggle="modal" (change)="ZeroRatedmodal($event)" [disabled]="disableInputs">
                <span class="checkmark"></span>
            </label>
        </div>
        <div>
            <div *ngFor="let warehouse of ItemsSetDuplicate;let i=index">
                <div class="table mb-24 border-top-whisper">
                    <div class="p-24 d-flex align-items-center justify-content-between">
                        <h3 class="d-flex align-items-center mb-0">
                            {{ warehouse.Whfnm || '-' }}

                        </h3>
                        <a id="catcust" data-toggle="collapse" href="#toggle1" role="button" aria-expanded="true"
                            aria-controls="toggle1">
                            <i class="fa fa-plus">
                            </i>
                        </a>
                    </div>
                    <div class="collapse show multi-collapse" id="toggle1">
                        <table width="100%">
                            <thead>
                                <tr>
                                    <th class="font-16 text-Eerie-Black  font-weight-500" width="25%">
                                        {{lang.c2.step2.th1}}
                                    </th>
                                    <th class="font-16 text-Eerie-Black  font-weight-500 text-right" width="25%">
                                        <div class="d-flex align-items-center justify-content-end">
                                            <a href="#" class="mr-15" data-toggle="modal" data-target="#infoModal">
                                                <img src="assets/images/icon-info.svg" alt="">
                                            </a>
                                            {{lang.c2.step2.th2}}
                                        </div>
                                    </th>
                                    <th class="font-16 text-Eerie-Black font-weight-500  text-right " width="25%">
                                        {{lang.c2.step2.th3}}
                                    </th>
                                    <th class="font-16 text-Eerie-Black font-weight-500 text-right" width="25%">
                                        {{lang.c2.step2.th4}}
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let product of warehouse.Items;let j=index">
                                    <td width="25%" class="font-16 text-Eerie-Black">
                                        <div class="d-flex align-items-center white-space-pre">
                                            {{ product.GoodsTxt || '-'}}

                                        </div>
                                    </td>
                                    <td width="25%" class="text-right">
                                        <div class="text-Eerie-Black font-16 font-weight-500">
                                            <input class="input165  text-right" pattern="^\d{0,12}(\.\d{0,2})?$"
                                                #rsp="ngModel" [ngClass]="{'border-red':product.RSPError || rsp.errors?.pattern }"
                                                type="text" [(ngModel)]="product.Rsptot"
                                                (keyup)="GlobalNumberAllow($event)" mask="separator"
                                                thousandSeparator=","
                                                (blur)="CalculateETTAXOnGoods(product.Rsptot,i,product.GoodsTy,j)"
                                                [disabled]="taxPayerDetails.Zeroretfg!=''?true:false || disableInputs ">
                                            <div *ngIf="product.RSPError || rsp.errors?.pattern" class="text-danger">
                                                {{lang.c2.step2.er1}}</div>
                                        </div>
                                    </td>
                                    <td width="25%" class="text-right">
                                        <div class="text-Eerie-Black font-16 font-weight-500">
                                            <input class="input165  text-right" type="text" [(ngModel)]="product.Ettax"
                                                mask="separator" thousandSeparator="," disabled>
                                        </div>
                                    </td>
                                    <td width="25%" class=" text-right">
                                        <div class="text-Eerie-Black font-16 font-weight-500">
                                            <input class="input165  text-right" pattern="^\d{0,12}(\.\d{0,2})?$"                                            
                                                #ett="ngModel"
                                                [ngClass]="{'border-red':product.EtdedError == true || product.EtdedAmountError == true || ett.errors?.pattern}"
                                                type="text" [(ngModel)]="product.Etded"
                                                (keyup)="GlobalNumberAllow($event)" mask="separator"
                                                thousandSeparator=","
                                                (blur)="InputDeductionValidation(product.Etded,i,j);"
                                                [disabled]="(taxPayerDetails.Zeroretfg!=''?true:false) || (product.Purpose!='01'?true:false) || disableInputs ">
                                            <div *ngIf="product.EtdedError == true" class="text-danger">
                                                {{lang.c2.step2.er1}}
                                            </div>

                                            <div *ngIf="product.EtdedAmountError == true || ett.errors?.pattern"
                                                class="text-danger">{{lang.c2.step2.er2}}</div>
                                                <div *ngIf="ett.errors?.min"
                                                class="text-danger">{{lang.c2.step2.er2}}</div>
                                                
                                        </div>
                                    </td>
                                </tr>
                                <tr class="bg-Watercourse-opa1">
                                    <td width="25%">
                                        <div class="text-Eerie-Black font-16 font-weight-500">
                                            {{lang.c2.step2.l1}}
                                        </div>
                                    </td>
                                    <td width="25%" class=" text-right">
                                        <div class="text-Eerie-Black font-16 font-weight-500">
                                            {{warehouse.Items[0].Rspsubtot || 0 | number : '1.2-2' }}
                                        </div>
                                    </td>
                                    <td width="25%" class=" text-right">
                                        <div class="text-Eerie-Black font-16 font-weight-500">
                                            {{warehouse.Items[0].Ettaxsub || 0 | number : '1.2-2'}}
                                        </div>
                                    </td>
                                    <td width="25%" class=" text-right">
                                        <div class="text-Eerie-Black font-16 font-weight-500">
                                            {{warehouse.Items[0].Etdedsub || 0 | number : '1.2-2'}}</div>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="bg-Watercourse-opa1 d-flex justify-content-between border-radius-14 mb-24">
                <table width="100%" class="table mb-0 table-layout-fixed">
                    <tr>
                        <td width="25%" class="l-w-290">
                            <div class="text-Eerie-Black font-16 font-weight-500">
                                {{lang.c2.step2.l2}}
                            </div>
                        </td>
                        <td class=" text-right lang-arabic-text-right" width="25%">
                            <div class="font-20 font-weight-bold text-Eerie-Black">
                                {{ GrandTotalOfRSPValue || 0 | number : '1.2-2' }}
                            </div>
                        </td>
                        <td class=" text-right lang-arabic-text-right" width="25%">
                            <div class="font-20 font-weight-bold text-Eerie-Black">
                                {{ taxPayerDetails?.Ettax || 0 | number : '1.2-2' }}
                            </div>
                        </td>
                        <td class=" text-right lang-arabic-text-right" width="25%">
                            <div class="font-20 font-weight-bold text-Eerie-Black">
                                {{ taxPayerDetails?.Etded || 0 | number : '1.2-2'}}
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="table mb-24 border-top-whisper">
                <div class="p-24 d-flex align-items-center justify-content-between">
                    <h3 class="d-flex align-items-center mb-0">
                        {{lang.c2.step2.l3}}
                    </h3>
                    <a id="catcust" data-toggle="collapse" href="#toggle3" role="button" aria-expanded="true"
                        aria-controls="toggle3">
                        <i class="fa fa-plus">
                        </i>
                    </a>

                </div>
                <div class="collapse show multi-collapse" id="toggle3">
                    <table width="100%">

                        <tbody>
                            <tr>
                                <td class="font-16 text-Eerie-Black" width="80%">
                                    <div class="d-flex align-items-center">
                                        {{lang.c2.step2.th3}}

                                    </div>
                                </td>

                                <td class="lang-arabic-text-left text-right">
                                    <div class="text-Gray font-16 font-weight-500">
                                        {{taxPayerDetails?.Ettax || 0 | number : '1.2-2' }}
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td class="font-16 text-Eerie-Black" width="80%">
                                    <div class="d-flex align-items-center">
                                        {{lang.c2.step2.th4}}

                                    </div>
                                </td>

                                <td class="lang-arabic-text-left text-right">
                                    <div class="text-Gray font-16 font-weight-500">
                                        {{taxPayerDetails?.Etded || 0 | number : '1.2-2' }}
                                    </div>
                                </td>
                            </tr>


                            <tr class="bg-Watercourse-opa1">
                                <td>
                                    <div class="text-Eerie-Black font-16 font-weight-500">
                                        {{lang.c2.step2.l6}}
                                    </div>
                                </td>

                                <td class="lang-arabic-text-left text-right">
                                    <div class="text-Eerie-Black font-16 font-weight-500">
                                        {{taxPayerDetails?.Etnet || 0 | number : '1.2-2' }}
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

            </div>
            <div class="table mb-40 border-top-whisper">
                <div class="p-24 d-flex align-items-center justify-content-between">
                    <h3 class="d-flex align-items-center mb-0">
                        {{lang.c2.step2.l7}}
                    </h3>
                    <a id="catcust" data-toggle="collapse" href="#toggle4" role="button" aria-expanded="true"
                        aria-controls="toggle4">
                        <i class="fa fa-plus">
                        </i>
                    </a>

                </div>
                <div class="collapse show multi-collapse" id="toggle4">
                    <table width="100%">

                        <tbody>
                            <tr>
                                <td class="font-16 text-Eerie-Black" width="80%">
                                    <div class="d-flex align-items-center">
                                        {{lang.c2.step2.l8}}

                                    </div>
                                </td>

                                <td class="lang-arabic-text-left text-right">
                                    <div class="text-Gray font-16 font-weight-500">
                                        {{taxPayerDetails?.Etlfp | mask: 'separator':','}}
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td class="font-16 text-Eerie-Black" width="80%">
                                    <div class="d-flex align-items-center">
                                        {{lang.c2.step2.l9}}

                                    </div>
                                </td>

                                <td class="lang-arabic-text-left text-right">
                                    <div class="text-Gray font-16 font-weight-500">
                                        {{taxPayerDetails?.Etlpp | mask: 'separator':','}}
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td class="font-16 text-Eerie-Black" width="80%">
                                    <div class="d-flex align-items-center">
                                        {{lang.c2.step2.l10}}

                                    </div>
                                </td>

                                <td class="lang-arabic-text-left text-right">
                                    <div class="text-Gray font-16 font-weight-500">
                                        {{taxPayerDetails?.Appcr | mask: 'separator':','}}
                                    </div>
                                </td>
                            </tr>


                            <tr class="bg-Watercourse-opa1">
                                <td>
                                    <div class="text-Eerie-Black font-16 font-weight-500">
                                        {{lang.c2.step2.l11}}
                                    </div>
                                </td>

                                <td class="lang-arabic-text-left text-right">
                                    <div class="text-Eerie-Black font-16 font-weight-500">
                                        {{taxPayerDetails?.Etadv || 0 | number : '1.2-2'}}
                                    </div>

                                </td>
                            </tr>
                        </tbody>
                    </table>

                </div>
            </div>
            <div class="bg-Watercourse-opa1 d-flex justify-content-between border-radius-14 mb-56">
                <table class="table mb-0" width="100%">
                    <tr>
                        <td width="75%">
                            <div class="text-Eerie-Black font-16 font-weight-500"> {{lang.c2.step2.l12}}:
                                {{taxPayerDetails?.Perslt}} </div>
                        </td>
                        <td class="lang-arabic-text-left text-right">
                            <div class="text-Eerie-Black font-20 font-weight-bold text-right">
                                {{taxPayerDetails?.Etpay | number : '1.2-2'}}
                            </div>
                        </td>

                    </tr>
                </table>
            </div>

            <div class="mb-24" *ngIf="disableInputs == false">
                <div *ngIf="taxPayerDetails.Zeroretfg==''?true:false">
                    <button class="btn btn-link mr-3" *ngIf="taxPayerDetails.Statusz== 'E0013'" data-toggle="modal" data-target="#VoidModal">Cancel</button>
                    <button class="btn btn-primary mr-3" [disabled]="taxPayerDetails.Etpay < 0 || disableButtons" 
                    (click)="SaveAsDraftET()">{{lang.c2.step2.btn1}}</button>
                <button class="btn btn-primary" [disabled]="taxPayerDetails.Etpay < 0 || disableButtons" 
                    (click)="step=6">{{lang.c2.step2.btn2}}</button>
                </div>
                    <div *ngIf="taxPayerDetails.Zeroretfg!=''?true:false">
                    <button class="btn btn-link mr-3" *ngIf="taxPayerDetails.Statusz== 'E0013'" data-toggle="modal" data-target="#VoidModal">Cancel</button>
                    <button class="btn btn-primary mr-3"  [disabled]="disableButtons" 
                    (click)="SaveAsDraftET()">{{lang.c2.step2.btn1}}</button>
                    <button class="btn btn-primary"   [disabled]="disableButtons" 
                    (click)="step=6">{{lang.c2.step2.btn2}}</button>
                    </div>
                    
            </div>
        </div>

    </div>
    <!----- Step 2 Ends Here ---->
    <!---- Zero confirmation popup ----->
    <div class="modal modal-filter fade" id="zeroRated" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true" dir={{direction}} [ngClass]="{'lang-arabic':direction=='rtl'}">
        <div class="modal-dialog d-flex align-items-center justify-content-center height100VH my-0 mx-auto"
            role="document">
            <div class="modal-content">
                <div class="text-right modal-filter-head">

                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                    [ngClass]="{'arabic-btn':language == 'ar'}">
                        <span class="material-icons font-28">
                            clear
                        </span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="font-16 text-Gray">
                        {{lang.c2.zeroRateModal.p}}
                    </div>
                    <div class="form-group text-right pt-32" [ngClass]="{'arabic-btn':language=='ar'}">
                        <button class="btn btn-primary mr-3" data-dismiss="modal" (click)="ZeroChange()">{{lang.c2.zeroRateModal.btn1}}</button>
                        <button class="btn btn-primary" (click)="taxPayerDetails['Zeroretfg'] = '' " data-dismiss="modal">{{lang.c2.zeroRateModal.btn2}}</button>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <!----- Zero confirmation popup ends ----->
    <!----- Info Icons Modal ------>
    <div class="modal modal-filter fade" id="infoModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true">
        <div class="modal-dialog d-flex align-items-center justify-content-center height100VH my-0 mx-auto"
            role="document">
            <div class="modal-content">
                <div class="text-right modal-filter-head">

                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                    [ngClass]="{'arabic-btn':language == 'ar'}">
                        <span class="material-icons font-28">
                            clear
                        </span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="font-16 text-Gray">
                        {{lang.c2.infomodal.p1}}
                    </div>
                    <div class="form-group text-right pt-32" [ngClass]="{'arabic-btn':language == 'ar'}">
                        <button class="btn btn-primary" data-dismiss="modal">{{lang.c2.infomodal.btn1}}</button>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <!--Info Icon Modal ---->
    <!---- Step 4 starts Here -->
    <div class="container" *ngIf="step==3">
        <div class="mb-24">
            <a [routerLink]="['/mains/returns/search']" class="text-Gray"> {{lang.c2.step1.p1}} > </a>
            {{lang.c2.step1.p2}}
        </div>
        <div class="mb-32 d-flex justify-content-between align-items-center">

            <a (click)="step=6" class="text-Watercourse d-flex font-weight-bold align-items-center">
                <img src="assets/images/arrow-left-green.svg" class="mr-10 img-reverse" alt=""> {{lang.c2.step1.p3}}
                <!-- <img src="assets/images/arrow-left-right.svg" *ngIf="language == 'ar'"class="mr-10 rightArrow" alt=""> -->
            </a>
            <div class="d-flex justify-content-between mb-24 align-items-center pt-2">
                <div class="vat-steps">
                    <ul class="p-0 m-0 list-style-none d-flex position-relative" *ngIf="!disableInputs">
                        <li><a (click)="step=1" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a></li>
                        <li><a (click)="step=2" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a></li>
                        <li><a (click)="step=6" [ngClass]="{'pointer-none':taxPayerDetails.Etpay < 0 || disableButtons }" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a></li>
                        <li><a class="active" [ngClass]="{'pointer-none':taxPayerDetails.Etpay < 0 || disableButtons }"
                                (click)="step=3">4</a></li>
                        <li><a [ngClass]="{'pointer-none':taxPayerDetails.Etpay < 0 || disableButtons || !taxPayerDetails.Decnm}"
                                (click)="step=4">5</a></li>
                    </ul>
                    <ul class="p-0 m-0 list-style-none d-flex position-relative" *ngIf="disableInputs">
                        <li><a (click)="step=1" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a></li>
                        <li><a [ngClass]="{'pointer-none':voidReturn}" (click)="step=2" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a></li>
                        <li><a [ngClass]="{'pointer-none':voidReturn}" (click)="step=6" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a></li>
                        <li><a [ngClass]="{'pointer-none':voidReturn}" (click)="step=3" class="active">4</a></li>
                        <li><a [ngClass]="{'pointer-none':voidReturn}" (click)="step=4">5</a></li>
                    </ul>
                </div>
            </div>
            <!-- <div class="bullet-nav d-flex align-items-center">
                <a (click)="step=1" class="active">
                    <span></span>
                </a>
                <a (click)="step=2" class="active">
                    <span></span>
                </a>
                <a (click)="step=3" class="active">
                    <span></span>
                </a>
                <a (click)="step=4">
                    <span></span>
                </a>
            </div> -->

        </div>
        <div class="mb-24">
            <h2 class="mb-12">{{lang.c2.step3.h1}}</h2>
            <div class="text-Gray font-16">{{lang.c2.step3.st1}} </div>
        </div>
        <div class="border-bottom-whisper mb-32"></div>
        <div class="row mb-8">
            <div class="col-sm-6">
                <div class="form-group">
                    <label>{{lang.c2.step3.l1}}</label>
                    <div class="date-control-group">
                        <input type="text" [placeholder]=lang.c2.step3.placeholder [disabled]="disableInputs"
                            [(ngModel)]="taxPayerDetails.Decnm" maxlength="120" (keypress)="SpaceValidator($event)">
                    </div>
                    <div class="text-danger" *ngIf = "!taxPayerDetails.Decnm">
                        {{lang.c2.step3.error}}

                    </div>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="form-group">
                    <label>{{lang.c2.step3.l2}}</label>
                    <div class="date-control-group">
                        <input type="text"  class="input165 h-100 custom-disable"
                            [value]="today | date : 'dd/MM/yyyy' " disabled>
                    </div>
                </div>
            </div>
        </div>
        <div class="card p-24 mb-56">
            <div class="d-flex">
                <img src="assets/images/icon-info.svg" class="mr-15" alt="">
                <span class="font-12 text-Gray">
                    {{lang.c2.step3.p1}}
                </span>
            </div>
        </div>
        <div class="mb-24" *ngIf='taxPayerDetails.Decnm != "" && disableInputs == false '>
            <!-- <button class="btn btn-primary mr-3" (click)="SaveAsDraftET()">{{lang.c2.step2.btn1}}</button> -->
            <button class="btn btn-primary" (click)="step=4" [disabled]="disableInputs">{{lang.c2.step1.btn2}}</button>
        </div>

    </div>
    <!--------- Step 4 Ends Here ----->
    <!---------- Step 5 Starts Here ---->
    <div class="container" *ngIf="step==4">
        <div class="mb-24">
            <a [routerLink]="['/mains/returns/search']" class="text-Gray"> {{lang.c2.step1.p1}} > </a>
            {{lang.c2.step1.p2}}
        </div>
        <div class="mb-32 d-flex justify-content-between align-items-center">

            <a (click)="step=3" class="text-Watercourse d-flex font-weight-bold align-items-center">
                <img src="assets/images/arrow-left-green.svg" class="mr-10 img-reverse" alt=""> {{lang.c2.step1.p3}}
                <!-- <img src="assets/images/arrow-left-right.svg" *ngIf="language == 'ar'"class="mr-10 rightArrow" alt=""> -->
            </a>
            <div class="d-flex justify-content-between mb-24 align-items-center pt-2">
                <div class="vat-steps">
                    <ul class="p-0 m-0 list-style-none d-flex position-relative" *ngIf="!disableInputs">
                        <li><a (click)="step=1" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a></li>
                        <li><a (click)="step=2" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a></li>
                        <li><a class="active"
                            [ngClass]="{'pointer-none':taxPayerDetails.Etpay < 0 || disableButtons || !taxPayerDetails.Decnm}"
                            (click)="step=6"><img src="assets/images/icon-wcheck.svg" alt=""></a></li>
                        <li><a class="active" [ngClass]="{'pointer-none':taxPayerDetails.Etpay < 0 || disableButtons }"
                                (click)="step=3"><img src="assets/images/icon-wcheck.svg" alt=""></a></li>
                        <li><a class="active"
                                [ngClass]="{'pointer-none':taxPayerDetails.Etpay < 0 || disableButtons || !taxPayerDetails.Decnm}"
                                (click)="step=4"><img src="assets/images/icon-wcheck.svg" alt=""></a></li>
                    </ul>
                    <ul class="p-0 m-0 list-style-none d-flex position-relative" *ngIf="disableInputs">
                        <li><a (click)="step=1" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a></li>
                        <li><a [ngClass]="{'pointer-none':voidReturn}" (click)="step=2" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a></li>
                        <li><a [ngClass]="{'pointer-none':voidReturn}" (click)="step=6" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a></li>
                        <li><a [ngClass]="{'pointer-none':voidReturn}" (click)="step=3" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a></li>
                        <li><a [ngClass]="{'pointer-none':voidReturn}" (click)="step=4" class="active">4</a></li>
                    </ul>
                </div>
            </div>
            <!-- <div class="bullet-nav d-flex align-items-center">
                <a (click)="step=1" class="active">
                    <span></span>
                </a>
                <a (click)="step=2" class="active">
                    <span></span>
                </a>
                <a (click)="step=3" class="active">
                    <span></span>
                </a>
                <a (click)="step=4" class="active">
                    <span></span>
                </a>
                <a href="#" class="ml-10">
                    <img src="assets/images/icon-gcheck.svg" alt="">
                </a>


            </div> -->
        </div>
        <h2>{{lang.c2.step4.h1}}</h2>
        <div class="text-Gray font-16 mb-24">{{lang.c2.step4.st1}}</div>
        <div class="border-bottom-whisper mb-32"> </div>
        <div class="card mb-24 card-shadow-none">
            <div class="pxy-2412">
                <h3 class="d-flex align-items-center">
                    <span class="ellipse48 bg-Watercourse-opa1 mr-15"><img src="assets/images/icon-note.svg" class=""
                            alt=""></span> {{lang.c2.step1.h1}}
                </h3>
            </div>

            <div class="border-bottom-whisper"> </div>
            <div class="row p-24">
                <div class="col-sm-6">
                    <p class="font-16 text-Gray  mb-0">{{lang.c2.step1.i1}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxPayerDetails?.Name || '-'}}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.c2.step1.i2}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxPayerDetails?.Actnm || '-'}}
                    </div>
                </div>
            </div>
            <div class="border-bottom-whisper"> </div>
            <div class="row  p-24">
                <div class="col-sm-6">
                    <p class="font-16 text-Gray  mb-0">{{lang.c2.step1.i3}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxPayerDetails?.Gpartz || 0}}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.c2.step1.i4}}</p>
                    <!-- <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ AddressSet?.BuildingNo + " ," + AddressSet?.Street + " , " + AddressSet?.Quarter + " , " + AddressSet?.City + " , " + AddressSet?.PostalCd + " , " + AddressSet?.RegionDesc}}
                    </div>
                    <div class="text-Eerie-Black font-16 font-weight-500" *ngIf="AddressSet?.length==0">
                        -
                     </div> -->
                    <div class="text-Eerie-Black font-16 font-weight-500"
                        *ngIf="taxPayerDetails?.ER_ADDSet?.results?.length > 0">
                        <!-- {{ AddressSet?.BuildingNo + " , " + AddressSet?.Street + " , " + AddressSet?.Quarter + " , " + AddressSet?.City + " , " + AddressSet?.PostalCd + " , " + AddressSet?.RegionDesc}} -->
                        <span
                            *ngIf="taxPayerDetails?.ER_ADDSet?.results[0]?.BuildingNo">{{taxPayerDetails?.ER_ADDSet?.results[0]?.BuildingNo}}</span><span
                            *ngIf="taxPayerDetails?.ER_ADDSet?.results[0]?.BuildingNo!='' && taxPayerDetails?.ADRSet?.results[0]?.Street!=''">,</span>
                        <span
                            *ngIf="taxPayerDetails?.ER_ADDSet?.results[0]?.Street">{{taxPayerDetails?.ER_ADDSet?.results[0]?.Street}}</span><span
                            *ngIf="taxPayerDetails?.ER_ADDSet?.results[0]?.Street!='' && taxPayerDetails?.ER_ADDSet?.results[0]?.Quarter!=''">,</span>
                        <span
                            *ngIf="taxPayerDetails?.ER_ADDSet?.results[0]?.Quarter">{{taxPayerDetails?.ER_ADDSet?.results[0]?.Quarter}}</span><span
                            *ngIf="taxPayerDetails?.ER_ADDSet?.results[0]?.Quarter!='' && taxPayerDetails?.ER_ADDSet?.results[0]?.RegionDesc!=''">,</span>
                        <span
                            *ngIf="taxPayerDetails?.ER_ADDSet?.results[0]?.RegionDesc">{{taxPayerDetails?.ER_ADDSet?.results[0]?.RegionDesc}}</span><span
                            *ngIf="taxPayerDetails?.ER_ADDSet?.results[0]?.RegionDesc!='' && taxPayerDetails?.ER_ADDSet?.results[0]?.City!=''">,</span>
                        <span
                            *ngIf="taxPayerDetails?.ER_ADDSet?.results[0]?.City">{{taxPayerDetails?.ER_ADDSet?.results[0]?.City}}</span><span
                            *ngIf="taxPayerDetails?.ER_ADDSet?.results[0]?.City!='' && taxPayerDetails?.ER_ADDSet?.results[0]?.PostalCd!=''">,</span>
                        <span
                            *ngIf="taxPayerDetails?.ER_ADDSet?.results[0]?.PostalCd">{{taxPayerDetails?.ER_ADDSet?.results[0]?.PostalCd}}</span><span
                            *ngIf="taxPayerDetails?.ER_ADDSet?.results[0]?.City!='' && taxPayerDetails?.ER_ADDSet?.results[0]?.PostalCd!='' && taxPayerDetails?.ER_ADDSet?.results[0]?.RegionDesc!='' ">,</span>
                        <span
                            *ngIf="taxPayerDetails?.ER_ADDSet?.results[0]?.RegionDesc">{{taxPayerDetails?.ER_ADDSet?.results[0]?.RegionDesc}}</span>
                    </div>
                    <div class="text-Eerie-Black font-16 font-weight-500"
                        *ngIf="taxPayerDetails?.ER_ADDSet?.results?.length==0">
                        -
                    </div>
                </div>
            </div>
        </div>
        <div class="card mb-24 card-shadow-none">
            <div class="pxy-2412">
                <h3 class="d-flex align-items-center">
                    <span class="ellipse48 bg-Watercourse-opa1 mr-15"><img src="assets/images/icon-note.svg" class=""
                            alt=""></span> {{lang.c2.step1.h2}}
                </h3>
            </div>

            <div class="border-bottom-whisper"> </div>
            <div class="row p-24">
                <div class="col-sm-6">
                    <p class="font-16 text-Gray  mb-0">{{lang.c2.step1.i5}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxPayerDetails?.Incotext || '-' }}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.c2.step1.i6}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxPayerDetails?.Fbnumz || '-' }}
                    </div>
                </div>
            </div>
            <div class="border-bottom-whisper"></div>
            <div class="row p-24">
                <div class="col-sm-6">
                    <p class="font-16 text-Gray  mb-0">{{lang.c2.step1.i7}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxPayerDetails?.Perslt || '-' }}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray  mb-0">{{lang.c2.step1.i8}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxPayerDetails?.Extaxret || '-' }}
                    </div>
                </div>
            </div>

        </div>
        <div class="table mb-24 border-top-whisper" *ngFor="let warehouse of ItemsSetDuplicate;let i=index">
            <div class="p-24 d-flex align-items-center justify-content-between">
                <h3 class="d-flex align-items-center mb-0">
                    {{ warehouse.Whfnm || '-'}}
                </h3>
                <a id="catcust" data-toggle="collapse" href="#toggle3" role="button" aria-expanded="true"
                    aria-controls="toggle3">
                    <i class="fa fa-plus">
                    </i>
                </a>

            </div>
            <div class="multi-collapse collapse show" id="toggle3" style="">
                <table width="100%" class="table-bordered">
                    <thead>
                        <tr>
                            <th class="font-16 text-Eerie-Black font-weight-normal">
                                {{lang.c2.step4.th1}}
                            </th>
                            <th style="width: 200px" class="font-16 text-Eerie-Black font-weight-normal">
                                {{lang.c2.step2.th1}}
                            </th>
                            <th class="font-16 text-Eerie-Black font-weight-normal text-right">
                                {{lang.c2.step2.th2}}
                            </th>
                            <th class="font-16 text-Eerie-Black font-weight-normal text-right">
                                {{lang.c2.step2.th3}}
                            </th>
                            <th style="width: 200px" class="font-16 text-Eerie-Black font-weight-normal text-right">
                                {{lang.c2.step2.th4}}
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let product of warehouse.Items;let j=index">
                            <td class="font-16 font-weight-bold">
                                {{ product.Whfnm || '-' }}
                            </td>
                            <td class="font-16 font-weight-bold">
                                {{product.GoodsTxt || '-' }}
                            </td>
                            <td class="font-16 font-weight-bold text-right">
                                {{product.Rsptot || 0 | number : '1.2-2' }}
                            </td>
                            <td class="font-16 font-weight-bold text-right">
                                {{product.Ettax || 0 | number : '1.2-2' }}
                            </td>
                            <td class="font-16 font-weight-bold text-right">
                                {{product.Etded || 0 | number : '1.2-2' }}
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="bg-Watercourse-opa1 d-flex justify-content-between border-radius-14 mb-24">
            <table width="100%" class="table mb-0 table-layout-fixed">
                <tbody>
                    <tr>
                        <td width="20%" class="l-w-432">
                            <div class="text-Eerie-Black font-16">
                                {{lang.c2.step2.l2}}
                            </div>
                        </td>

                        <td class="lang-arabic-text-right text-right" width="20%">
                            <div class="font-20 font-weight-bold text-Eerie-Black">
                                {{GrandTotalOfRSPValue | number : '1.2-2'}}
                            </div>
                        </td>
                        <!-- <td class="font-20 font-weight-bold text-Eerie-Black" width="20%" >
                            <div class="font-20 font-weight-bold text-Eerie-Black">
                                {{ taxPayerDetails?.Ettax || 0 | number : '1.2-2'}}

                            </div>
                        </td> -->
                        <td class="l-w-240 text-right lang-arabic-text-right" width="21%">
                            <div class="font-20 font-weight-bold text-Eerie-Black">
                                {{ taxPayerDetails?.Ettax || 0 | number : '1.2-2'}}
                            </div>
                        </td>
                        <td class="l-w-200 text-right lang-arabic-text-right" width="20%">
                            <div class="font-20 font-weight-bold text-Eerie-Black">
                                {{ taxPayerDetails?.Etded || 0 | number : '1.2-2'}}
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="bg-Watercourse-opa1 d-flex justify-content-between p-24 border-radius-14 mb-24">
            <div class="text-Eerie-Black font-16">
                {{lang.c2.step2.l6}}
            </div>
            <div class="font-20 font-weight-bold text-Eerie-Black">
                <!-- {{taxPayerDetails?.Etnet || 0 | number : '1.2-2'}} SAR -->
                <div class="d-flex align-items-center la-text-reverse">
                    &nbsp;<span>{{taxPayerDetails?.Etnet || 0 | number : '1.2-2'}}</span>&nbsp;<span>{{lang.c2.step1.currency}}</span>&nbsp;
                </div>
            </div>
        </div>
        <div class="bg-Watercourse-opa1 d-flex justify-content-between p-24 border-radius-14 mb-24">
            <div class="text-Eerie-Black font-16">
                {{lang.c2.step2.l11}}
            </div>
            <div class="font-20 font-weight-bold text-Eerie-Black">
                <!-- {{taxPayerDetails?.Etadv || 0 | number : '1.2-2'}} SAR -->
                <div class="d-flex align-items-center la-text-reverse">
                    &nbsp;<span>{{taxPayerDetails?.Etadv || 0 | number : '1.2-2'}}</span>&nbsp;<span>{{lang.c2.step1.currency}}</span>&nbsp;
                </div>
            </div>
        </div>
        <div class="card mb-24 card-shadow-none">
            <div class="pxy-2412">
                <h3 class="d-flex align-items-center">
                    <span class="ellipse48 bg-Watercourse-opa1 mr-15"><img src="assets/images/icon-receipt.svg" class=""
                            alt=""></span> {{lang?.c2.step6.heading}}
                </h3>
            </div>
            <div class="border-bottom-whisper"> </div>
            <div class="row p-24">
                <div class="col-sm-12">
                    <div *ngFor="let obj of taxPayerDetails.ATTDETSet.results">
                        <div class="d-flex">
                            <p class="m-0 font-weight-500 font-16 text-center">
                                <span class="mr-3"><a href={{obj.DocUrl}}>{{obj.Filename}}</a></span>
                                <img *ngIf="obj.FileExtn.toString().toUpperCase()=='PDF'" src="assets/images/icon-pdf.svg" class="mb-10"> 
                                <img *ngIf="obj.FileExtn.toString().toUpperCase()=='XLSX'" src="assets/images/icon-excel.svg" class="mb-10">
                                <img *ngIf="obj.FileExtn.toString().toUpperCase()=='XLS'" src="assets/images/icon-excel.svg" class="mb-10">
                                <img *ngIf="obj.FileExtn.toString().toUpperCase()=='DOC'" src="assets/images/icon-doc.svg" class="mb-10">
                                <img *ngIf="obj.FileExtn.toString().toUpperCase()=='DOCX'" src="assets/images/icon-doc.svg" class="mb-10">
                                <img *ngIf="obj.FileExtn.toString().toUpperCase()=='JPG'" src="assets/images/icon-jpg.svg" class="mb-10">
                                <img *ngIf="obj.FileExtn.toString().toUpperCase()=='JPEG'" src="assets/images/icon-jpg.svg" class="mb-10">
                                <img *ngIf="obj.FileExtn.toString().toUpperCase()=='PNG'" src="assets/images/icon-png.svg" class="mb-10">  
                            </p>
                        </div>
                    </div>
                </div>
            </div>

        </div>
        <div class="card mb-40 card-shadow-none">
            <div class="pxy-2412">
                <div class="d-flex align-items-center justify-content-between">
                    <h3 class="d-flex align-items-center">
                        <span class="ellipse48 bg-Watercourse-opa1 mr-15"><img src="assets/images/icon-declaration.svg"
                                class="" alt=""></span> {{lang.c2.step3.h1}}
                    </h3>
                    <span class="text-Watercourse font-weight-bold" *ngIf = "!disableInputs" (click)="step=3">{{lang.c2.step4.l4}}</span>
                </div>
            </div>

            <div class="border-bottom-whisper"> </div>
            <div class="row p-24">
                <div class="col-sm-6">
                    <p class="font-16 text-Gray  mb-5">{{lang.c2.step3.l1}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500 height-36">
                        {{taxPayerDetails.Decnm}}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-5">{{lang.c2.step3.l2}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500 height-36">
                        {{ today | date : 'dd/MM/yyyy' }}
                    </div>
                </div>
            </div>

        </div>
        <div class="mb-56">
            <label class="custom-checkBox d-flex align-items-center h-32">
                <span class="ml-10 font-weight-500"> {{lang.c2.step4.l5}} <span class="text-Watercourse"><a
                            data-toggle="modal" class="text-Watercourse"
                            data-target="#termsandconditionsModal">{{lang.c2.step4.a1}}</a></span></span>
                <input type="checkbox" [checked]="taxPayerDetails.Decfg!=''?true:false"
                    [(ngModel)]="taxPayerDetails.Decfg" (change)="onChecked($event)" [disabled]="disableInputs">
                <span class="checkmark"></span>
            </label>
        </div>
        <div class="mb-24 pt-32" >
            <button class="btn btn-primary" *ngIf='taxPayerDetails.Etpay != "0" && taxPayerDetails.Decfg != "" && disableInputs == false ' (click)="step=5;SubmitET();">{{lang.c2.step4.btn1}}</button>
            <button class="btn btn-primary" *ngIf='taxPayerDetails.Etpay == "0" && taxPayerDetails.Decfg != "" && disableInputs == false'  (click)="openModal()">{{lang.c2.step4.btn1}}</button>
        </div>
        <div class="mb-24 text-center pt-32" *ngIf='taxPayerDetails.Decfg != "" && disableInputs == true '>
            <button class="btn btn-link" (click)="step=5">{{lang.c2.step5.heading}}</button>
        </div>


    </div>
    <!--------- Step 4 Ends Here ------>
    <!---- Terms & Conditions Popup -->
    <div class="modal modal-filter fade" id="termsandconditionsModal" tabindex="-1" role="dialog"
        aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="text-right modal-filter-head">

                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                    [ngClass]="{'arabic-btn':language == 'ar'}">
                        <span class="material-icons font-28">
                            clear
                        </span>
                    </button>
                </div>
                <div class="modal-body">

                    <h2 class="mb-24">{{lang.c2.tcModal.t1}}</h2>
                    <div>
                        <div class="font-12 text-Gray text-justify" style="line-height: 20px;">
                            1.{{lang.c2.tcModal.p1}}
                        </div>
                        <div class="font-12 text-Gray text-justify" style="line-height: 20px;">
                            2.{{lang.c2.tcModal.p2}}
                        </div>
                        <div class="font-12 text-Gray text-justify" style="line-height: 20px;">
                            3.{{lang.c2.tcModal.p3}}
                        </div>
                        <div class="font-12 text-Gray text-justify" style="line-height: 20px;">
                            4.{{lang.c2.tcModal.p4}}
                        </div>
                    </div>

                    <div class="form-group text-right pt-32" [ngClass]="{'arabic-btn':language == 'ar'}">
                        <button class="btn btn-primary" data-dismiss="modal">{{lang.c2.infomodal.btn1}}</button>

                    </div>
                </div>

            </div>
        </div>
    </div>
    <!------ Terms & Conditions popup  Ends Here -->
    <!------- Zero return modal ---->
    <div class="modal modal-filter fade" id="infoModal1" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true">
        <div class="modal-dialog d-flex align-items-center justify-content-center height100VH my-0 mx-auto"
            role="document">
            <div class="modal-content">
                <div class="text-right modal-filter-head">
                </div>
                <div class="modal-body">
                    <div class="font-16 text-Gray">
                        {{lang.c2.infoModal1.p}}
                    </div>
                </div>

            </div>
        </div>
    </div>
    <!-----Modal ends here ---->
    
    <!---------- Step 5 Starts Here ------>
    <div class="container" *ngIf="step==5">
        <div class="text-right">
            <a class="btn  btn-link mb-24 d-inline-block"
                [routerLink]="['/mains/returns/search']">{{lang.c2.step5.btn4}}</a>
        </div>

        <div class="text-center">
            <div class="text-center mb-40">
                <img src="assets/images/icon-success.svg" alt="">

            </div>
            <h2 class="mb-12">{{lang.c2.step5.h1}}</h2>
            <div class="text-Gray font-16 mb-24">{{lang.c2.step5.st1}}</div>
            <div class="pb-24">


                <div class="d-flex align-items-center justify-content-between mb-16 item-cardetails">
                    <span class="font-16 text-Gray  mb-0">
                        {{lang.c2.step5.l1}}
                    </span>
                    <span class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxPayerDetails?.Fbnumz || '-'}}
                    </span>
                </div>
                <div class="d-flex align-items-center justify-content-between mb-16 item-cardetails">
                    <span class="font-16 text-Gray  mb-0">
                        {{lang.c2.step5.l2}}
                    </span>
                    <span class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxPayerDetails?.Perslt}}
                    </span>
                </div>'
                <!-- <div *ngIf = 'taxPayerDetails?.Sopbel != ""'> -->
                <div class="d-flex align-items-center justify-content-between mb-16 item-cardetails">
                    <span class="font-16 text-Gray  mb-0">
                        {{lang.c2.step5.l3}}
                    </span>
                    <span class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxPayerDetails?.Sopbel || '-'}}
                    </span>
                </div>
                <div class="d-flex align-items-center justify-content-between mb-16 item-cardetails">
                    <span class="font-16 text-Gray  mb-0">
                        {{lang.c2.step5.l4}}
                    </span>
                    <span class="text-Eerie-Black font-16 font-weight-500">
                        <!-- {{ taxPayerDetails?.Etpay || 0 | number : '1.2-2'}} SAR -->
                        <div class="d-flex align-items-center la-text-reverse">
                            &nbsp;<span>{{ taxPayerDetails?.Etpay || 0 | number : '1.2-2'}}</span>&nbsp;<span>{{lang.c2.step1.currency}}</span>&nbsp;
                        </div>
                    </span>
                </div>
                <!-- </div> -->

            </div>
        </div>
        <div class="font-16 text-Gray text-center max-width465 mx-auto mb-56">
            <!-- <p class="mb-24">
                {{lang.c2.step5.p1}}
            </p> -->
            <p class="mb-24">
                {{lang.c2.step5.p2}} - {{ taxPayerDetails?.Telf2}}
            </p>
            <!-- <p class="m-0">
                {{lang.c2.step5.p3}}
            </p> -->
        </div>

        <div class="mb-24 text-center  d-flex flex-column justify-content-center align-items-center">

            <div
                *ngIf='taxPayerDetails?.Sopbel == "" || taxPayerDetails?.Sopbel == "Not Applicable" || taxPayerDetails?.Sopbel == "ZERO"'>
                <a class="btn  btn-link mb-24 d-inline-block" (click)="onRefresh()">{{lang.c2.step5.btn1}}</a>
            </div>
            <button class="btn btn-primary mb-24 d-inline-block"
                (click)="onDownloadAcknowledgement()">
                {{lang.c2.step5.btn2}}
                <iframe [src] ="Acknowledgementurl" width='0' height='0' scrolling='no' frameborder = "0">
                </iframe>
            </button>
            <div *ngIf='taxPayerDetails?.Sopbel != "" '>
                <button class="btn btn-link d-inline-block" (click)="onDownloadForm()"> 
                    {{lang.c2.step5.btn3}}
                    <iframe [src] ="Formurl" width='0' height='0' scrolling='no' frameborder = "0">
                    </iframe>
                </button>
            </div>
        </div>
    </div>
    <!----------- Step 5 Ends Here ------->
    <!------- Attachment Screen Starts Here ----->
    <div class="container" *ngIf="step==6">
        <div class="mb-24">
            <a [routerLink]="['/mains/returns/search']" class="text-Gray"> {{lang.c2.step1.p1}} > </a>
            {{lang.c2.step1.p2}}
        </div>
        <div class="mb-32 d-flex justify-content-between align-items-center">

            <a (click)="step=2" class="text-Watercourse d-flex font-weight-bold align-items-center">
                <img src="assets/images/arrow-left-green.svg" class="mr-10 img-reverse" alt=""> {{lang.c2.step1.p3}}
            </a>
            <div class="d-flex justify-content-between mb-24 align-items-center pt-2">
                <div class="vat-steps">
                    <ul class="p-0 m-0 list-style-none d-flex position-relative" *ngIf="!disableInputs">
                        <li><a (click)="step=1" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a></li>
                        <li><a (click)="step=2" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a></li>
                        <li><a class="active" [ngClass]="{'pointer-none':taxPayerDetails.Etpay < 0 || disableButtons }"
                            (click)="step=6">3</a></li>
                        <li><a [ngClass]="{'pointer-none':taxPayerDetails.Etpay < 0 || disableButtons }"
                                (click)="step=3">4</a></li>
                        <li><a [ngClass]="{'pointer-none':taxPayerDetails.Etpay < 0 || disableButtons || !taxPayerDetails.Decnm}"
                                (click)="step=4">5</a></li>
                    </ul>
                    <ul class="p-0 m-0 list-style-none d-flex position-relative" *ngIf="disableInputs">
                        <li><a (click)="step=1" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a></li>
                        <li><a [ngClass]="{'pointer-none':voidReturn}" (click)="step=2" class="active"><img src="assets/images/icon-wcheck.svg" alt=""></a></li>
                        <li><a [ngClass]="{'pointer-none':voidReturn}" (click)="step=6" class="active">3</a></li>
                        <li><a [ngClass]="{'pointer-none':voidReturn}" (click)="step=3">4</a></li>
                        <li><a [ngClass]="{'pointer-none':voidReturn}" (click)="step=4">5</a></li>
                    </ul>
                </div>
            </div>

        </div>
        <h2>{{lang.c2.step6.heading}}</h2>
        <div class="border-bottom-whisper  mb-32"></div>
        <!-- <p class="mb-16 font-16">{{lang?.vatDetails.step12.st1}} </p> -->
        <div class="row custom-row">
            <div class="col-sm-6" *ngFor="let obj of taxPayerDetails.ATTDETSet.results">
                <div class="cardh180 card mb-40 p-24 border-gray">
                    <div class="d-flex justify-content-end" *ngIf="!disableInputs">
                        <img src="assets/images/icon-delete.svg" (click)="DeleteAttachement(obj)"></div>
                    <div class="d-flex justify-content-center align-items-center h-100">
                        <p class="m-0 font-weight-500 font-16 text-center">
                            <img *ngIf="obj.FileExtn.toString().toUpperCase()=='PDF'" src="assets/images/icon-pdf.svg" class="mb-10"> 
                            <img *ngIf="obj.FileExtn.toString().toUpperCase()=='XLSX'" src="assets/images/icon-excel.svg" class="mb-10">
                            <img *ngIf="obj.FileExtn.toString().toUpperCase()=='XLS'" src="assets/images/icon-excel.svg" class="mb-10">
                            <img *ngIf="obj.FileExtn.toString().toUpperCase()=='DOC'" src="assets/images/icon-doc.svg" class="mb-10">
                            <img *ngIf="obj.FileExtn.toString().toUpperCase()=='DOCX'" src="assets/images/icon-doc.svg" class="mb-10">
                            <img *ngIf="obj.FileExtn.toString().toUpperCase()=='JPG'" src="assets/images/icon-jpg.svg" class="mb-10">
                            <img *ngIf="obj.FileExtn.toString().toUpperCase()=='JPEG'" src="assets/images/icon-jpg.svg" class="mb-10">
                            <img *ngIf="obj.FileExtn.toString().toUpperCase()=='PNG'" src="assets/images/icon-png.svg" class="mb-10">  
                            <br />
                            <a href={{obj.DocUrl}}>{{obj.Filename}}</a>
                        </p>

                    </div>
                </div>
            </div>
            <div class="col-sm-6" *ngIf="!disableInputs">
                <div *ngIf = "taxPayerDetails.ATTDETSet.results.length < 5">
                    <div 
                    class="cardh180 card mb-40 p-24 width100P d-flex justify-content-center align-items-center border-gray-dashed">

                    <input type="file"
                        class="custom-upload-file opacity-0 cardh219 d-flex align-items-center justify-content-center w-100"
                        #inputFile (change)="FileUpload($event)">
                    <div
                        class="m-0 font-weight-500 font-16 text-center  upload-text-items  position-absolute text-center">
                        <img src="assets/images/icon-plus.svg" class="mb-10 withheight24"> <br />
                        <p class="text-Watercourse mb-24 font-weight-bold"> {{lang.c2.step6.btn}}</p>
                        <!-- <p class="font-12 font-weight-normal text-Gray">10MB{{lang.form9Details.step3.p3}}</p> -->
                    </div>

                </div>
                </div>
                
            </div>
            <!-- <div class="col-sm-6" *ngIf="disableInputs == false ">
                <div class="cardh180 card mb-40 p-24 width100P d-flex justify-content-center align-items-center border-gray-dashed">
                    <input type="file" multiple class="custom-upload-file opacity-0 cardh219 d-flex align-items-center justify-content-center w-100"  
                    #inputFile (change)="FileUpload($event)">
                    <div class="m-0 font-weight-500 font-16 text-center  upload-text-items  position-absolute text-center">
                        <img src="assets/images/icon-plus.svg" class="mb-10 withheight24"> <br />
                        <p class="text-Watercourse mb-24 font-weight-bold"> {{lang.c2.step6.btn}}</p>
                    </div>
                </div>
            </div> -->
        </div>
        <div class="row" *ngIf="!disableInputs">
            <div class="col-sm-12">
                <div class="card p-24 mb-56">
                    <div class="d-flex">
                        <img src="assets/images/icon-info.svg" class="mr-15" alt="">
                        <span class="font-12 text-Gray">
                            {{lang.c2.step6.p1}}
                        </span>
                    </div>
                </div>
            </div>
        </div>

        <div class="mb-24" *ngIf="disableInputs == false">
            <button class="btn btn-link mr-3" [disabled]="disableInputs" (click)="step=3">{{lang.c2.step6.btn1}}</button>
            <button class="btn btn-primary" (click)="step=3;">{{lang.c2.step6.btn2}}</button>
        </div>

    </div>
    <!------Attachment Screen ends ------>
    <!------ Submit Returns Display Screen  ------>
    <div class="container" *ngIf="step==7">
        <div class="mb-24">
            <a [routerLink]="['/mains/returns/search']" class="text-Gray"> {{lang.c2.step1.p1}} > </a>
            {{lang.c2.step1.p2}}
        </div>
        <div class="mb-32 d-flex justify-content-between align-items-center">

            <a [routerLink]="['/mains/returns/search']" class="text-Watercourse d-flex font-weight-bold align-items-center">
                <img src="assets/images/arrow-left-green.svg" class="mr-10 img-reverse" alt=""> {{lang.c2.step1.p3}}
                <!-- <img src="assets/images/arrow-left-right.svg" *ngIf="language == 'ar'"class="mr-10 rightArrow" alt=""> -->
            </a>
        </div>
        <div class="mb-32 d-flex justify-content-between align-items-center">
            <h2>{{lang.c2.step1.p2}}</h2>
            <span class="status" [ngClass]="{'status-submitted':(RetrunObjStatus=='E0045' || RetrunObjStatus=='E0055' || RetrunObjStatus=='E0006')}">
                {{ReturnObjStatusTxt}}
            </span>
        </div>
        
        <div class="card mb-24 card-shadow-none">
            <div class="pxy-2412">
                <h3 class="d-flex align-items-center">
                    <span class="ellipse48 bg-Watercourse-opa1 mr-15"><img src="assets/images/icon-note.svg" class=""
                            alt=""></span> {{lang.c2.step1.h1}}
                </h3>
            </div>

            <div class="border-bottom-whisper"> </div>
            <div class="row p-24">
                <div class="col-sm-6">
                    <p class="font-16 text-Gray  mb-0">{{lang.c2.step1.i1}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxPayerDetails?.Name || '-'}}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.c2.step1.i2}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxPayerDetails?.Actnm || '-'}}
                    </div>
                </div>
            </div>
            <div class="border-bottom-whisper"> </div>
            <div class="row  p-24">
                <div class="col-sm-6">
                    <p class="font-16 text-Gray  mb-0">{{lang.c2.step1.i3}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxPayerDetails?.Gpartz || 0}}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.c2.step1.i4}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500"
                        *ngIf="taxPayerDetails?.ER_ADDSet?.results?.length > 0">
                        <span
                            *ngIf="taxPayerDetails?.ER_ADDSet?.results[0]?.BuildingNo">{{taxPayerDetails?.ER_ADDSet?.results[0]?.BuildingNo}}</span><span
                            *ngIf="taxPayerDetails?.ER_ADDSet?.results[0]?.BuildingNo!='' && taxPayerDetails?.ADRSet?.results[0]?.Street!=''">,</span>
                        <span
                            *ngIf="taxPayerDetails?.ER_ADDSet?.results[0]?.Street">{{taxPayerDetails?.ER_ADDSet?.results[0]?.Street}}</span><span
                            *ngIf="taxPayerDetails?.ER_ADDSet?.results[0]?.Street!='' && taxPayerDetails?.ER_ADDSet?.results[0]?.Quarter!=''">,</span>
                        <span
                            *ngIf="taxPayerDetails?.ER_ADDSet?.results[0]?.Quarter">{{taxPayerDetails?.ER_ADDSet?.results[0]?.Quarter}}</span><span
                            *ngIf="taxPayerDetails?.ER_ADDSet?.results[0]?.Quarter!='' && taxPayerDetails?.ER_ADDSet?.results[0]?.RegionDesc!=''">,</span>
                        <span
                            *ngIf="taxPayerDetails?.ER_ADDSet?.results[0]?.RegionDesc">{{taxPayerDetails?.ER_ADDSet?.results[0]?.RegionDesc}}</span><span
                            *ngIf="taxPayerDetails?.ER_ADDSet?.results[0]?.RegionDesc!='' && taxPayerDetails?.ER_ADDSet?.results[0]?.City!=''">,</span>
                        <span
                            *ngIf="taxPayerDetails?.ER_ADDSet?.results[0]?.City">{{taxPayerDetails?.ER_ADDSet?.results[0]?.City}}</span><span
                            *ngIf="taxPayerDetails?.ER_ADDSet?.results[0]?.City!='' && taxPayerDetails?.ER_ADDSet?.results[0]?.PostalCd!=''">,</span>
                        <span
                            *ngIf="taxPayerDetails?.ER_ADDSet?.results[0]?.PostalCd">{{taxPayerDetails?.ER_ADDSet?.results[0]?.PostalCd}}</span><span
                            *ngIf="taxPayerDetails?.ER_ADDSet?.results[0]?.City!='' && taxPayerDetails?.ER_ADDSet?.results[0]?.PostalCd!='' && taxPayerDetails?.ER_ADDSet?.results[0]?.RegionDesc!='' ">,</span>
                        <span
                            *ngIf="taxPayerDetails?.ER_ADDSet?.results[0]?.RegionDesc">{{taxPayerDetails?.ER_ADDSet?.results[0]?.RegionDesc}}</span>
                    </div>
                    <div class="text-Eerie-Black font-16 font-weight-500"
                        *ngIf="taxPayerDetails?.ER_ADDSet?.results?.length==0">
                        -
                    </div>
                </div>
            </div>
        </div>
        <div class="card mb-24 card-shadow-none">
            <div class="pxy-2412">
                <h3 class="d-flex align-items-center">
                    <span class="ellipse48 bg-Watercourse-opa1 mr-15"><img src="assets/images/icon-note.svg" class=""
                            alt=""></span> {{lang.c2.step1.h2}}
                </h3>
            </div>

            <div class="border-bottom-whisper"> </div>
            <div class="row p-24">
                <div class="col-sm-6">
                    <p class="font-16 text-Gray  mb-0">{{lang.c2.step1.i5}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxPayerDetails?.Incotext || '-' }}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-0">{{lang.c2.step1.i6}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxPayerDetails?.Fbnumz || '-' }}
                    </div>
                </div>
            </div>
            <div class="border-bottom-whisper"></div>
            <div class="row p-24">
                <div class="col-sm-6">
                    <p class="font-16 text-Gray  mb-0">{{lang.c2.step1.i7}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxPayerDetails?.Perslt || '-' }}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray  mb-0">{{lang.c2.step1.i8}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500">
                        {{ taxPayerDetails?.Extaxret || '-' }}
                    </div>
                </div>
            </div>

        </div>
        <div class="table mb-24 border-top-whisper" *ngFor="let warehouse of ItemsSetDuplicate;let i=index">
            <div class="p-24 d-flex align-items-center justify-content-between">
                <h3 class="d-flex align-items-center mb-0">
                    {{ warehouse.Whfnm || '-'}}
                </h3>
                <a id="catcust" data-toggle="collapse" href="#toggle3" role="button" aria-expanded="true"
                    aria-controls="toggle3">
                    <i class="fa fa-plus">
                    </i>
                </a>

            </div>
            <div class="multi-collapse collapse show" id="toggle3" style="">
                <table width="100%" class="table-bordered">
                    <thead>
                        <tr>
                            <th class="font-16 text-Eerie-Black font-weight-normal">
                                {{lang.c2.step4.th1}}
                            </th>
                            <th style="width: 200px" class="font-16 text-Eerie-Black font-weight-normal">
                                {{lang.c2.step2.th1}}
                            </th>
                            <th class="font-16 text-Eerie-Black font-weight-normal text-right">
                                {{lang.c2.step2.th2}}
                            </th>
                            <th class="font-16 text-Eerie-Black font-weight-normal text-right">
                                {{lang.c2.step2.th3}}
                            </th>
                            <th style="width: 200px" class="font-16 text-Eerie-Black font-weight-normal text-right">
                                {{lang.c2.step2.th4}}
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let product of warehouse.Items;let j=index">
                            <td class="font-16 font-weight-bold">
                                {{ product.Whfnm || '-' }}
                            </td>
                            <td class="font-16 font-weight-bold">
                                {{product.GoodsTxt || '-' }}
                            </td>
                            <td class="font-16 font-weight-bold text-right">
                                {{product.Rsptot || 0 | number : '1.2-2' }}
                            </td>
                            <td class="font-16 font-weight-bold text-right">
                                {{product.Ettax || 0 | number : '1.2-2' }}
                            </td>
                            <td class="font-16 font-weight-bold text-right">
                                {{product.Etded || 0 | number : '1.2-2' }}
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="bg-Watercourse-opa1 d-flex justify-content-between border-radius-14 mb-24">
            <table width="100%" class="table mb-0 table-layout-fixed">
                <tbody>
                    <tr>
                        <td width="20%" class="l-w-432">
                            <div class="text-Eerie-Black font-16">
                                {{lang.c2.step2.l2}}
                            </div>
                        </td>

                        <td class="lang-arabic-text-right text-right" width="20%">
                            <div class="font-20 font-weight-bold text-Eerie-Black">
                                {{GrandTotalOfRSPValue | number : '1.2-2'}}
                            </div>
                        </td>
                        <td class="l-w-240 text-right lang-arabic-text-right" width="21%">
                            <div class="font-20 font-weight-bold text-Eerie-Black">
                                {{ taxPayerDetails?.Ettax || 0 | number : '1.2-2'}}
                            </div>
                        </td>
                        <td class="l-w-200 text-right lang-arabic-text-right" width="20%">
                            <div class="font-20 font-weight-bold text-Eerie-Black">
                                {{ taxPayerDetails?.Etded || 0 | number : '1.2-2'}}
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="bg-Watercourse-opa1 d-flex justify-content-between p-24 border-radius-14 mb-24">
            <div class="text-Eerie-Black font-16">
                {{lang.c2.step2.l6}}
            </div>
            <div class="font-20 font-weight-bold text-Eerie-Black">
                <div class="d-flex align-items-center la-text-reverse">
                    &nbsp;<span>{{taxPayerDetails?.Etnet || 0 | number : '1.2-2'}}</span>&nbsp;<span>{{lang.c2.step1.currency}}</span>&nbsp;
                </div>
            </div>
        </div>
        <div class="bg-Watercourse-opa1 d-flex justify-content-between p-24 border-radius-14 mb-24">
            <div class="text-Eerie-Black font-16">
                {{lang.c2.step2.l11}}
            </div>
            <div class="font-20 font-weight-bold text-Eerie-Black">
                <div class="d-flex align-items-center la-text-reverse">
                    &nbsp;<span>{{taxPayerDetails?.Etadv || 0 | number : '1.2-2'}}</span>&nbsp;<span>{{lang.c2.step1.currency}}</span>&nbsp;
                </div>
            </div>
        </div>
        <div class="card mb-24 card-shadow-none">
            <div class="pxy-2412">
                <h3 class="d-flex align-items-center">
                    <span class="ellipse48 bg-Watercourse-opa1 mr-15"><img src="assets/images/icon-receipt.svg" class=""
                            alt=""></span> {{lang?.c2.step6.heading}}
                </h3>
            </div>
            <div class="border-bottom-whisper"> </div>
            <div class="row p-24">
                <div class="col-sm-12">
                    <div *ngFor="let obj of taxPayerDetails.ATTDETSet.results">
                        <div class="d-flex">
                            <p class="m-0 font-weight-500 font-16 text-center">
                                <span class="mr-3"><a href={{obj.DocUrl}}>{{obj.Filename}}</a></span>
                                <img *ngIf="obj.FileExtn.toString().toUpperCase()=='PDF'" src="assets/images/icon-pdf.svg" class="mb-10"> 
                                <img *ngIf="obj.FileExtn.toString().toUpperCase()=='XLSX'" src="assets/images/icon-excel.svg" class="mb-10">
                                <img *ngIf="obj.FileExtn.toString().toUpperCase()=='XLS'" src="assets/images/icon-excel.svg" class="mb-10">
                                <img *ngIf="obj.FileExtn.toString().toUpperCase()=='DOC'" src="assets/images/icon-doc.svg" class="mb-10">
                                <img *ngIf="obj.FileExtn.toString().toUpperCase()=='DOCX'" src="assets/images/icon-doc.svg" class="mb-10">
                                <img *ngIf="obj.FileExtn.toString().toUpperCase()=='JPG'" src="assets/images/icon-jpg.svg" class="mb-10">
                                <img *ngIf="obj.FileExtn.toString().toUpperCase()=='JPEG'" src="assets/images/icon-jpg.svg" class="mb-10">
                                <img *ngIf="obj.FileExtn.toString().toUpperCase()=='PNG'" src="assets/images/icon-png.svg" class="mb-10">  
                            </p>
                        </div>
                    </div>
                </div>
            </div>

        </div>
        <div class="card mb-40 card-shadow-none">
            <div class="pxy-2412">
                <div class="d-flex align-items-center justify-content-between">
                    <h3 class="d-flex align-items-center">
                        <span class="ellipse48 bg-Watercourse-opa1 mr-15"><img src="assets/images/icon-declaration.svg"
                                class="" alt=""></span> {{lang.c2.step3.h1}}
                    </h3>
                    <span class="text-Watercourse font-weight-bold" *ngIf = "!disableInputs" (click)="step=3">{{lang.c2.step4.l4}}</span>
                </div>
            </div>

            <div class="border-bottom-whisper"> </div>
            <div class="row p-24">
                <div class="col-sm-6">
                    <p class="font-16 text-Gray  mb-5">{{lang.c2.step3.l1}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500 height-36">
                        {{taxPayerDetails?.Decnm}}
                    </div>
                </div>
                <div class="col-sm-6">
                    <p class="font-16 text-Gray mb-5">{{lang.c2.step3.l2}}</p>
                    <div class="text-Eerie-Black font-16 font-weight-500 height-36">
                        {{ today | date : 'dd/MM/yyyy' }}
                    </div>
                </div>
            </div>

        </div>
        <div class="mb-24 pt-32" *ngIf='disableInputs == true '>
            <button class="btn btn-link mr-24" (click)="Amendment()">{{lang.c2.step4.btn2}}</button>
            <button class="btn btn-primary" (click)="step=5;onRefresh()">{{lang.c2.step5.heading}}</button>
        </div>
    </div>
    <!--- Display Screen Ends Here ------>
    <!---- Suceess Modal for Save as Draft ----->
    <div class="modal modal-filter fade" dir={{direction}} [ngClass]="{'lang-arabic':direction=='rtl'}" id="SuccessModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog d-flex align-items-center height100VH my-0 mx-auto justify-content-center" role="document">
            <div class="modal-content">
                <div class="text-right modal-filter-head">
    
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" [ngClass]="{'arabic-btn':language == 'ar'}">
                        <span class="material-icons font-28">
                            clear
                        </span>
                    </button>
                </div>
                <div class="modal-body">
    
                    <div class="card-inner mb-16">
                        <div class="font-12 text-Gray">
                            {{lang?.c2.SuccessModal.p1}}
                        </div>
                    </div>
                    <div class="form-group text-right ar-text-left pt-32" [ngClass]="{'arabic-btn':language == 'ar'}">
                        <button class="btn btn-primary mr-3" data-dismiss="modal">{{lang.c2.SuccessModal.btn1}}</button>
                    </div>
                </div>
    
            </div>
        </div>
    </div>
    <!--- Void Modal Popup----->
<div class="modal modal-filter fade" dir={{direction}} [ngClass]="{'lang-arabic':direction=='rtl'}" id="VoidModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog d-flex align-items-center height100VH my-0 mx-auto justify-content-center" role="document">
        <div class="modal-content">
            <div class="text-right modal-filter-head">

                <button type="button" class="close" data-dismiss="modal" aria-label="Close" [ngClass]="{'arabic-btn':language == 'ar'}">
                    <span class="material-icons font-28">
                        clear
                    </span>
                </button>
            </div>
            <div class="modal-body">

                <div class="card-inner mb-16">
                    <div class="font-12 text-Gray">
                        {{lang.c2.voidModal.p1}}
                    </div>
                </div>
                <div class="form-group text-right ar-text-left pt-32" [ngClass]="{'arabic-btn':language == 'ar'}">
                    <button class="btn btn-primary mr-3" (click)="CancelReturn()">{{lang.c2.voidModal.btn1}}</button>
                    <button class="btn btn-primary" data-dismiss="modal">{{lang.c2.voidModal.btn2}}</button>
                </div>
            </div>

        </div>
    </div>
</div>
<!---- Void Modal popup ends ---->
<!--- Void Success Modal-->
<div class="modal modal-filter fade" id="voidSuccessModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true">
        <div class="modal-dialog d-flex align-items-center justify-content-center height100VH my-0 mx-auto"
            role="document">
            <div class="modal-content">
                <div class="text-right modal-filter-head">
                </div>
                <div class="modal-body">
                    <div class="font-16 text-Gray">
                        {{lang.c2.voidModal.p2}}
                    </div>
                </div>

            </div>
        </div>
    </div>
<!--- Void Suceess Modal ends-->
<!--- Attachment Error model ---->
<div class="modal modal-filter fade" dir={{direction}} [ngClass]="{'lang-arabic':direction=='rtl'}" tabindex="-1"
role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" id="AttachmentModal">
<div class="modal-dialog d-flex align-items-center height100VH my-0 mx-auto justify-content-center" role="document">
    <div class="modal-content">
        <div class="text-right modal-filter-head">

            <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                [ngClass]="{'arabic-btn':language == 'ar'}">
                <span class="material-icons font-28">
                    clear
                </span>
            </button>
        </div>

        <div class="modal-body">
            <div class="card-inner mb-16">
                <div class="font-12 text-Gray">
                    {{errorMessage}}
                </div>
            </div>
            <div class="form-group text-right" [ngClass]="{'arabic-btn':language == 'ar'}">
                <button class="btn btn-primary" data-dismiss="modal">{{lang.c2.voidModal.btn2}}</button>
            </div>
        </div>
    </div>
</div>
</div>

</div>
<!------- Excise Forms End --------->

<notifier-container dir={{direction}} [ngClass]="{'lang-arabic':direction=='rtl'}">

</notifier-container>