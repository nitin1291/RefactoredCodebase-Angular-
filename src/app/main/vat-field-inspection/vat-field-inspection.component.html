<div class="container alignStart" *ngIf="field" [dir]="dir">
  <div class="row" style="text-align: start; margin-bottom: 3%">
    <div class="col-md-12" style="margin-inline-start: 1.8%; margin-top: 3%">
      <span class="fieldTitle1">
        <span
          (click)="backTo('')"
          [style.margin-inline-start]="dir === 'rtl' ? '0px' : '-2px'"
          >{{ lang.t4 }}</span
        >
        <mat-icon
          class="backIcon1"
          style="
            top: 0px;
            font-size: 16px;
            font-weight: normal;
            margin-inline-start: 4px;
            width: 14px;
          "
          >{{ lang.t7 }}</mat-icon
        >
        <span
          (click)="backTo('001')"
          [style.margin-inline-start]="dir === 'rtl' ? '0px' : '-2px'"
          >{{ lang.t5 }}</span
        >
        <mat-icon
          class="backIcon1"
          style="
            top: 0px;
            font-size: 16px;
            font-weight: normal;
            margin-inline-start: 4px;
            width: 14px;
          "
          >{{ lang.t7 }}</mat-icon
        >
      </span>
      <span
        class="fieldTitle1"
        [style.margin-inline-start]="dir === 'rtl' ? '0px' : '-2px'"
        style="color: #151515"
        >{{ lang.t1 }}</span
      >
    </div>
  </div>

  <span class="stepBack col-md-6" [dir]="dir" style="text-align: start" (click) = "backTo('001')">
    <img
      src="assets/image/arrow-right-green.svg"
      *ngIf="dir === 'rtl'"
      class="arrow-left"
    />
    <img
      src="assets/image/arrow-left.svg"
      *ngIf="dir === 'ltr'"
      class="arrow-left"
    />
    <span class="backBtn">{{ lang.t2 }}</span>
    <br />
  </span>

  <div
    class="col-md-12 row mt-1 justify-content-between align-items-center mainHeader"
  >
    <div class="FieldsTitle" style="margin-inline-start: 2%">
      {{ lang.t1 }}
    </div>
    <div>
      <span [ngClass]="!viewFieldInspection ? 'tileActive' : ''">
        <img [src]="img2" (click)="changeView('grid')" class="tileIcon" />
      </span>
      <span [ngClass]="viewFieldInspection ? 'tileActive' : ''" class="mis-10">
        <img [src]="img1" (click)="changeView('list')" class="tileIcon" />
      </span>
    </div>
  </div>

  <div
    class="Rectangle-12New my-3"
    style="width: 81.5%; margin-inline-start: 2%"
  ></div>

  <div class="col-md-10" style="display: grid; grid-template-columns: 96% 6%">
    <div class="form-inline" id="fieldsearch" style="display: contents">
      <span
        class="form-group"
        style="
          margin-top: 2%;
          margin-bottom: 1%;
          margin-left: 10px;
          width: 112.5%;
        "
      >
        <input
          type="search"
          class="form-control form-control-lg"
          [(ngModel)]="searchText"
          placeholder="{{ search }}"
          style="
            height: 48px;
            border-radius: 14px;
            width: 93.5%;
          "
          [style.margin-right]="dir === 'rtl' ? '8px' : ''"
        />
        <span
          [ngClass]="dir === 'rtl' ? 'imgSearchAr' : 'imgSearchEn'"
          *ngIf="searchText?.length === 0"
        >
          <img src="assets/images/search.png" width="24px" />
        </span>
      </span>
    </div>
    <!-- <span style="display: flex; justify-content: flex-end; margin-top: 55%;">
                <img src="assets/images/download.svg" class="Download" (click)="fieldDownload()">
            </span> -->
  </div>
  <div style="display: grid; width: 80.5%">
    <div
      class="row mt-3 mb-2"
      *ngIf="!viewFieldInspection"
      style="text-align: start"
    >
      <div class="col-md-6" *ngFor="let item of vatData | filter: searchText">
        <mat-card class="matborder" (click)="fieldDetails(item)">
          <div class="row mt-2 mb-2">
            <div class="col-md-8">
              <span class="cardTxt1Css">{{ lang.t1 }}</span>
              <div class="cardTxt2Css">
                {{ item.Fbnum }}
              </div>
            </div>
          </div>
          <mat-divider></mat-divider>
          <div class="row mt-4 mb-2">
            <div class="col-md-6">
              <span class="cardTxt2Css">{{ lang.c1.t1 }}</span>
              <div class="cardTxt3Css">
                {{ item.Fbnum }}
              </div>
            </div>
            <div class="col-md-6">
              <span class="cardTxt2Css">{{ lang.c1.t2 }}</span>
              <div class="cardTxt3Css">
                {{ item.ComplaintNo }}
              </div>
            </div>
            <div class="col-md-6">
              <span class="cardTxt2Css">{{ lang.c1.t3 }}</span>
              <div class="cardTxt3Css">
                {{ item.constructorCompDate }}
              </div>
            </div>
            <div class="col-md-6">
              <span class="cardTxt2Css">{{ lang.c1.t4 }}</span>
              <div class="cardTxt3Css">
                {{ item.constructorDate }}
              </div>
            </div>
          </div>
        </mat-card>
      </div>
    </div>
  </div>

  <div class="row mt-3 ml-1 mr-1 mb-2" *ngIf="viewFieldInspection">
    <table style="width: 82%; margin-inline-start: 1.8%">
      <tr class="tabHeader">
        <ng-container *ngIf="dir !== 'rtl'">
          <th colspan="3 ">{{ lang.c1.t1 }}</th>
        </ng-container>
        <ng-container *ngIf="dir === 'rtl'">
          <th
            colspan="3 "
            [style.border-right]="dir === 'rtl' ? '1px solid #bbb' : ''"
            [style.border-top-left-radius]="dir === 'rtl' ? '0px' : '16px'"
            [style.border-top-right-radius]="dir === 'rtl' ? '16px' : '0px'"
          >
            {{ lang.c1.t1 }}
          </th>
        </ng-container>
        <th colspan="3 ">{{ lang.c1.t2 }}</th>
        <th colspan="3 ">{{ lang.c1.t3 }}</th>
        <ng-container *ngIf="dir !== 'rtl'">
          <th colspan="3 ">{{ lang.c1.t4 }}</th>
        </ng-container>
        <ng-container *ngIf="dir === 'rtl'">
          <th
            colspan="3 "
            [style.border-top-right-radius]="dir === 'rtl' ? '0px' : '16px'"
            [style.border-top-left-radius]="dir === 'rtl' ? '16px' : '0px'"
          >
            {{ lang.c1.t4 }}
          </th>
        </ng-container>
      </tr>
      <tr
        class="tabheader2"
        *ngFor="let item of vatData | filter: searchText; let itemIndex = index"
        (click)="fieldDetails(item)"
      >
        <ng-container *ngIf="dir === 'rtl'">
          <td
            colspan="3 "
            [style.border-bottom-right-radius]="
              itemIndex === vatData.length - 1 ? '16px' : '0px'
            "
            [style.border-bottom-left-radius]="
              itemIndex === vatData.length - 1 ? '0px' : '0px'
            "
          >
            {{ item.Fbnum }}
          </td>
        </ng-container>

        <ng-container *ngIf="dir !== 'rtl'">
          <td colspan="3 ">{{ item.Fbnum }}</td>
        </ng-container>

        <td colspan="3 ">{{ item.ComplaintNo }}</td>
        <td colspan="3 ">{{ getDate(item.CompDate) }}</td>
        <ng-container *ngIf="dir === 'rtl'">
          <td
            colspan="3 "
            [style.border-bottom-right-radius]="
              itemIndex === vatData.length - 1 ? '0px' : '0px'
            "
            [style.border-bottom-left-radius]="
              itemIndex === vatData.length - 1 ? '16px' : '0px'
            "
          >
            {{ getDate(item.InspDate) }}
          </td>
        </ng-container>

        <ng-container *ngIf="dir !== 'rtl'">
          <td colspan="3 ">{{ getDate(item.InspDate) }}</td>
        </ng-container>
      </tr>
    </table>
  </div>
</div>
<div class="container" *ngIf="fieldDetail" [dir]="dir">
  <div class="row" style="text-align: start">
    <div
      class="col-md-12"
      style="margin-top: 3%"
      [style.margin-right]="dir === 'rtl' ? '-2.5%' : ''"
    >
      <span class="fieldTitle1">
        <span
          (click)="backTo('')"
          [style.margin-left]="dir === 'rtl' ? '-3px' : '-20px'"
          >{{ lang.t4 }}
        </span>
        <mat-icon
          class="backIcon1"
          [style.margin-left]="dir === 'rtl' ? '5px' : ''"
          style="top: 0px; font-size: 16px; font-weight: normal; width: 14px"
          >{{ lang.t7 }}</mat-icon
        >
        <span
          (click)="backTo('001')"
          [style.margin-left]="dir === 'rtl' ? '-3px' : '-1px'"
          >{{ lang.t5 }}
        </span>
        <mat-icon
          class="backIcon1"
          [style.margin-left]="dir === 'rtl' ? '5px' : ''"
          style="top: 0px; font-size: 16px; font-weight: normal; width: 14px"
          >{{ lang.t7 }}</mat-icon
        >
        <span
          (click)="back()"
          [style.margin-left]="dir === 'rtl' ? '-3px' : '-1px'"
          >{{ lang.t1 }}
        </span>
        <mat-icon
          class="backIcon1"
          [style.margin-left]="dir === 'rtl' ? '5px' : ''"
          style="top: 0px; font-size: 16px; font-weight: normal; width: 14px"
          >{{ lang.t7 }}</mat-icon
        >
      </span>
      <span
        class="fieldTitle1"
        [style.margin-left]="dir === 'rtl' ? '-3px' : '-1px'"
        style="color: #151515"
        >{{ lang.t8 }}</span
      >
    </div>
  </div>
</div>
<div class="row mt-3" *ngIf="fieldDetail" [dir]="dir" style="width: 100%">
  <div class="col-md-12">
    <div class="back" (click)="back()" style="cursor: pointer; margin-top: 1%">
      <span class="stepBack col-md-6">
        <img
          src="assets/image/arrow-right-green.svg "
          *ngIf="dir === 'rtl'"
          [style.margin-right]="dir === 'rtl' ? '-3%' : ''"
          class="arrow-left"
        />
        <img
          src="assets/image/arrow-left.svg "
          *ngIf="dir === 'ltr'"
          class="arrow-left"
        />
        <span class="backBtn">{{ lang.t2 }}</span>
        <br />
      </span>
    </div>
  </div>
</div>
<div *ngIf="fieldDetail" [dir]="dir">
  <div class="row" style="text-align: start; margin-top: 2%">
    <div class="col-md-12" style="display: contents">
      <div class="heading" style="font-size: 28px; margin-bottom: 1.5%">
        {{ lang.t1 }}
      </div>
    </div>
  </div>
  <mat-card
    class="mt-3"
    style="text-align: start; width: 66.5%; margin-inline-start: 13%"
  >
    <div class="row mt-2 mb-2">
      <div class="col-md-11" style="display: inherit">
        <div class="cardStyle">
          <img class="imgStyle" src="assets/image/details.svg " />
        </div>
        <div class="headingStyle">{{ lang.t9 }}</div>
      </div>
    </div>
    <mat-divider></mat-divider>

    <div class="row mt-4 mb-4">
      <div class="col-md-6 mt-4">
        <div class="valueHeading">{{ lang.c2.t1 }}</div>
        <div class="values">{{ fieldObj.Fbnum }}</div>
      </div>
      <div class="col-md-6 mt-4">
        <div class="valueHeading">{{ lang.c2.t2 }}</div>
        <div class="values">{{ getDate(fieldObj.InspDate) }}</div>
      </div>
    </div>
    <mat-divider></mat-divider>

    <div class="row mt-4 mb-4">
      <div class="col-md-6 mt-4">
        <div class="valueHeading">{{ lang.c2.t9 }}</div>
        <div class="values">{{ fieldObj.Compnm }}</div>
      </div>
      <div class="col-md-6 mt-4">
        <div class="valueHeading">{{ lang.c2.t10 }}</div>
        <div class="values">{{ fieldObj.Gpart }}</div>
      </div>
    </div>
    <mat-divider></mat-divider>

    <div class="row mt-4 mb-3">
      <div class="col-md-6 mt-4">
        <div class="valueHeading">{{ lang.c2.t11 }}</div>
        <div class="values">{{ fieldObj.Vatno }}</div>
      </div>
      <div class="col-md-6 mt-4">
        <div class="valueHeading">{{ lang.c2.t12 }}</div>
        <div class="values">{{ fieldObj.TaxRep }}</div>
      </div>
    </div>
    <mat-divider></mat-divider>

    <div class="row mt-4 mb-3">
      <div class="col-md-6 mt-4">
        <div class="valueHeading">{{ lang.c2.t3 }}</div>
        <div class="values">{{ fieldObj.CodelabCity }}</div>
      </div>
      <div class="col-md-6 mt-4">
        <div class="valueHeading">{{ lang.c2.t4 }}</div>
        <div class="values">{{ fieldObj.Mncdde }}</div>
      </div>
    </div>
    <mat-divider></mat-divider>

    <div class="row mt-4 mb-3">
      <div class="col-md-6 mt-4">
        <div class="valueHeading">{{ lang.c2.t5 }}</div>
        <div class="values">{{ fieldObj.CodelabArea }}</div>
      </div>
      <div class="col-md-6 mt-4">
        <div class="valueHeading">{{ lang.c2.t6 }}</div>
        <div class="values">{{ fieldObj.Sbcdde }}</div>
      </div>
    </div>
    <mat-divider></mat-divider>

    <div class="row mt-4 mb-3">
      <div class="col-md-6 mt-4">
        <div class="valueHeading">{{ lang.c2.t7 }}</div>
        <div class="values">{{ fieldObj.CodelabStreet }}</div>
      </div>
      <div class="col-md-6 mt-4">
        <div class="valueHeading">{{ lang.c2.t8 }}</div>
        <div class="values">{{ numberWithCommas(fieldObj.Betrh) }}</div>
      </div>
    </div>
  </mat-card>
</div>
